{
  "version": 3,
  "sources": ["<stdin>"],
  "sourcesContent": ["// TODO: better event handler api e.g. onChange(value) - not event - etc\r\n\r\nexport default function page() {\r\n  const todos = view.state([\r\n    { id: 1, title: \"Todo 1\", completed: false },\r\n    { id: 2, title: \"Todo 2\", completed: true },\r\n  ]);\r\n  const query = view.state({ search: \"\", filter: \"all\" });\r\n\r\n  const filteredTodos = view.state(() => {\r\n    const filtered = todos.value.filter((todo) => {\r\n      if (query.value.filter === \"all\") return true;\r\n      if (query.value.filter === \"completed\") return todo.completed;\r\n      if (query.value.filter === \"active\") return !todo.completed;\r\n      return false;\r\n    });\r\n    if (!query.value.search) return filtered;\r\n    const searched = filtered.filter((todo) => {\r\n      const search = query.value.search.toLowerCase().trim();\r\n      const title = todo.title.toLowerCase().trim();\r\n      const keywords = title.split(\" \");\r\n      return (\r\n        keywords.some((part) => part.startsWith(search)) || title === search\r\n      );\r\n    });\r\n    return searched;\r\n  });\r\n\r\n  const title = view.state(\"\");\r\n  const onTitle = (event) => {\r\n    title.value = event.target.value;\r\n  };\r\n  const onSubmit = () => {\r\n    todos.value.push({ title: title.value, completed: false });\r\n    title.value = \"\";\r\n  };\r\n\r\n  const onSearch = (event) => {\r\n    query.value.search = event.target.value;\r\n  };\r\n\r\n  return (\r\n    <area>\r\n      <text-field\r\n        label='Add todo'\r\n        placeholder='Add todo'\r\n        value={title.value}\r\n        onInput={onTitle}\r\n        onSubmit={onSubmit}\r\n      />\r\n      <text-field\r\n        label='Search'\r\n        placeholder='Search'\r\n        value={query.value.search}\r\n        onInput={onSearch}\r\n      />\r\n      <list>\r\n        <iteration\r\n          value={filteredTodos}\r\n          render={(todo) => <todo-item todo={todo} />}\r\n        />\r\n      </list>\r\n    </area>\r\n  );\r\n}\r\n"],
  "mappings": "AAEA,wBAAwBA,GAAO,CAC7B,MAAMC,EAAQ,uBAAK,MAAM,CACvB,CAAE,GAAI,EAAG,MAAO,SAAU,UAAW,EAAM,EAC3C,CAAE,GAAI,EAAG,MAAO,SAAU,UAAW,EAAK,CAC5C,CAAC,EACKC,EAAQ,uBAAK,MAAM,CAAE,OAAQ,GAAI,OAAQ,KAAM,CAAC,EAEhDC,EAAgB,uBAAK,MAAM,IAAM,CACrC,MAAMC,EAAWH,EAAM,MAAM,OAAQI,GAC/BH,EAAM,MAAM,SAAW,MAAc,GACrCA,EAAM,MAAM,SAAW,YAAoBG,EAAK,UAChDH,EAAM,MAAM,SAAW,SAAiB,CAACG,EAAK,UAC3C,EACR,EACD,OAAKH,EAAM,MAAM,OACAE,EAAS,OAAQC,GAAS,CACzC,MAAMC,EAASJ,EAAM,MAAM,OAAO,YAAY,EAAE,KAAK,EAC/CK,EAAQF,EAAK,MAAM,YAAY,EAAE,KAAK,EAE5C,OADiBE,EAAM,MAAM,GAAG,EAErB,KAAMC,GAASA,EAAK,WAAWF,CAAM,CAAC,GAAKC,IAAUD,CAElE,CAAC,EAR+BF,CAUlC,CAAC,EAEKG,EAAQ,uBAAK,MAAM,EAAE,EACrBE,EAAWC,GAAU,CACzBH,EAAM,MAAQG,EAAM,OAAO,KAC7B,EACMC,EAAW,IAAM,CACrBV,EAAM,MAAM,KAAK,CAAE,MAAOM,EAAM,MAAO,UAAW,EAAM,CAAC,EACzDA,EAAM,MAAQ,EAChB,EAEMK,EAAYF,GAAU,CAC1BR,EAAM,MAAM,OAASQ,EAAM,OAAO,KACpC,EAEA,OACE,uCAAC,YACC,uCAAC,cACC,MAAM,WACN,YAAY,WACZ,MAAOH,EAAM,MACb,QAASE,EACT,SAAUE,EACZ,EACA,uCAAC,cACC,MAAM,SACN,YAAY,SACZ,MAAOT,EAAM,MAAM,OACnB,QAASU,EACX,EACA,uCAAC,YACC,uCAAC,aACC,MAAOT,EACP,OAASE,GAAS,uCAAC,aAAU,KAAMA,EAAM,EAC3C,CACF,CACF,CAEJ",
  "names": ["page", "todos", "query", "filteredTodos", "filtered", "todo", "search", "title", "part", "onTitle", "event", "onSubmit", "onSearch"]
}
