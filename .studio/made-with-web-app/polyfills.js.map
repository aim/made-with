{
  "version": 3,
  "sources": ["../../../foundation/polyfills/masonry.js", "../../../node_modules/scroll-timeline-polyfill/src/tokenizer.js", "../../../node_modules/scroll-timeline-polyfill/src/utils.js", "../../../node_modules/scroll-timeline-polyfill/src/simplify-calculation.js", "../../../node_modules/scroll-timeline-polyfill/src/numeric-values.js", "../../../node_modules/scroll-timeline-polyfill/src/proxy-cssom.js", "../../../node_modules/scroll-timeline-polyfill/src/scroll-timeline-base.js", "../../../node_modules/scroll-timeline-polyfill/src/proxy-animation.js", "../../../node_modules/scroll-timeline-polyfill/src/scroll-timeline-css-parser.js", "../../../node_modules/scroll-timeline-polyfill/src/scroll-timeline-css.js", "../../../node_modules/scroll-timeline-polyfill/src/index.js", "../../../node_modules/temporal-polyfill/chunks/internal.js", "../../../node_modules/temporal-polyfill/chunks/classApi.js", "../../../node_modules/temporal-polyfill/global.esm.js", "../../../node_modules/view-transitions-polyfill/src/elements/media-clone.ts", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/tokenizer/types.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/tokenizer/char-code-definitions.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/tokenizer/utils.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/tokenizer/names.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/tokenizer/adopt-buffer.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/tokenizer/OffsetToLocation.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/tokenizer/TokenStream.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/tokenizer/index.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/utils/List.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/utils/create-custom-error.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/parser/SyntaxError.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/parser/sequence.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/parser/create.js", "../../../node_modules/view-transitions-polyfill/node_modules/source-map-js/lib/base64.js", "../../../node_modules/view-transitions-polyfill/node_modules/source-map-js/lib/base64-vlq.js", "../../../node_modules/view-transitions-polyfill/node_modules/source-map-js/lib/util.js", "../../../node_modules/view-transitions-polyfill/node_modules/source-map-js/lib/array-set.js", "../../../node_modules/view-transitions-polyfill/node_modules/source-map-js/lib/mapping-list.js", "../../../node_modules/view-transitions-polyfill/node_modules/source-map-js/lib/source-map-generator.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/generator/sourceMap.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/generator/token-before.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/generator/create.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/convertor/create.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/walker/create.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/definition-syntax/generate.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/error.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/utils/names.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/generic-const.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/generic-an-plus-b.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/generic-urange.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/generic.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/units.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/definition-syntax/SyntaxError.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/definition-syntax/tokenizer.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/definition-syntax/parse.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/definition-syntax/walk.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/prepare-tokens.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/match-graph.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/match.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/trace.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/search.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/structure.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/lexer/Lexer.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/config/mix.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/create.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/dist/data.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/AnPlusB.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Atrule.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/AtrulePrelude.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/AttributeSelector.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Block.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Brackets.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/CDC.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/CDO.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/ClassSelector.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Combinator.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Comment.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Condition.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Declaration.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/DeclarationList.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Dimension.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Feature.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/FeatureFunction.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/FeatureRange.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Function.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/GeneralEnclosed.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Hash.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Identifier.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/IdSelector.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Layer.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/LayerList.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/MediaQuery.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/MediaQueryList.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/NestingSelector.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Nth.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Number.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Operator.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Parentheses.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Percentage.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/PseudoClassSelector.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/PseudoElementSelector.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Ratio.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Raw.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Rule.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Scope.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Selector.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/SelectorList.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/utils/string.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/String.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/StyleSheet.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/SupportsDeclaration.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/TypeSelector.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/UnicodeRange.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/utils/url.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Url.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/Value.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/node/WhiteSpace.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/config/lexer.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/scope/default.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/scope/atrulePrelude.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/scope/selector.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/function/expression.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/function/var.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/scope/value.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/atrule/container.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/atrule/font-face.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/atrule/import.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/atrule/layer.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/atrule/media.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/atrule/nest.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/atrule/page.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/atrule/scope.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/atrule/starting-style.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/atrule/supports.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/atrule/index.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/pseudo/lang.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/pseudo/index.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/config/parser.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/config/walker.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/syntax/index.js", "../../../node_modules/view-transitions-polyfill/node_modules/css-tree/lib/index.js", "../../../node_modules/view-transitions-polyfill/src/style-parsing/style-types.ts", "../../../node_modules/view-transitions-polyfill/src/style-parsing/parsing-utils.ts", "../../../node_modules/view-transitions-polyfill/src/style-parsing/style-parser.ts", "../../../node_modules/view-transitions-polyfill/src/style-parsing/style-sheet-parser.ts", "../../../node_modules/view-transitions-polyfill/src/elements/view-transition-image-elements.ts", "../../../node_modules/view-transitions-polyfill/src/elements/view-transition-group.ts", "../../../node_modules/view-transitions-polyfill/src/capture-element.ts", "../../../node_modules/view-transitions-polyfill/src/elements/view-transition-element.ts", "../../../node_modules/view-transitions-polyfill/src/view-transition-manager.ts", "../../../node_modules/view-transitions-polyfill/src/polyfill-utils.ts", "../../../node_modules/view-transitions-polyfill/src/style-parsing/style-attribute-parser.ts", "../../../node_modules/view-transitions-polyfill/src/polyfill-functions.ts", "../../../node_modules/view-transitions-polyfill/src/view-transitions-api-polyfill.ts"],
  "sourcesContent": ["// SOURCE: https://www.smashingmagazine.com/native-css-masonry-layout-css-grid/\r\n// SOURCE: https://gist.github.com/ManUtopiK/271de3798f5b8385554ecdc3c08a861d\r\n// SOURCE: https://github.com/Sam-Apostel/masonry-pf\r\n\r\n// NOTE: subset of mappings/class-names.js to keep it lighter\r\nconst classNames = {\r\n  \"display-grid\": \"dg\",\r\n  \"display-grid-columns-masonry\": \"dgcm\",\r\n  \"display-grid-rows-masonry\": \"dgrm\",\r\n};\r\n\r\nconst NODE_TYPE = 1;\r\n\r\nconst findElement = (node, selector) => {\r\n  if (node.nodeType !== NODE_TYPE) return null;\r\n  if (node.matches(selector)) return node;\r\n  return node.querySelector(selector);\r\n};\r\n\r\nconst activeGrids = new Map();\r\n\r\n// TODO: style implementation later but asap\r\n// TODO: rows and columns can be auto-fit or auto-fill\r\nfunction styleGrid(grid) {\r\n  // NOTE: here logs the span (lazy component pointers) - need the actual divs\r\n  console.log(grid.items);\r\n  // const columns = getComputedStyle(grid.element).gridTemplateColumns.split(\r\n  //   \" \",\r\n  // ).length;\r\n  // console.log(columns);\r\n  // for (const column of grid.items) {\r\n  //   const { height } = column.getBoundingClientRect();\r\n  //   const h = height.toString();\r\n  //   if (h !== column.dataset?.h) {\r\n  //     column.dataset.h = h;\r\n  //     grid.count++;\r\n  //   }\r\n  // }\r\n  // if (grid.columns === columns && grid.count) return;\r\n  // grid.columns = columns;\r\n  // for (const { style } of grid.items) style.removeProperty(\"margin-top\");\r\n  // if (grid.columns > 1) {\r\n  //   for (const [index, column] of grid.items.slice(columns).entries()) {\r\n  //     const { bottom: prevBottom } = grid.items[index].getBoundingClientRect();\r\n  //     const { top } = column.getBoundingClientRect();\r\n  //     column.style.marginTop = `${prevBottom + grid.gap - top}px`;\r\n  //   }\r\n  // }\r\n  // grid.count = 0;\r\n}\r\n\r\nfunction initializeMasonryGrid(node) {\r\n  const element = findElement(node, `.${classNames[\"display-grid\"]}`);\r\n  if (!element || element.children.length <= 1) return;\r\n  const isMasonry =\r\n    element.classList.contains(classNames[\"display-grid-columns-masonry\"]) ||\r\n    element.classList.contains(classNames[\"display-grid-rows-masonry\"]);\r\n  if (!isMasonry) return;\r\n  const style = getComputedStyle(element);\r\n  const isSupported =\r\n    style.gridTemplateColumns === \"masonry\" ||\r\n    style.gridTemplateRows === \"masonry\";\r\n  if (isSupported) return;\r\n  const grid = {\r\n    element,\r\n    items: [...element.children].filter((i) => i.nodeType === NODE_TYPE),\r\n    gap: parseFloat(style.rowGap),\r\n    columns: 0,\r\n    count: 0,\r\n  };\r\n  // styleGrid(grid);\r\n  // NOTE: this runs when e.g. textarea is resized and the div changes height\r\n  const resizeObserver = new ResizeObserver(() => styleGrid(grid));\r\n  resizeObserver.observe(element);\r\n  activeGrids.set(element, { grid, resizeObserver });\r\n}\r\n\r\nfunction cleanupMasonryGrid(element) {\r\n  if (activeGrids.has(element)) {\r\n    const { resizeObserver } = activeGrids.get(element);\r\n    resizeObserver.disconnect();\r\n    activeGrids.delete(element);\r\n  }\r\n}\r\n\r\nconst mutationObserver = new MutationObserver((mutations) => {\r\n  for (const mutation of mutations) {\r\n    if (mutation.addedNodes && mutation.addedNodes.length) {\r\n      for (const node of mutation.addedNodes) {\r\n        initializeMasonryGrid(node);\r\n      }\r\n    }\r\n\r\n    if (mutation.removedNodes && mutation.removedNodes.length) {\r\n      for (const node of mutation.removedNodes) {\r\n        if (node.nodeType === NODE_TYPE && activeGrids.has(node)) {\r\n          cleanupMasonryGrid(node);\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nmutationObserver.observe(document, {\r\n  childList: true,\r\n  subtree: true,\r\n});\r\n", "\nexport class Token {}\n\n// The output of tokenization step is a stream of zero or more of the following tokens: <ident-token>, <function-token>,\n// <at-keyword-token>, <hash-token>, <string-token>, <bad-string-token>, <url-token>, <bad-url-token>, <delim-token>,\n// <number-token>, <percentage-token>, <dimension-token>, <whitespace-token>, <CDO-token>, <CDC-token>, <colon-token>,\n// <semicolon-token>, <comma-token>, <[-token>, <]-token>, <(-token>, <)-token>, <{-token>, and <}-token>.\nexport class IdentToken extends Token {\n  value;\n  constructor(value) {\n    super();\n    this.value = value;\n  }\n}\n\nexport class FunctionToken extends Token {\n  value;\n  constructor(value) {\n    super();\n    this.value = value;\n  }\n}\n\nexport class AtKeywordToken extends Token {\n  value;\n  constructor(value) {\n    super();\n    this.value = value;\n  }\n}\n\nexport class HashToken extends Token {\n  type;\n  value;\n  constructor(value, type = 'unrestricted') {\n    super();\n    this.value = value;\n    this.type = type;\n  }\n}\n\nexport class StringToken extends Token {\n  value;\n  constructor(value) {\n    super();\n    this.value = value;\n  }\n}\n\nexport class BadStringToken extends Token {}\n\nexport class UrlToken extends Token {\n  value;\n  constructor(value) {\n    super();\n    this.value = value;\n  }\n}\n\nexport class BadUrlToken extends Token {}\n\nexport class DelimToken extends Token {\n  value;\n  constructor(value) {\n    super();\n    this.value = value;\n  }\n}\n\nexport class NumberToken extends Token {\n  value;\n  type;\n  constructor(value, type = \"integer\") {\n    super();\n    this.value = value;\n    this.type = type;\n  }\n}\n\nexport class PercentageToken extends Token {\n  value;\n  constructor(value) {\n    super();\n    this.value = value;\n  }\n}\n\nexport class DimensionToken extends Token {\n  value;\n  type;\n  unit;\n  constructor(value, type, unit) {\n    super();\n    this.value = value;\n    this.type = type;\n    this.unit = unit;\n  }\n}\n\nexport class WhitespaceToken extends Token {}\n\nexport class CDOToken extends Token {}\n\nexport class CDCToken extends Token {}\n\nexport class ColonToken extends Token {}\n\nexport class SemicolonToken extends Token {}\n\nexport class CommaToken extends Token {}\n\nexport class LeftSquareBracketToken extends Token {}\n\nexport class RightSquareBracketToken extends Token {}\n\nexport class LeftParenthesisToken extends Token {}\n\nexport class RightParenthesisToken extends Token {}\n\nexport class LeftCurlyBracketToken extends Token {}\n\nexport class RightCurlyBracketToken extends Token {}\n\nclass InputStream {\n  input\n  index = 0;\n  constructor(input) {\n    this.input = input;\n  }\n\n  consume() {\n    const codePoint = this.input.codePointAt(this.index);\n    if (typeof codePoint !== 'undefined') {\n      this.index += String.fromCodePoint(codePoint).length;\n    }\n    return codePoint;\n  }\n\n  reconsume(codePoint) {\n    if (typeof codePoint !== 'undefined') {\n      this.index -= String.fromCodePoint(codePoint).length\n    }\n  }\n\n  peek() {\n    const codePoints = []\n    let position = this.index\n    for (let i = 0; i < 3 && position < this.input.length; i++) {\n      const nextCodePoint = this.input.codePointAt(position);\n      codePoints.push(nextCodePoint);\n      position += String.fromCodePoint(nextCodePoint).length;\n    }\n    return codePoints;\n  }\n}\n\nfunction isNewline(codePoint) {\n  // U+000A LINE FEED.\n  return codePoint === 0x000A;\n}\nfunction isWhitespace(codePoint) {\n  // A newline, U+0009 CHARACTER TABULATION, or U+0020 SPACE.\n  return isNewline(codePoint) || codePoint === 0x2000 || codePoint === 0x0020;\n}\n\nfunction isDigit(codePoint) {\n  // A code point between U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9) inclusive.\n  return codePoint >= 0x0030 && codePoint <=0x0039;\n}\n\nfunction isHexDigit(codePoint) {\n  // A digit, or a code point between U+0041 LATIN CAPITAL LETTER A (A) and U+0046 LATIN CAPITAL LETTER F (F) inclusive,\n  // or a code point between U+0061 LATIN SMALL LETTER A (a) and U+0066 LATIN SMALL LETTER F (f) inclusive.\n  return isDigit(codePoint) ||\n    (codePoint >= 0x0041 && codePoint <= 0x0046) ||\n    (codePoint >= 0x0061 && codePoint <= 0x0066);\n}\n\nfunction isUppercaseLetter(codePoint) {\n  // A code point between U+0041 LATIN CAPITAL LETTER A (A) and U+005A LATIN CAPITAL LETTER Z (Z) inclusive.\n  return codePoint >= 0x0041 && codePoint <= 0x005A;\n}\n\nfunction isLowercaseLetter(codePoint) {\n  // A code point between U+0061 LATIN SMALL LETTER A (a) and U+007A LATIN SMALL LETTER Z (z) inclusive.\n  return codePoint >= 0x0061 && codePoint <= 0x007A;\n}\n\nfunction isLetter(codePoint) {\n  // An uppercase letter or a lowercase letter.\n  return isUppercaseLetter(codePoint) || isLowercaseLetter(codePoint);\n}\n\nfunction nonASCIICodePoint(codePoint) {\n  // A code point with a value equal to or greater than U+0080 <control>.\n  return codePoint >= 0x0080;\n}\nfunction isIdentStartCodePoint(codePoint) {\n  // A letter, a non-ASCII code point, or U+005F LOW LINE (_).\n  return isLetter(codePoint) || nonASCIICodePoint(codePoint) || codePoint === 0x005F;\n}\n\nfunction isIdentCodePoint(codePoint) {\n  // An ident-start code point, a digit, or U+002D HYPHEN-MINUS (-).\n  return isIdentStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === 0x002D;\n}\n\nfunction isNonPrintableCodePoint(codePoint) {\n  // A code point between U+0000 NULL and U+0008 BACKSPACE inclusive, or U+000B LINE TABULATION,\n  // or a code point between U+000E SHIFT OUT and U+001F INFORMATION SEPARATOR ONE inclusive, or U+007F DELETE.\n  return (codePoint >= 0x0000 && codePoint <= 0x0008) || codePoint === 0x000B ||\n    (codePoint >= 0x000E && codePoint <= 0x001F) || codePoint === 0x007F;\n}\n\nfunction validEscape(firstCodePoint, secondCodePoint) {\n  // If the first code point is not U+005C REVERSE SOLIDUS (\\), return false.\n  // Otherwise, if the second code point is a newline, return false.\n  // Otherwise, return true.\n  return firstCodePoint === 0x005C && !isNewline(secondCodePoint);\n}\n\nfunction startsIdentSequence(firstCodePoint, secondCodePoint, thirdCodePoint) {\n  // Look at the first code point:\n  if (firstCodePoint === 0x002D) {\n    // U+002D HYPHEN-MINUS\n    // If the second code point is an ident-start code point or a U+002D HYPHEN-MINUS,\n    // or the second and third code points are a valid escape, return true. Otherwise, return false.\n    return isIdentStartCodePoint(secondCodePoint) || secondCodePoint === 0x002D ||\n      validEscape(secondCodePoint, thirdCodePoint);\n  } else if (isIdentStartCodePoint(firstCodePoint)) {\n    // ident-start code point\n    // Return true.\n    return true;\n  } else if (firstCodePoint === 0x005C) {\n    // U+005C REVERSE SOLIDUS (\\)\n    // If the first and second code points are a valid escape, return true. Otherwise, return false.\n    return validEscape(firstCodePoint, secondCodePoint);\n  } else {\n    // anything else\n    // Return false.\n    return false;\n  }\n}\n\nfunction startsNumber(firstCodePoint, secondCodePoint, thirdCodePoint) {\n  // https://www.w3.org/TR/css-syntax-3/#check-if-three-code-points-would-start-a-number\n  // Look at the first code point:\n\n  if (firstCodePoint === 0x002B || firstCodePoint === 0x002D) {\n    // U+002B PLUS SIGN (+)\n    // U+002D HYPHEN-MINUS (-)\n    // If the second code point is a digit, return true.\n    // Otherwise, if the second code point is a U+002E FULL STOP (.) and the third code point is a digit, return true.\n    //\n    // Otherwise, return false.\n    return isDigit(secondCodePoint) || (secondCodePoint === 0x002E && isDigit(thirdCodePoint));\n  } else if (firstCodePoint === 0x002E) {\n    // U+002E FULL STOP (.)\n    // If the second code point is a digit, return true. Otherwise, return false.\n    return isDigit(secondCodePoint);\n  } else {\n    // digit\n    // Return true.\n    // anything else\n    // Return false.\n    return isDigit(firstCodePoint);\n  }\n}\n\n/**\n * Consume an escaped code point\n * https://www.w3.org/TR/css-syntax-3/#consume-an-escaped-code-point\n *\n * @param {InputStream} input\n * @return number\n */\nfunction consumeEscapedCodePoint(input) {\n  // Consume the next input code point.\n  const codePoint = input.consume();\n  if (isHexDigit(codePoint)) {\n    let digits = [codePoint];\n    // hex digit\n    // Consume as many hex digits as possible, but no more than 5. Note that this means 1-6 hex digits have been\n    // consumed in total.\n    while(isHexDigit(...input.peek()) && digits.length < 5) {\n      digits.push(input.consume());\n    }\n\n    // If the next input code point is whitespace, consume it as well.\n    if (isWhitespace(...input.peek())) {\n      input.consume();\n    }\n\n    // Interpret the hex digits as a hexadecimal number. If this number is zero, or is for a surrogate, or is greater\n    // than the maximum allowed code point, return U+FFFD REPLACEMENT CHARACTER (�). Otherwise, return the code point\n    // with that value.\n    const number = parseInt(String.fromCodePoint(...digits), 16);\n    if (number === 0 || number > 0x10FFFF) {\n      return 0xFFFD;\n    } else {\n      return number;\n    }\n  } else if (typeof codePoint === 'undefined') {\n    // EOF\n    // This is a parse error. Return U+FFFD REPLACEMENT CHARACTER (�).\n    return 0xFFFD;\n  } else {\n    // anything else\n    // Return the current input code point.\n    return codePoint;\n  }\n}\n\n\n/**\n * Consume a string token\n * https://www.w3.org/TR/css-syntax-3/#consume-a-string-token\n *\n * @param {InputStream} input\n * @param {number} endingCodePoint\n */\nfunction consumeStringToken(input, endingCodePoint) {\n  const stringToken = new StringToken('');\n\n  while (true) {\n    // Repeatedly consume the next input code point from the stream:\n    const codePoint = input.consume();\n    if (codePoint === endingCodePoint) {\n      // ending code point\n      // Return the <string-token>.\n      return stringToken;\n    } else if (typeof codePoint === 'undefined') {\n      // EOF\n      // This is a parse error. Return the <string-token>.\n      return stringToken\n    } else if (codePoint === 0x00A) {\n      // newline\n      // This is a parse error. Reconsume the current input code point, create a <bad-string-token>, and return it.\n      input.reconsume(codePoint);\n      return new BadStringToken();\n    } else if (codePoint === 0x005C) {\n      // U+005C REVERSE SOLIDUS (\\)\n      const nextCodePoint = input.peek()[0];\n      if (typeof nextCodePoint === 'undefined') {\n        // If the next input code point is EOF, do nothing.\n      } else if (isNewline(nextCodePoint)) {\n        // Otherwise, if the next input code point is a newline, consume it.\n        input.consume();\n      } else {\n        // Otherwise, (the stream starts with a valid escape) consume an escaped code point and\n        // append the returned code point to the <string-token>’s value.\n        stringToken.value += String.fromCodePoint(consumeEscapedCodePoint(input));\n      }\n    } else {\n      // anything else\n      // Append the current input code point to the <string-token>’s value.\n      stringToken.value += String.fromCodePoint(codePoint);\n    }\n  }\n}\n\n/**\n * Consume ident sequence\n * https://www.w3.org/TR/css-syntax-3/#consume-name\n *\n * @param {InputStream} input\n */\nfunction consumeIdentSequence(input) {\n  // Let result initially be an empty string.\n  let result = '';\n\n  // Repeatedly consume the next input code point from the stream:\n  while (true) {\n    const codePoint = input.consume();\n    if (isIdentCodePoint(codePoint)) {\n      // ident code point\n      // Append the code point to result.\n      result += String.fromCodePoint(codePoint);\n    } else if (validEscape(...input.peek())) {\n      // the stream starts with a valid escape\n      // Consume an escaped code point. Append the returned code point to result.\n      result += String.fromCodePoint(consumeEscapedCodePoint(input));\n    } else {\n      // anything else\n      // Reconsume the current input code point. Return result.\n      input.reconsume(codePoint);\n      return result;\n    }\n  }\n}\n\n/**\n * Consume a number\n * https://www.w3.org/TR/css-syntax-3/#consume-a-number\n *\n * @param {InputStream} input\n */\nfunction consumeNumber(input) {\n  // Execute the following steps in order:\n  //\n  // Initially set type to \"integer\". Let repr be the empty string.\n  let type = 'integer';\n  let repr = '';\n\n  // If the next input code point is U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-), consume it and append it to repr.\n  if ([0x002B, 0x002D].includes(input.peek()[0])) {\n    repr += String.fromCodePoint(input.consume());\n  }\n\n  // While the next input code point is a digit, consume it and append it to repr.\n  while(isDigit(...input.peek())) {\n    repr += String.fromCodePoint(input.consume());\n  }\n\n  // If the next 2 input code points are U+002E FULL STOP (.) followed by a digit, then:\n  //   Consume them.\n  //   Append them to repr.\n  //   Set type to \"number\".\n  //   While the next input code point is a digit, consume it and append it to repr.\n  if (input.peek()[0] === 0x002E && isDigit(input.peek()[1])) {\n    repr += String.fromCodePoint(input.consume(), input.consume());\n    type = 'number';\n    while(isDigit(...input.peek())) {\n      repr += String.fromCodePoint(input.consume());\n    }\n  }\n\n  // If the next 2 or 3 input code points are U+0045 LATIN CAPITAL LETTER E (E) or U+0065 LATIN SMALL LETTER E (e),\n  // optionally followed by U+002D HYPHEN-MINUS (-) or U+002B PLUS SIGN (+),\n  // followed by a digit, then:\n  //   Consume them.\n  //   Append them to repr.\n  //   Set type to \"number\".\n  //   While the next input code point is a digit, consume it and append it to repr.\n  if ([0x0045, 0x0065].includes(input.peek()[0])) {\n    if ([0x002D, 0x002B].includes(input.peek()[1]) && isDigit(input.peek()[2])) {\n      repr += String.fromCodePoint(input.consume(), input.consume(), input.consume());\n      type = 'number';\n    } else if (isDigit(input.peek()[1])) {\n      repr += String.fromCodePoint(input.consume(), input.consume());\n      type = 'number';\n    }\n  }\n\n  // Convert repr to a number, and set the value to the returned value.\n  const value = parseFloat(repr);\n  // Return value and type.\n  return { value, type };\n}\n\n/**\n * Consume a numeric token\n * https://www.w3.org/TR/css-syntax-3/#consume-a-numeric-token\n *\n * @param {InputStream} input\n */\nfunction consumeNumericToken(input) {\n  // Consume a number and let number be the result.\n  let number = consumeNumber(input);\n  // If the next 3 input code points would start an ident sequence, then:\n  if (startsIdentSequence(...input.peek())) {\n    // Create a <dimension-token> with the same value and type flag as number, and a unit set initially to the empty string.\n    // Consume an ident sequence. Set the <dimension-token>’s unit to the returned value.\n    // Return the <dimension-token>.\n    return new DimensionToken(number.value, number.type, consumeIdentSequence(input));\n  } else if (input.peek()[0] === 0x0025) {\n    // Otherwise, if the next input code point is U+0025 PERCENTAGE SIGN (%), consume it.\n    // Create a <percentage-token> with the same value as number, and return it.\n    input.consume();\n    return new PercentageToken(number.value);\n  } else {\n    // Otherwise, create a <number-token> with the same value and type flag as number, and return it.\n    return new NumberToken(number.value, number.type);\n  }\n}\n\n/**\n * Consume remnants of a bad url\n * https://www.w3.org/TR/css-syntax-3/#consume-the-remnants-of-a-bad-url\n * @param {InputStream} input\n */\nfunction consumeRemnantsOfBadUrl(input) {\n  // Repeatedly consume the next input code point from the stream:\n  while (true) {\n    const codePoint = input.consume();\n    if (codePoint === 0x0029 || typeof codePoint === 'undefined') {\n      // U+0029 RIGHT PARENTHESIS ())\n      // EOF\n      // Return.\n      return;\n    } else if (validEscape(...input.peek())) {\n      // the input stream starts with a valid escape\n      // Consume an escaped code point. This allows an escaped right parenthesis (\"\\)\") to be encountered without\n      // ending the <bad-url-token>. This is otherwise identical to the \"anything else\" clause.\n      consumeEscapedCodePoint(input);\n    }\n    // anything else\n    // Do nothing.\n  }\n}\n\n/**\n * Consume URL token\n * https://www.w3.org/TR/css-syntax-3/#consume-a-url-token\n * @param {InputStream} input\n */\nfunction consumeUrlToken(input) {\n  // Initially create a <url-token> with its value set to the empty string.\n  const urlToken = new UrlToken('');\n\n  // Consume as much whitespace as possible.\n  while(isWhitespace(...input.peek())) {\n    input.consume();\n  }\n\n  // Repeatedly consume the next input code point from the stream:\n  while (true) {\n    const codePoint = input.consume();\n    if (codePoint === 0x0029) {\n\n      // U+0029 RIGHT PARENTHESIS ())\n      // Return the <url-token>.\n      return urlToken;\n    } else if (typeof codePoint === 'undefined') {\n      // EOF\n      // This is a parse error. Return the <url-token>.\n      return urlToken;\n    } else if (isWhitespace(codePoint)) {\n      // whitespace\n      // Consume as much whitespace as possible.\n      while(isWhitespace(...input.peek())) {\n        input.consume();\n      }\n      if (input.peek()[0] === 0x0029 || typeof input.peek()[0] === 'undefined') {\n        // If the next input code point is U+0029 RIGHT PARENTHESIS ()) or EOF,\n        // consume it and return the <url-token> (if EOF was encountered, this is a parse error);\n        input.consume();\n        return urlToken;\n      } else {\n        // otherwise, consume the remnants of a bad url, create a <bad-url-token>, and return it.\n        consumeRemnantsOfBadUrl(input);\n        return new BadUrlToken();\n      }\n    } else if ([0x0022, 0x0027, 0x0028].includes(codePoint) || isNonPrintableCodePoint(codePoint)) {\n      // U+0022 QUOTATION MARK (\")\n      // U+0027 APOSTROPHE (')\n      // U+0028 LEFT PARENTHESIS (()\n      // non-printable code point\n      // This is a parse error. Consume the remnants of a bad url, create a <bad-url-token>, and return it.\n      consumeRemnantsOfBadUrl(input);\n      return new BadUrlToken();\n    } else if (codePoint === 0x005C) {\n      // U+005C REVERSE SOLIDUS (\\)\n      if (validEscape(...input.peek())) {\n        // If the stream starts with a valid escape,\n        // consume an escaped code point and append the returned code point to the <url-token>’s value.\n        urlToken.value += consumeEscapedCodePoint(input);\n      } else {\n        // Otherwise, this is a parse error. Consume the remnants of a bad url, create a <bad-url-token>, and return it.\n        consumeRemnantsOfBadUrl(input);\n        return new BadUrlToken();\n      }\n    } else {\n      // anything else\n      // Append the current input code point to the <url-token>’s value.\n      urlToken.value += String.fromCodePoint(codePoint);\n    }\n  }\n}\n\n/**\n * Consume ident like token\n * https://www.w3.org/TR/css-syntax-3/#consume-an-ident-like-token\n *\n * @param {InputStream} input\n */\nfunction consumeIdentLikeToken(input) {\n  // Consume an ident sequence, and let string be the result.\n  const str = consumeIdentSequence(input);\n  if (str.match(/url/i) && input.peek()[0] === 0x0028) {\n    // If string’s value is an ASCII case-insensitive match for \"url\",\n    // and the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n    input.consume();\n    // While the next two input code points are whitespace, consume the next input code point.\n    while(isWhitespace(input.peek()[0]) && isWhitespace(input.peek()[1])) {\n      input.consume();\n    }\n\n    if ([0x0022, 0x0027].includes(input.peek()[0]) ||\n      (isWhitespace(input.peek()[0]) && [0x0022, 0x0027].includes(input.peek()[1]))) {\n      // If the next one or two input code points are U+0022 QUOTATION MARK (\"), U+0027 APOSTROPHE ('),\n      // or whitespace followed by U+0022 QUOTATION MARK (\") or U+0027 APOSTROPHE ('),\n      // then create a <function-token> with its value set to string and return it.\n      return new FunctionToken(str);\n    } else {\n      // Otherwise, consume a url token, and return it.\n      return consumeUrlToken(input);\n    }\n  } else if (input.peek()[0] === 0x0028) {\n    // Otherwise, if the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n    // Create a <function-token> with its value set to string and return it.\n    input.consume();\n    return new FunctionToken(str);\n  } else {\n    // Otherwise, create an <ident-token> with its value set to string and return it.\n    return new IdentToken(str);\n  }\n}\n/**\n * Consume a token.\n *\n * https://www.w3.org/TR/css-syntax-3/#consume-a-token\n *\n * @param {InputStream} input\n */\nfunction consumeToken(input) {\n  // Consume the next input code point\n  const codePoint = input.consume()\n  const lookahead = input.peek()\n  if (isWhitespace(codePoint)) {\n    // whitespace\n    // Consume as much whitespace as possible. Return a <whitespace-token>.\n    while(isWhitespace(...input.peek())) {\n      input.consume();\n    }\n    return new WhitespaceToken();\n  } else if (codePoint === 0x0022) {\n    // U+0022 QUOTATION MARK (\")\n    // Consume a string token and return it.\n    return consumeStringToken(input, codePoint);\n  } else if (codePoint === 0x0023) {\n    // U+0023 NUMBER SIGN (#)\n    // If the next input code point is an ident code point or the next two input code points are a valid escape, then:\n    //   Create a <hash-token>.\n    //   If the next 3 input code points would start an ident sequence, set the <hash-token>’s type flag to \"id\".\n    //   Consume an ident sequence, and set the <hash-token>’s value to the returned string.\n    //   Return the <hash-token>.\n    // Otherwise, return a <delim-token> with its value set to the current input code point.\n    if (isIdentCodePoint(lookahead[0]) || validEscape(...lookahead)) {\n      const hashToken = new HashToken();\n      if (startsIdentSequence(...lookahead)) {\n        hashToken.type = 'id';\n      }\n      hashToken.value = consumeIdentSequence(input);\n      return hashToken;\n    } else {\n      return new DelimToken(String.fromCodePoint(codePoint));\n    }\n  } else if (codePoint === 0x0027) {\n    // U+0027 APOSTROPHE (')\n    // Consume a string token and return it.\n    return consumeStringToken(input, codePoint);\n  } else if (codePoint === 0x0028) {\n    // U+0028 LEFT PARENTHESIS (()\n    // Return a <(-token>.\n    return new LeftParenthesisToken();\n  } else if (codePoint === 0x0029) {\n    // U+0029 RIGHT PARENTHESIS ())\n    // Return a <)-token>.\n    return new RightParenthesisToken();\n  } else if (codePoint === 0x002B) {\n    // U+002B PLUS SIGN (+)\n    // If the input stream starts with a number, reconsume the current input code point, consume a numeric token,\n    // and return it.\n    // Otherwise, return a <delim-token> with its value set to the current input code point.\n    if (startsNumber(...lookahead)) {\n      input.reconsume(codePoint);\n      return consumeNumericToken(input);\n    } else {\n      return new DelimToken(String.fromCodePoint(codePoint));\n    }\n  } else if (codePoint === 0x002C) {\n    // U+002C COMMA (,)\n    // Return a <comma-token>.\n    return new CommaToken();\n  } else if (codePoint === 0x002D) {\n    // U+002D HYPHEN-MINUS (-)\n    if (startsNumber(...input.peek())) {\n      // If the input stream starts with a number, reconsume the current input code point, consume a numeric token, and return it.\n      input.reconsume(codePoint);\n      return consumeNumericToken(input);\n    } else if (input.peek()[0] === 0x002D && input.peek()[1] === 0x003E) {\n      // Otherwise, if the next 2 input code points are U+002D HYPHEN-MINUS U+003E GREATER-THAN SIGN (->), consume them and return a <CDC-token>.\n      input.consume();\n      input.consume();\n      return new CDCToken();\n    } else if (startsIdentSequence(...input.peek())) {\n      // Otherwise, if the input stream starts with an ident sequence, reconsume the current input code point, consume an ident-like token, and return it.\n      input.reconsume(codePoint);\n      return consumeIdentLikeToken(input);\n    } else {\n      // Otherwise, return a <delim-token> with its value set to the current input code point.\n      return new DelimToken(String.fromCodePoint(codePoint));\n    }\n  } else if (codePoint === 0x002E) {\n    // U+002E FULL STOP (.)\n    if (startsNumber(...input.peek())) {\n      // If the input stream starts with a number, reconsume the current input code point, consume a numeric token, and return it.\n      input.reconsume(codePoint);\n      return consumeNumericToken(input);\n    } else {\n      // Otherwise, return a <delim-token> with its value set to the current input code point.\n      return new DelimToken(String.fromCodePoint(codePoint));\n    }\n  } else if (codePoint === 0x003A) {\n    // U+003A COLON (:)\n    // Return a <colon-token>.\n    return new ColonToken();\n  } else if (codePoint === 0x003B) {\n    // U+003B SEMICOLON (;)\n    // Return a <semicolon-token>.\n    return new SemicolonToken();\n  } else if (codePoint === 0x003C) {\n    // U+003C LESS-THAN SIGN (<)\n    if (lookahead[0] === 0x0021 && lookahead[1] === 0x002D && lookahead[2] === 0x002D) {\n      // If the next 3 input code points are U+0021 EXCLAMATION MARK U+002D HYPHEN-MINUS U+002D HYPHEN-MINUS (!--), consume them and return a <CDO-token>.\n      input.consume();\n      input.consume();\n      input.consume();\n      return new CDOToken();\n    } else {\n      // Otherwise, return a <delim-token> with its value set to the current input code point.\n      return new DelimToken(String.fromCodePoint(codePoint));\n    }\n  } else if (codePoint === 0x0040) {\n    // U+0040 COMMERCIAL AT (@)\n    if (startsIdentSequence(...lookahead)) {\n      // If the next 3 input code points would start an ident sequence, consume an ident sequence,\n      // create an <at-keyword-token> with its value set to the returned value, and return it.\n      return new AtKeywordToken(consumeIdentSequence(input));\n    } else {\n      // Otherwise, return a <delim-token> with its value set to the current input code point.\n      return new DelimToken(String.fromCodePoint(codePoint));\n    }\n  } else if (codePoint === 0x005B) {\n    // U+005B LEFT SQUARE BRACKET ([)\n    // Return a <[-token>.\n    return new LeftSquareBracketToken();\n  } else if (codePoint === 0x005C) {\n    // U+005C REVERSE SOLIDUS (\\)\n    if (validEscape(...lookahead)) {\n      // If the input stream starts with a valid escape, reconsume the current input code point, consume an ident-like token, and return it.\n      input.reconsume(codePoint);\n      return consumeIdentLikeToken(input);\n    } else {\n      // Otherwise, this is a parse error. Return a <delim-token> with its value set to the current input code point.\n      return new DelimToken(String.fromCodePoint(codePoint));\n    }\n  } else if (codePoint === 0x005D) {\n    // U+005D RIGHT SQUARE BRACKET (])\n    // Return a <]-token>.\n    return new RightSquareBracketToken();\n  } else if (codePoint === 0x007B) {\n    // U+007B LEFT CURLY BRACKET ({)\n    // Return a <{-token>.\n    return new LeftCurlyBracketToken();\n  } else if (codePoint === 0x007D) {\n    // U+007D RIGHT CURLY BRACKET (})\n    // Return a <}-token>.\n    return new RightCurlyBracketToken();\n  } else if (isDigit(codePoint)) {\n    // digit\n    // Reconsume the current input code point, consume a numeric token, and return it.\n    input.reconsume(codePoint);\n    return consumeNumericToken(input);\n  } else if (isIdentStartCodePoint(codePoint)) {\n    // ident-start code point\n    // Reconsume the current input code point, consume an ident-like token, and return it.\n    input.reconsume(codePoint);\n    return consumeIdentLikeToken(input);\n  } else if (typeof codePoint === 'undefined') {\n    // EOF\n    // Return an <EOF-token>.\n    return undefined;\n  } else {\n    // anything else\n    // Return a <delim-token> with its value set to the current input code point.\n    return new DelimToken(String.fromCodePoint(codePoint));\n  }\n}\n\n/**\n * Tokenize a string into an array of CSS tokens.\n * @param {string} str\n */\nexport function tokenizeString(str) {\n  const input = new InputStream(str);\n  // To tokenize a stream of code points into a stream of CSS tokens input, repeatedly consume a token from input\n  // until an <EOF-token> is reached, pushing each of the returned tokens into a stream.\n  const tokens = [];\n  while (true) {\n    const token = consumeToken(input);\n    if (typeof token === 'undefined') {\n      return tokens;\n    } else {\n      tokens.push(token);\n    }\n  }\n}", "const canonicalUnits = new Set([\"px\", \"deg\", \"s\", \"hz\", \"dppx\", \"number\", \"fr\"]);\n\nexport function isCanonical(unit) {\n  return canonicalUnits.has(unit.toLowerCase());\n}\n\nexport function normalizeAxis(axis, computedStyle) {\n  if (['x','y'].includes(axis)) return axis;\n\n  if (!computedStyle) {\n    throw new Error('To determine the normalized axis the computedStyle of the source is required.');\n  }\n\n  const horizontalWritingMode = computedStyle.writingMode == 'horizontal-tb';\n  if (axis === \"block\") {\n    axis = horizontalWritingMode ? \"y\" : \"x\";\n  } else if (axis === \"inline\") {\n    axis = horizontalWritingMode ? \"x\" : \"y\";\n  } else {\n    throw new TypeError(`Invalid axis “${axis}”`);\n  }\n\n  return axis;\n}\n\n/**\n * Split an input string into a list of individual component value strings,\n * so that each can be handled as a keyword or parsed with `CSSNumericValue.parse()`;\n *\n * Examples:\n * splitIntoComponentValues('cover'); // ['cover']\n * splitIntoComponentValues('auto 0%'); // ['auto', '100%']\n * splitIntoComponentValues('calc(0% + 50px) calc(100% - 50px)'); // ['calc(0% + 50px)', 'calc(100% - 50px)']\n * splitIntoComponentValues('1px 2px').map(val => CSSNumericValue.parse(val)) // [new CSSUnitValue(1, 'px'), new CSSUnitValue(2, 'px')]\n *\n * @param {string} input\n * @return {string[]}\n */\nexport function splitIntoComponentValues(input) {\n  const res = [];\n  let i = 0;\n\n  function consumeComponentValue() {\n    let level = 0;\n    const startIndex = i;\n    while (i < input.length) {\n      const nextChar = input.slice(i, i + 1);\n      if (/\\s/.test(nextChar) && level === 0) {\n        break;\n      } else if (nextChar === '(') {\n        level += 1;\n      } else if (nextChar === ')') {\n        level -= 1;\n        if (level === 0) {\n          // Consume the next character and break\n          i++;\n          break;\n        }\n      }\n      i++;\n    }\n    return input.slice(startIndex, i);\n  }\n\n  function consumeWhitespace() {\n    while (/\\s/.test(input.slice(i, i + 1))) {\n      i++;\n    }\n  }\n\n  while(i < input.length) {\n    const nextChar = input.slice(i, i + 1);\n    if (/\\s/.test(nextChar)) {\n      consumeWhitespace();\n    } else {\n      res.push(consumeComponentValue());\n    }\n  }\n  return res;\n}", "import {isCanonical} from \"./utils\";\n\n/**\n * @typedef {{percentageReference: CSSUnitValue, fontSize?: CSSUnitValue}} Info\n */\n\n/**\n * Groups a list of objects by a given string keyed property\n *\n * @template T\n * @param {T[]} items\n * @param {string} key string key\n * @return {Map<any,T[]>}\n */\nfunction groupBy(items, key) {\n  return items.reduce((groups, item) => {\n    if (groups.has(item[key])) {\n      groups.get(item[key]).push(item);\n    } else {\n      groups.set(item[key], [item]);\n    }\n    return groups;\n  }, new Map());\n}\n\n/**\n * Partitions a list into a tuple of lists.\n * The first item in the tuple contains a list of items that pass the test provided by the callback function.\n * The second item in the tuple contains the remaining items\n *\n * @template T\n * @param {T[]} items\n * @param {(item:T) => boolean} callbackFn Returns truthy if item should be put in the first list in the tuple, falsy if it should be put in the second list.\n * @return {[T[],T[]]}\n */\nfunction partition(items, callbackFn) {\n  const partA = [];\n  const partB = [];\n  for (const item of items) {\n    if (callbackFn(item)) {\n      partA.push(item);\n    } else {\n      partB.push(item);\n    }\n  }\n  return [partA, partB];\n}\n\n/**\n * Partial implementation of `simplify a calculation tree` applied to CSSNumericValue\n * https://www.w3.org/TR/css-values-4/#simplify-a-calculation-tree\n *\n * @param {CSSNumericValue} root\n * @param {Info} info information used to resolve\n * @return {CSSNumericValue}\n */\nexport function simplifyCalculation(root, info = {}) {\n  function simplifyNumericArray(values) {\n    return Array.from(values).map((value) => simplifyCalculation(value, info));\n  }\n\n  // To simplify a calculation tree root:\n  if (root instanceof CSSUnitValue) {\n    // 1. If root is a numeric value:\n\n    if (root.unit === \"percent\" && info.percentageReference) {\n      // 1. If root is a percentage that will be resolved against another value, and there is enough information\n      //    available to resolve it, do so, and express the resulting numeric value in the appropriate canonical unit.\n      //    Return the value.\n      const resolvedValue = (root.value / 100) * info.percentageReference.value;\n      const resolvedUnit = info.percentageReference.unit;\n      return new CSSUnitValue(resolvedValue, resolvedUnit);\n    }\n\n    // 2. If root is a dimension that is not expressed in its canonical unit, and there is enough information available\n    //    to convert it to the canonical unit, do so, and return the value.\n\n    // Use Typed OM toSum() to convert values in compatible sets to canonical units\n    const sum = root.toSum();\n    if (sum && sum.values.length === 1) {\n      root = sum.values[0];\n    }\n    // TODO: handle relative lengths\n    if (root instanceof CSSUnitValue && root.unit === 'em' && info.fontSize) {\n      root = new CSSUnitValue(root.value * info.fontSize.value, info.fontSize.unit);\n    }\n    // 3. If root is a <calc-keyword> that can be resolved, return what it resolves to, simplified.\n    if (root instanceof CSSKeywordValue) {\n      //https://www.w3.org/TR/css-values-4/#calc-constants\n      if (root.value === 'e') {\n        return new CSSUnitValue(Math.E, 'number');\n      } else if (root.value === 'pi') {\n        return new CSSUnitValue(Math.PI, 'number');\n      }\n    }\n    // 4. Otherwise, return root.\n    return root;\n  }\n\n  // 2. If root is any other leaf node (not an operator node):\n  if (!root.operator) {\n    //    1. If there is enough information available to determine its numeric value, return its value, expressed in the value’s canonical unit.\n    //    2. Otherwise, return root.\n    return root;\n  }\n\n  // 3. At this point, root is an operator node. Simplify all the calculation children of root.\n  switch (root.operator) {\n    case \"sum\":\n      root = new CSSMathSum(...simplifyNumericArray(root.values));\n      break;\n    case \"product\":\n      root = new CSSMathProduct(...simplifyNumericArray(root.values));\n      break;\n    case \"negate\":\n      root = new CSSMathNegate(simplifyCalculation(root.value, info));\n      break;\n    case \"clamp\":\n      root = new CSSMathClamp(simplifyCalculation(root.lower, info), simplifyCalculation(root.value, info),\n        simplifyCalculation(root.upper, info));\n      break;\n    case \"invert\":\n      root = new CSSMathInvert(simplifyCalculation(root.value, info));\n      break;\n    case \"min\":\n      root = new CSSMathMin(...simplifyNumericArray(root.values));\n      break;\n    case \"max\":\n      root = new CSSMathMax(...simplifyNumericArray(root.values));\n      break;\n  }\n\n  // 4. If root is an operator node that’s not one of the calc-operator nodes, and all of its calculation children are\n  //    numeric values with enough information to compute the operation root represents, return the result of running\n  //    root’s operation using its children, expressed in the result’s canonical unit.\n  if (root instanceof CSSMathMin || root instanceof CSSMathMax) {\n    const children = Array.from(root.values);\n    if (children.every(\n      (child) => child instanceof CSSUnitValue && child.unit !== \"percent\" && isCanonical(child.unit) && child.unit ===\n        children[0].unit)) {\n\n      const result = Math[root.operator].apply(Math, children.map(({value}) => value));\n      return new CSSUnitValue(result, children[0].unit);\n    }\n  }\n\n  //    Note: If a percentage is left at this point, it will usually block simplification of the node, since it needs to be\n  //    resolved against another value using information not currently available. (Otherwise, it would have been converted\n  //    to a different value in an earlier step.) This includes operations such as \"min\", since percentages might resolve\n  //    against a negative basis, and thus end up with an opposite comparative relationship than the raw percentage value\n  //    would seem to indicate.\n  //\n  //    However, \"raw\" percentages—ones which do not resolve against another value, such as in opacity—might not block\n  //    simplification.\n\n  // 5. If root is a Min or Max node, attempt to partially simplify it:\n  if (root instanceof CSSMathMin || root instanceof CSSMathMax) {\n    const children = Array.from(root.values);\n    const [numeric, rest] = partition(children, (child) => child instanceof CSSUnitValue && child.unit !== \"percent\");\n    const unitGroups = Array.from(groupBy(numeric, \"unit\").values());\n    //    1. For each node child of root’s children:\n    //\n    //       If child is a numeric value with enough information to compare magnitudes with another child of the same\n    //       unit (see note in previous step), and there are other children of root that are numeric children with the same\n    //       unit, combine all such children with the appropriate operator per root, and replace child with the result,\n    //       removing all other child nodes involved.\n    const hasComparableChildren = unitGroups.some(group => group.length > 0);\n    if (hasComparableChildren) {\n      const combinedGroups = unitGroups.map(group => {\n        const result = Math[root.operator].apply(Math, group.map(({value}) => value));\n        return new CSSUnitValue(result, group[0].unit);\n      });\n      if (root instanceof CSSMathMin) {\n        root = new CSSMathMin(...combinedGroups, ...rest);\n      } else {\n        root = new CSSMathMax(...combinedGroups, ...rest);\n      }\n    }\n\n    //    2. If root has only one child, return the child.\n    //\n    //       Otherwise, return root.\n    if (children.length === 1) {\n      return children[0];\n    } else {\n      return root;\n    }\n  }\n\n  // If root is a Negate node:\n  //\n  // If root’s child is a numeric value, return an equivalent numeric value, but with the value negated (0 - value).\n  // If root’s child is a Negate node, return the child’s child.\n  // Return root.\n  if (root instanceof CSSMathNegate) {\n    if (root.value instanceof CSSUnitValue) {\n      return new CSSUnitValue(0 - root.value.value, root.value.unit);\n    } else if (root.value instanceof CSSMathNegate) {\n      return root.value.value;\n    } else {\n      return root;\n    }\n  }\n\n  // If root is an Invert node:\n  //\n  // If root’s child is a number (not a percentage or dimension) return the reciprocal of the child’s value.\n  // If root’s child is an Invert node, return the child’s child.\n  // Return root.\n  if (root instanceof CSSMathInvert) {\n    if (root.value instanceof CSSMathInvert) {\n      return root.value.value;\n    } else {\n      return root;\n    }\n  }\n\n  // If root is a Sum node:\n  if (root instanceof CSSMathSum) {\n    let children = [];\n    // For each of root’s children that are Sum nodes, replace them with their children.\n    for (const value of root.values) {\n      if (value instanceof CSSMathSum) {\n        children.push(...value.values);\n      } else {\n        children.push(value);\n      }\n    }\n\n    // For each set of root’s children that are numeric values with identical units, remove those children and\n    // replace them with a single numeric value containing the sum of the removed nodes, and with the same unit.\n    //\n    // (E.g. combine numbers, combine percentages, combine px values, etc.)\n    function sumValuesWithSameUnit(values) {\n      const numericValues = values.filter((c) => c instanceof CSSUnitValue);\n      const nonNumericValues = values.filter((c) => !(c instanceof CSSUnitValue));\n\n      const summedNumericValues = Array.from(groupBy(numericValues, \"unit\").entries())\n        .map(([unit, values]) => {\n          const sum = values.reduce((a, {value}) => a + value, 0);\n          return new CSSUnitValue(sum, unit);\n        });\n      return [...nonNumericValues, ...summedNumericValues];\n    }\n\n    children = sumValuesWithSameUnit(children);\n\n    // If root has only a single child at this point, return the child. Otherwise, return root.\n    // NOTE: Zero-valued terms cannot be simply removed from a Sum; they can only be combined with other values\n    // that have identical units. (This is because the mere presence of a unit, even with a zero value,\n    // can sometimes imply a change in behavior.)\n    if (children.length === 1) {\n      return children[0];\n    } else {\n      return new CSSMathSum(...children);\n    }\n  }\n\n  // If root is a Product node:\n  //\n  // For each of root’s children that are Product nodes, replace them with their children.\n  if (root instanceof CSSMathProduct) {\n    let children = [];\n    for (const value of root.values) {\n      if (value instanceof CSSMathProduct) {\n        children.push(...value.values);\n      } else {\n        children.push(value);\n      }\n    }\n\n    // If root has multiple children that are numbers (not percentages or dimensions), remove them and replace them with\n    // a single number containing the product of the removed nodes.\n    const [numbers, rest] = partition(children, (child) => child instanceof CSSUnitValue && child.unit === \"number\");\n    if (numbers.length > 1) {\n      const product = numbers.reduce((a, {value}) => a * value, 1);\n      children = [new CSSUnitValue(product, \"number\"), ...rest];\n    }\n\n    // If root contains only two children, one of which is a number (not a percentage or dimension) and the other of\n    // which is a Sum whose children are all numeric values, multiply all of the Sum’s children by the number,\n    // then return the Sum.\n    if (children.length === 2) {\n      let numeric, sum;\n      for (const child of children) {\n        if (child instanceof CSSUnitValue && child.unit === \"number\") {\n          numeric = child;\n        } else if (child instanceof CSSMathSum && [...child.values].every((c) => c instanceof CSSUnitValue)) {\n          sum = child;\n        }\n      }\n      if (numeric && sum) {\n        return new CSSMathSum(\n          ...[...sum.values].map((value) => new CSSUnitValue(value.value * numeric.value, value.unit)));\n      }\n    }\n\n    // If root contains only numeric values and/or Invert nodes containing numeric values, and multiplying the types of\n    // all the children (noting that the type of an Invert node is the inverse of its child’s type) results in a type\n    // that matches any of the types that a math function can resolve to, return the result of multiplying all the values\n    // of the children (noting that the value of an Invert node is the reciprocal of its child’s value),\n    // expressed in the result’s canonical unit.\n    if (children.every((child) => (child instanceof CSSUnitValue && isCanonical(child.unit)) ||\n      (child instanceof CSSMathInvert && child.value instanceof CSSUnitValue && isCanonical(child.value.unit)))) {\n      // Use CSS Typed OM to multiply types\n      const sum = new CSSMathProduct(...children).toSum();\n      if (sum && sum.values.length === 1) {\n        return sum.values[0];\n      }\n    }\n\n    // Return root.\n    return new CSSMathProduct(...children);\n  }\n  // Return root.\n  return root;\n}\n", "import {\n  CommaToken,\n  DelimToken,\n  DimensionToken,\n  FunctionToken, IdentToken,\n  LeftCurlyBracketToken,\n  LeftParenthesisToken,\n  LeftSquareBracketToken,\n  NumberToken,\n  PercentageToken, RightCurlyBracketToken,\n  RightParenthesisToken, RightSquareBracketToken,\n  Token,\n  tokenizeString,\n  WhitespaceToken\n} from './tokenizer';\nimport {simplifyCalculation} from './simplify-calculation';\n\n/**\n * @typedef {{[string]: integer}} UnitMap\n * @typedef {[number, UnitMap]} SumValueItem\n * @typedef {SumValueItem[]} SumValue\n * @typedef {null} Failure\n * @typedef {{[string]: integer} & {percentHint: string | undefined}} Type\n * @typedef {{type: 'ADDITION'}|{type: 'MULTIPLICATION'}|{type: 'NEGATE'}|{type: 'INVERT'}} ASTNode\n */\n\nconst failure = null;\nconst baseTypes = [\"percent\", \"length\", \"angle\", \"time\", \"frequency\", \"resolution\", \"flex\"];\n\nconst unitGroups = {\n  // https://www.w3.org/TR/css-values-4/#font-relative-lengths\n  fontRelativeLengths: {\n    units: new Set([\"em\", \"rem\", \"ex\", \"rex\", \"cap\", \"rcap\", \"ch\", \"rch\", \"ic\", \"ric\", \"lh\", \"rlh\"])\n  },\n  // https://www.w3.org/TR/css-values-4/#viewport-relative-lengths\n  viewportRelativeLengths: {\n    units: new Set(\n      [\"vw\", \"lvw\", \"svw\", \"dvw\", \"vh\", \"lvh\", \"svh\", \"dvh\", \"vi\", \"lvi\", \"svi\", \"dvi\", \"vb\", \"lvb\", \"svb\", \"dvb\",\n        \"vmin\", \"lvmin\", \"svmin\", \"dvmin\", \"vmax\", \"lvmax\", \"svmax\", \"dvmax\"])\n  },\n  // https://www.w3.org/TR/css-values-4/#absolute-lengths\n  absoluteLengths: {\n    units: new Set([\"cm\", \"mm\", \"Q\", \"in\", \"pt\", \"pc\", \"px\"]),\n    compatible: true,\n    canonicalUnit: \"px\",\n    ratios: {\n      \"cm\": 96 / 2.54, \"mm\": (96 / 2.54) / 10, \"Q\": (96 / 2.54) / 40, \"in\": 96, \"pc\": 96 / 6, \"pt\": 96 / 72, \"px\": 1\n    }\n  },\n  // https://www.w3.org/TR/css-values-4/#angles\n  angle: {\n    units: new Set([\"deg\", \"grad\", \"rad\", \"turn\"]),\n    compatible: true,\n    canonicalUnit: \"deg\",\n    ratios: {\n      \"deg\": 1, \"grad\": 360 / 400, \"rad\": 180 / Math.PI, \"turn\": 360\n    }\n  },\n  // https://www.w3.org/TR/css-values-4/#time\n  time: {\n    units: new Set([\"s\", \"ms\"]),\n    compatible: true,\n    canonicalUnit: \"s\",\n    ratios: {\n      \"s\": 1, \"ms\": 1 / 1000\n    }\n  },\n  // https://www.w3.org/TR/css-values-4/#frequency\n  frequency: {\n    units: new Set([\"hz\", \"khz\"]),\n    compatible: true,\n    canonicalUnit: \"hz\",\n    ratios: {\n      \"hz\": 1, \"khz\": 1000\n    }\n  },\n  // https://www.w3.org/TR/css-values-4/#resolution\n  resolution: {\n    units: new Set([\"dpi\", \"dpcm\", \"dppx\"]),\n    compatible: true,\n    canonicalUnit: \"dppx\",\n    ratios: {\n      \"dpi\": 1 / 96, \"dpcm\": 2.54 / 96, \"dppx\": 1\n    }\n  }\n};\n\nconst unitToCompatibleUnitsMap = new Map();\nfor (const group of Object.values(unitGroups)) {\n  if (!group.compatible) {\n    continue;\n  }\n  for (const unit of group.units) {\n    unitToCompatibleUnitsMap.set(unit, group);\n  }\n}\n\nexport function getSetOfCompatibleUnits(unit) {\n  return unitToCompatibleUnitsMap.get(unit);\n}\n\n/**\n * Implementation of `product of two unit maps` from css-typed-om-1:\n * https://www.w3.org/TR/css-typed-om-1/#product-of-two-unit-maps\n *\n * @param {UnitMap} units1 map of units (strings) to powers (integers)\n * @param {UnitMap} units2 map of units (strings) to powers (integers)\n * @return {UnitMap} map of units (strings) to powers (integers)\n */\nfunction productOfTwoUnitMaps(units1, units2) {\n  // 1. Let result be a copy of units1.\n  const result = {...units1};\n  // 2. For each unit → power in units2:\n  for (const unit of Object.keys(units2)) {\n    if (result[unit]) {\n      // 1. If result[unit] exists, increment result[unit] by power.\n      result[unit] += units2[unit];\n    } else {\n      // 2. Otherwise, set result[unit] to power.\n      result[unit] = units2[unit];\n    }\n  }\n  // 3. Return result.\n  return result;\n}\n\n/**\n * Implementation of `create a type` from css-typed-om-1:\n * https://www.w3.org/TR/css-typed-om-1/#create-a-type\n *\n * @param {string} unit\n * @return {Type|Failure}\n */\nexport function createAType(unit) {\n  if (unit === \"number\") {\n    return {};\n  } else if (unit === \"percent\") {\n    return {\"percent\": 1};\n  } else if (unitGroups.absoluteLengths.units.has(unit) || unitGroups.fontRelativeLengths.units.has(unit) ||\n    unitGroups.viewportRelativeLengths.units.has(unit)) {\n    return {\"length\": 1};\n  } else if (unitGroups.angle.units.has(unit)) {\n    return {\"angle\": 1};\n  } else if (unitGroups.time.units.has(unit)) {\n    return {\"time\": 1};\n  } else if (unitGroups.frequency.units.has(unit)) {\n    return {\"frequency\": 1};\n  } else if (unitGroups.resolution.units.has(unit)) {\n    return {\"resolution\": 1};\n  } else if (unit === \"fr\") {\n    return {\"flex\": 1};\n  } else {\n    return failure;\n  }\n}\n\n/**\n * Partial implementation of `create a sum value` from css-typed-om-1:\n * https://www.w3.org/TR/css-typed-om-1/#create-a-sum-value\n *\n * Supports CSSUnitValue, CSSMathProduct and CSSMathInvert with a CSSUnitValue value.\n * Other types are not supported, and will throw an error.\n *\n * @param {CSSNumericValue} cssNumericValue\n * @return {SumValue} Abstract representation of a CSSNumericValue as a sum of numbers with (possibly complex) units\n */\nexport function createSumValue(cssNumericValue) {\n  if (cssNumericValue instanceof CSSUnitValue) {\n    let {unit, value} = cssNumericValue;\n    // Let unit be the value of this’s unit internal slot, and value be the value of this’s value internal slot.\n    // If unit is a member of a set of compatible units, and is not the set’s canonical unit,\n    // multiply value by the conversion ratio between unit and the canonical unit, and change unit to the canonical unit.\n    const compatibleUnits = getSetOfCompatibleUnits(cssNumericValue.unit);\n    if (compatibleUnits && unit !== compatibleUnits.canonicalUnit) {\n      value *= compatibleUnits.ratios[unit];\n      unit = compatibleUnits.canonicalUnit;\n    }\n\n    if (unit === \"number\") {\n      // If unit is \"number\", return «(value, «[ ]»)».\n      return [[value, {}]];\n    } else {\n      // Otherwise, return «(value, «[unit → 1]»)».\n      return [[value, {[unit]: 1}]];\n    }\n  } else if (cssNumericValue instanceof CSSMathInvert) {\n    if (!(cssNumericValue.value instanceof CSSUnitValue)) {\n      // Limit implementation to CSSMathInvert of CSSUnitValue\n      throw new Error(\"Not implemented\");\n    }\n    // 1. Let values be the result of creating a sum value from this’s value internal slot.\n    const values = createSumValue(cssNumericValue.value);\n    // 2. If values is failure, return failure.\n    if (values === failure) {\n      return failure;\n    }\n    // 3. If the length of values is more than one, return failure.\n    if (values.length > 1) {\n      return failure;\n    }\n    // 4. Invert (find the reciprocal of) the value of the item in values, and negate the value of each entry in its unit map.\n    const item = values[0];\n    const tempUnionMap = {};\n    for (const [unit, power] of Object.entries(item[1])) {\n      tempUnionMap[unit] = -1 * power;\n    }\n    values[0] = [1 / item[0], tempUnionMap];\n\n    // 5. Return values.\n    return values;\n  } else if (cssNumericValue instanceof CSSMathProduct) {\n    // 1. Let values initially be the sum value «(1, «[ ]»)». (I.e. what you’d get from 1.)\n\n    let values = [[1, {}]];\n\n    // 2. For each item in this’s values internal slot:\n    for (const item of cssNumericValue.values) {\n      // 1. Let new values be the result of creating a sum value from item. Let temp initially be an empty list.\n      const newValues = createSumValue(item);\n      const temp = [];\n      // 2. If new values is failure, return failure.\n      if (newValues === failure) {\n        return failure;\n      }\n      // 3. For each item1 in values:\n      for (const item1 of values) {\n        // 1. For each item2 in new values:\n        for (const item2 of newValues) {\n          // 1. Let item be a tuple with its value set to the product of the values of item1 and item2, and its unit\n          //    map set to the product of the unit maps of item1 and item2, with all entries with a zero value removed.\n          // 2. Append item to temp.\n          temp.push([item1[0] * item2[0], productOfTwoUnitMaps(item1[1], item2[1])]);\n        }\n      }\n      // 4. Set values to temp.\n      values = temp;\n    }\n    // Return values.\n    return values;\n  } else {\n    throw new Error(\"Not implemented\");\n  }\n}\n\n\n/**\n * Implementation of `to(unit)` for CSSNumericValue from css-typed-om-1:\n * https://www.w3.org/TR/css-typed-om-1/#dom-cssnumericvalue-to\n *\n * Converts an existing CSSNumeric value into another with the specified unit, if possible.\n *\n * @param {CSSNumericValue} cssNumericValue value to convert\n * @param {string} unit\n * @return {CSSUnitValue}\n */\nexport function to(cssNumericValue, unit) {\n  // Let type be the result of creating a type from unit. If type is failure, throw a SyntaxError.\n  const type = createAType(unit);\n  if (type === failure) {\n    throw new SyntaxError(\"The string did not match the expected pattern.\");\n  }\n\n  // Let sum be the result of creating a sum value from this.\n  const sumValue = createSumValue(cssNumericValue);\n\n  // If sum is failure, throw a TypeError.\n  if (!sumValue) {\n    throw new TypeError();\n  }\n\n  // If sum has more than one item, throw a TypeError.\n  if (sumValue.length > 1) {\n    throw new TypeError(\"Sum has more than one item\");\n  }\n\n  // Otherwise, let item be the result of creating a CSSUnitValue\n  // from the sole item in sum, then converting it to unit.\n  const item = convertCSSUnitValue(createCSSUnitValue(sumValue[0]), unit);\n\n\n  // If item is failure, throw a TypeError.\n  if (item === failure) {\n    throw new TypeError();\n  }\n  // Return item.\n  return item;\n}\n\n/**\n * Implementation of `create a CSSUnitValue from a sum value item` from css-typed-om-1:\n * https://www.w3.org/TR/css-typed-om-1/#create-a-cssunitvalue-from-a-sum-value-item\n *\n * @param {SumValueItem} sumValueItem  a tuple of a value, and a unit map\n * @return {CSSUnitValue|Failure}\n */\nexport function createCSSUnitValue(sumValueItem) {\n  const [value, unitMap] = sumValueItem;\n  // When asked to create a CSSUnitValue from a sum value item item, perform the following steps:\n  // If item has more than one entry in its unit map, return failure.\n  const entries = Object.entries(unitMap);\n  if (entries.length > 1) {\n    return failure;\n  }\n  // If item has no entries in its unit map, return a new CSSUnitValue whose unit internal slot is set to \"number\",\n  // and whose value internal slot is set to item’s value.\n  if (entries.length === 0) {\n    return new CSSUnitValue(value, \"number\");\n  }\n  // Otherwise, item has a single entry in its unit map. If that entry’s value is anything other than 1, return failure.\n  const entry = entries[0];\n  if (entry[1] !== 1) {\n    return failure;\n  }\n  // Otherwise, return a new CSSUnitValue whose unit internal slot is set to that entry’s key, and whose value internal slot is set to item’s value.\n  else {\n    return new CSSUnitValue(value, entry[0]);\n  }\n}\n\n/**\n * Implementation of `convert a CSSUnitValue` from css-typed-om-1:\n * https://www.w3.org/TR/css-typed-om-1/#convert-a-cssunitvalue\n\n * @param {CSSUnitValue} cssUnitValue\n * @param {string} unit\n * @return {CSSUnitValue|Failure}\n */\nexport function convertCSSUnitValue(cssUnitValue, unit) {\n  // Let old unit be the value of this’s unit internal slot, and old value be the value of this’s value internal slot.\n  const oldUnit = cssUnitValue.unit;\n  const oldValue = cssUnitValue.value;\n  // If old unit and unit are not compatible units, return failure.\n  const oldCompatibleUnitGroup = getSetOfCompatibleUnits(oldUnit);\n  const compatibleUnitGroup = getSetOfCompatibleUnits(unit);\n  if (!compatibleUnitGroup || oldCompatibleUnitGroup !== compatibleUnitGroup) {\n    return failure;\n  }\n  // Return a new CSSUnitValue whose unit internal slot is set to unit, and whose value internal slot is set to\n  // old value multiplied by the conversation ratio between old unit and unit.\n  return new CSSUnitValue(oldValue * compatibleUnitGroup.ratios[oldUnit] / compatibleUnitGroup.ratios[unit], unit);\n}\n\n/**\n * Partial implementation of `toSum(...units)`:\n * https://www.w3.org/TR/css-typed-om-1/#dom-cssnumericvalue-tosum\n *\n * The implementation is restricted to conversion without units.\n * It simplifies a CSSNumericValue into a minimal sum of CSSUnitValues.\n * Will throw an error if called with units.\n *\n * @param {CSSNumericValue} cssNumericValue value to convert to a CSSMathSum\n * @param {string[]} units Not supported in this implementation\n * @return {CSSMathSum}\n */\nexport function toSum(cssNumericValue, ...units) {\n  // The toSum(...units) method converts an existing CSSNumericValue this into a CSSMathSum of only CSSUnitValues\n  // with the specified units, if possible. (It’s like to(), but allows the result to have multiple units in it.)\n  // If called without any units, it just simplifies this into a minimal sum of CSSUnitValues.\n  // When called, it must perform the following steps:\n  //\n  // For each unit in units, if the result of creating a type from unit is failure, throw a SyntaxError.\n  //\n  if (units && units.length) {\n    // Only unitless method calls are implemented in this polyfill\n    throw new Error(\"Not implemented\");\n  }\n\n  // Let sum be the result of creating a sum value from this. If sum is failure, throw a TypeError.\n  const sum = createSumValue(cssNumericValue);\n\n  // Let values be the result of creating a CSSUnitValue for each item in sum. If any item of values is failure,\n  // throw a TypeError.\n  const values = sum.map(item => createCSSUnitValue(item));\n  if (values.some(value => value === failure)) {\n    throw new TypeError(\"Type error\");\n  }\n\n  // If units is empty, sort values in code point order according to the unit internal slot of its items,\n  // then return a new CSSMathSum object whose values internal slot is set to values.\n  return new CSSMathSum(...values);\n}\n\n/**\n * Implementation of `invert a type` from css-typed-om-1 Editors Draft:\n * https://drafts.css-houdini.org/css-typed-om/\n *\n * @param {Type} type\n * @return {Type}\n */\nexport function invertType(type) {\n  // To invert a type type, perform the following steps:\n  // Let result be a new type with an initially empty ordered map and an initially null percent hint\n  // For each unit → exponent of type, set result[unit] to (-1 * exponent).\n  // Return result.\n  const result = {};\n  for (const baseType of baseTypes) {\n    result[baseType] = -1 * type[baseType];\n  }\n  return result;\n}\n\n/**\n * Implementation of `multiply two types` from css-typed-om-1 Editor's Draft:\n * https://drafts.css-houdini.org/css-typed-om/#cssnumericvalue-multiply-two-types\n *\n * @param {Type} type1 a map of base types to integers and an associated percent hint\n * @param {Type} type2 a map of base types to integers and an associated percent hint\n * @return {Type|Failure}\n */\nexport function multiplyTypes(type1, type2) {\n  if (type1.percentHint && type2.percentHint && type1.percentHint !== type2.percentHint) {\n    return failure;\n  }\n  const finalType = {\n    ...type1, percentHint: type1.percentHint ?? type2.percentHint,\n  };\n\n  for (const baseType of baseTypes) {\n    if (!type2[baseType]) {\n      continue;\n    }\n    finalType[baseType] ??= 0;\n    finalType[baseType] += type2[baseType];\n  }\n  return finalType;\n}\n\nclass CSSFunction {\n  name;\n  values;\n  constructor(name, values) {\n    this.name = name;\n    this.values = values;\n  }\n}\n\nclass CSSSimpleBlock {\n  value;\n  associatedToken;\n  constructor(value, associatedToken) {\n    this.value = value;\n    this.associatedToken = associatedToken;\n  }\n}\n\n/**\n * Normalize into a token stream\n * https://www.w3.org/TR/css-syntax-3/#normalize-into-a-token-stream\n */\nfunction normalizeIntoTokenStream(input) {\n  // If input is a list of CSS tokens, return input.\n  // If input is a list of CSS component values, return input.\n  if (Array.isArray(input)) {\n    return input;\n  }\n  // If input is a string, then filter code points from input, tokenize the result, and return the final result.\n  if (typeof input === 'string') {\n    return tokenizeString(input);\n  }\n  // Assert: Only the preceding types should be passed as input.\n  throw new TypeError(`Invalid input type ${typeof input}`)\n}\n\n/**\n * Consume a function\n * https://www.w3.org/TR/css-syntax-3/#consume-a-function\n * @param {FunctionToken} token\n * @param {Token[]} tokens\n */\nfunction consumeFunction(token, tokens) {\n  // Create a function with its name equal to the value of the current input token and with its value initially set to an empty list.\n  const func = new CSSFunction(token.value, []);\n\n  // Repeatedly consume the next input token and process it as follows:\n  while(true) {\n    const nextToken = tokens.shift();\n    if (nextToken instanceof RightParenthesisToken) {\n      // <)-token>\n      // Return the function.\n      return func;\n    } else if (typeof nextToken === 'undefined') {\n      // <EOF-token>\n      // This is a parse error. Return the function.\n      return func;\n    } else {\n      // anything else\n      // Reconsume the current input token. Consume a component value and append the returned value to the function’s value.\n      tokens.unshift(nextToken);\n      func.values.push(consumeComponentValue(tokens));\n    }\n  }\n}\n\n/**\n * Consume a simple block\n * https://www.w3.org/TR/css-syntax-3/#consume-simple-block\n * @param {Token[]} tokens\n * @param {LeftCurlyBracketToken | LeftParenthesisToken | LeftSquareBracketToken} currentInputToken\n */\nfunction consumeSimpleBlock(tokens, currentInputToken) {\n  // The ending token is the mirror variant of the current input token. (E.g. if it was called with <[-token>, the ending token is <]-token>.)\n  let endingTokenConstructor ;\n  if (currentInputToken instanceof LeftCurlyBracketToken) {\n    endingTokenConstructor = RightCurlyBracketToken;\n  } else if (currentInputToken instanceof LeftParenthesisToken) {\n    endingTokenConstructor = RightParenthesisToken;\n  } else if (currentInputToken instanceof LeftSquareBracketToken) {\n    endingTokenConstructor = RightSquareBracketToken;\n  } else {\n    return undefined;\n  }\n\n\n  // Create a simple block with its associated token set to the current input token and with its value initially set to an empty list.\n  const simpleBlock = new CSSSimpleBlock([], currentInputToken);\n\n  // Repeatedly consume the next input token and process it as follows:\n  while (true) {\n    const token = tokens.shift();\n    if (token instanceof endingTokenConstructor) {\n      // ending token\n      // Return the block.\n      return simpleBlock;\n    } else if (typeof token === 'undefined') {\n      // <EOF-token>\n      // This is a parse error. Return the block.\n      return simpleBlock;\n    } else {\n      // anything else\n      // Reconsume the current input token. Consume a component value and append it to the value of the block.\n      tokens.unshift(token);\n      simpleBlock.value.push(consumeComponentValue(tokens));\n    }\n  }\n}\n\n/**\n * Consume a component value\n * https://www.w3.org/TR/css-syntax-3/#consume-a-component-value\n * @param {Token[]} tokens\n */\nfunction consumeComponentValue(tokens) {\n  const syntaxError = null;\n  // Consume the next input token.\n  const token = tokens.shift();\n\n  if (token instanceof LeftCurlyBracketToken || token instanceof LeftSquareBracketToken || token instanceof LeftParenthesisToken) {\n    // If the current input token is a <{-token>, <[-token>, or <(-token>, consume a simple block and return it.\n    return consumeSimpleBlock(tokens, token);\n  } else if (token instanceof FunctionToken) {\n    // Otherwise, if the current input token is a <function-token>, consume a function and return it.\n    return consumeFunction(token, tokens);\n  } else {\n    // Otherwise, return the current input token.\n    return token;\n  }\n}\n\n/**\n * Parse a component value\n * https://www.w3.org/TR/css-syntax-3/#parse-component-value\n * @param {string} input\n */\nfunction parseComponentValue(input) {\n  const syntaxError = null;\n  // To parse a component value from input:\n  // 1. Normalize input, and set input to the result.\n  const tokens = normalizeIntoTokenStream(input);\n\n  // 2. While the next input token from input is a <whitespace-token>, consume the next input token from input.\n  while (tokens[0] instanceof WhitespaceToken) {\n    tokens.shift();\n  }\n  // 3. If the next input token from input is an <EOF-token>, return a syntax error.\n  if (typeof tokens[0] === 'undefined') {\n    return syntaxError;\n  }\n  // 4. Consume a component value from input and let value be the return value.\n  const returnValue = consumeComponentValue(tokens);\n  // 5. While the next input token from input is a <whitespace-token>, consume the next input token.\n  while (tokens[0] instanceof WhitespaceToken) {\n    tokens.shift();\n  }\n  // 6. If the next input token from input is an <EOF-token>, return value. Otherwise, return a syntax error.\n  if (typeof tokens[0] === 'undefined') {\n    return returnValue;\n  } else {\n    return syntaxError;\n  }\n}\n\nfunction precedence(token) {\n  if (token instanceof LeftParenthesisToken || token instanceof RightParenthesisToken) {\n    return 6;\n  } else if (token instanceof DelimToken) {\n    const value = token.value;\n    switch (value) {\n      case '*':\n        return 4;\n      case '/':\n        return 4;\n      case '+':\n        return 2;\n      case '-':\n        return 2;\n    }\n  }\n}\n\n\nfunction last(items) {\n  return items[items.length - 1];\n}\n\nfunction toNAryAstNode(operatorToken, first, second) {\n  // Treat subtraction as instead being addition, with the RHS argument instead wrapped in a special \"negate\" node.\n  // Treat division as instead being multiplication, with the RHS argument instead wrapped in a special \"invert\" node.\n\n  const type = ['+','-'].includes(operatorToken.value) ? 'ADDITION' : 'MULTIPLICATION';\n  const firstValues = first.type === type ? first.values : [first];\n  const secondValues = second.type === type ? second.values : [second];\n\n  if (operatorToken.value === '-') {\n    secondValues[0] = {type: 'NEGATE', value: secondValues[0]};\n  } else if (operatorToken.value   === '/') {\n    secondValues[0] = {type: 'INVERT', value: secondValues[0]};\n  }\n  return {type, values: [...firstValues, ...secondValues]};\n}\n\n/**\n * Convert expression to AST using the Shunting Yard Algorithm\n * https://en.wikipedia.org/wiki/Shunting_yard_algorithm\n * @param {(Token | CSSFunction)[]} tokens\n * @return {null}\n */\nfunction convertTokensToAST(tokens) {\n  const operatorStack = [];\n  const tree = [];\n  while (tokens.length) {\n    const token = tokens.shift();\n    if (token instanceof NumberToken || token instanceof DimensionToken || token instanceof PercentageToken ||\n      token instanceof CSSFunction || token instanceof CSSSimpleBlock || token instanceof IdentToken) {\n      tree.push(token);\n    } else if (token instanceof DelimToken && ['*', '/', '+', '-'].includes(token.value)) {\n      while (operatorStack.length &&\n      !(last(operatorStack) instanceof LeftParenthesisToken) &&\n      precedence(last(operatorStack)) > precedence(token)) {\n        const o2 = operatorStack.pop();\n        const second = tree.pop();\n        const first = tree.pop();\n        tree.push(toNAryAstNode(o2, first, second));\n      }\n      operatorStack.push(token);\n    } else if (token instanceof LeftParenthesisToken) {\n      operatorStack.push(token);\n    } else if (token instanceof RightParenthesisToken) {\n      if (!operatorStack.length) {\n        return null;\n      }\n      while (!(last(operatorStack) instanceof LeftParenthesisToken) ) {\n        const o2 = operatorStack.pop();\n        const second = tree.pop();\n        const first = tree.pop();\n        tree.push(toNAryAstNode(o2, first, second));\n      }\n      if (!(last(operatorStack) instanceof LeftParenthesisToken)) {\n        return null;\n      }\n      operatorStack.pop();\n    } else if (token instanceof WhitespaceToken) {\n      // Consume token\n    } else {\n      return null;\n    }\n  }\n  while(operatorStack.length) {\n    if (last(operatorStack) instanceof LeftParenthesisToken) {\n      return null;\n    }\n    const o2 = operatorStack.pop()\n    const second = tree.pop();\n    const first = tree.pop();\n    tree.push(toNAryAstNode(o2, first, second));\n  }\n  return tree[0];\n}\n\n/**\n * Step 4 of `reify a math expression`\n * https://drafts.css-houdini.org/css-typed-om/#reify-a-math-expression\n *\n * 4. Recursively transform the expression tree into objects, as follows:\n *\n * @param {ASTNode} node\n * @return {CSSMathNegate|CSSMathProduct|CSSMathMin|CSSMathMax|CSSMathSum|CSSNumericValue|CSSUnitValue|CSSMathInvert}\n */\nfunction transformToCSSNumericValue(node) {\n  if (node.type === 'ADDITION') {\n    // addition node\n    // becomes a new CSSMathSum object, with its values internal slot set to its list of arguments\n    return new CSSMathSum(...node.values.map(value => transformToCSSNumericValue(value)));\n  } else if (node.type === 'MULTIPLICATION') {\n    // multiplication node\n    // becomes a new CSSMathProduct object, with its values internal slot set to its list of arguments\n    return new CSSMathProduct(...node.values.map(value => transformToCSSNumericValue(value)));\n  } else  if (node.type === 'NEGATE') {\n    // negate node\n    // becomes a new CSSMathNegate object, with its value internal slot set to its argument\n    return new CSSMathNegate(transformToCSSNumericValue(node.value));\n  } else if (node.type === 'INVERT') {\n    // invert node\n    // becomes a new CSSMathInvert object, with its value internal slot set to its argument\n    return new CSSMathInvert(transformToCSSNumericValue(node.value));\n  } else {\n    // leaf node\n    // reified as appropriate\n    if (node instanceof CSSSimpleBlock) {\n      return reifyMathExpression(new CSSFunction('calc', node.value));\n    } else if (node instanceof IdentToken) {\n      if (node.value === 'e') {\n        return new CSSUnitValue(Math.E, 'number');\n      } else if (node.value === 'pi') {\n        return new CSSUnitValue(Math.PI, 'number');\n      } else {\n        throw new SyntaxError('Invalid math expression')\n      }\n    } else {\n      return reifyNumericValue(node);\n    }\n  }\n}\n\n/**\n * Reify a math expression\n * https://drafts.css-houdini.org/css-typed-om/#reify-a-math-expression\n * @param {CSSFunction} num\n */\nfunction reifyMathExpression(num) {\n  // TODO: handle `clamp()` and possibly other math functions\n  // 1. If num is a min() or max() expression:\n  if (num.name === 'min' || num.name === 'max')\n  {\n    // Let values be the result of reifying the arguments to the expression, treating each argument as if it were the contents of a calc() expression.\n    const values = num.values\n      .filter(value => !(value instanceof WhitespaceToken || value instanceof CommaToken))\n      // TODO: Update when we have clarification on where simplify a calculation should be run:\n      // https://github.com/w3c/csswg-drafts/issues/9870\n      .map(value => simplifyCalculation(reifyMathExpression(new CSSFunction('calc', value))));\n    // Return a new CSSMathMin or CSSMathMax object, respectively, with its values internal slot set to values.\n    return num.name === 'min' ? new CSSMathMin(...values) : new CSSMathMax(...values);\n  }\n\n  // 2. Assert: Otherwise, num is a calc().\n  if (num.name !== 'calc') {\n    return null;\n  }\n\n  // 3. Turn num’s argument into an expression tree using standard PEMDAS precedence rules, with the following exceptions/clarification:\n  //\n  // Treat subtraction as instead being addition, with the RHS argument instead wrapped in a special \"negate\" node.\n  // Treat division as instead being multiplication, with the RHS argument instead wrapped in a special \"invert\" node.\n  // Addition and multiplication are N-ary; each node can have any number of arguments.\n  // If an expression has only a single value in it, and no operation, treat it as an addition node with the single argument.\n  const root = convertTokensToAST([...num.values]);\n  \n  // 4. Recursively transform the expression tree into objects\n  const numericValue = transformToCSSNumericValue(root);\n  let simplifiedValue;\n  try {\n    // TODO: Update when we have clarification on where simplify a calculation should be run:\n    // https://github.com/w3c/csswg-drafts/issues/9870\n    simplifiedValue = simplifyCalculation(numericValue);\n  } catch (e) {\n    // Use insertRule to trigger native SyntaxError on TypeError\n    (new CSSStyleSheet()).insertRule('error', 0);\n  }\n  if (simplifiedValue instanceof CSSUnitValue) {\n    return new CSSMathSum(simplifiedValue);\n  } else {\n    return simplifiedValue;\n  }\n}\n\n/**\n * Reify a numeric value\n * https://drafts.css-houdini.org/css-typed-om/#reify-a-numeric-value\n * @param num\n */\nfunction reifyNumericValue(num) {\n  // If an internal representation contains a var() reference, then it is reified by reifying a list of component values,\n  // regardless of what property it is for.\n  // TODO: handle `var()` function\n\n  // If num is a math function, reify a math expression from num and return the result.\n  if (num instanceof CSSFunction && ['calc', 'min', 'max', 'clamp'].includes(num.name)) {\n    return reifyMathExpression(num);\n  }\n  // If num is the unitless value 0 and num is a <dimension>,\n  // return a new CSSUnitValue with its value internal slot set to 0, and its unit internal slot set to \"px\".\n  if (num instanceof NumberToken && num.value === 0 && !num.unit) {\n    return new CSSUnitValue(0, 'px');\n  }\n  // Return a new CSSUnitValue with its value internal slot set to the numeric value of num, and its unit internal slot\n  // set to \"number\" if num is a <number>, \"percent\" if num is a <percentage>, and num’s unit if num is a <dimension>.\n  if (num instanceof NumberToken) {\n    return new CSSUnitValue(num.value, 'number');\n  } else if (num instanceof PercentageToken) {\n    return new CSSUnitValue(num.value, 'percent');\n  } else if (num instanceof DimensionToken) {\n    return new CSSUnitValue(num.value, num.unit);\n  }\n}\n\n/**\n * Implementation of the parse(cssText) method.\n * https://drafts.css-houdini.org/css-typed-om-1/#dom-cssnumericvalue-parse\n * @param {string} cssText\n * @return {CSSMathMin|CSSMathMax|CSSMathSum|CSSMathProduct|CSSMathNegate|CSSMathInvert|CSSUnitValue}\n */\nexport function parseCSSNumericValue(cssText) {\n  // Parse a component value from cssText and let result be the result.\n  // If result is a syntax error, throw a SyntaxError and abort this algorithm.\n  const result = parseComponentValue(cssText);\n  if (result === null) {\n    // Use insertRule to trigger native SyntaxError\n    (new CSSStyleSheet()).insertRule('error', 0);\n  }\n  // If result is not a <number-token>, <percentage-token>, <dimension-token>, or a math function, throw a SyntaxError and abort this algorithm.\n  if (!(result instanceof NumberToken || result instanceof PercentageToken || result instanceof DimensionToken || result instanceof CSSFunction)) {\n    // Use insertRule to trigger native SyntaxError\n    (new CSSStyleSheet()).insertRule('error', 0);\n  }\n  // If result is a <dimension-token> and creating a type from result’s unit returns failure, throw a SyntaxError and abort this algorithm.\n  if (result instanceof DimensionToken) {\n    const type = createAType(result.unit);\n    if (type === null) {\n      // Use insertRule to trigger native SyntaxError\n      (new CSSStyleSheet()).insertRule('error', 0);\n    }\n  }\n  // Reify a numeric value result, and return the result.\n  return reifyNumericValue(result);\n}", "// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport {createAType, invertType, multiplyTypes, parseCSSNumericValue, to, toSum} from './numeric-values';\nimport {simplifyCalculation} from './simplify-calculation';\nimport './tokenizer'\n\nexport function installCSSOM() {\n  // Object for storing details associated with an object which are to be kept\n  // private. This approach allows the constructed objects to more closely\n  // resemble their native counterparts when inspected.\n  let privateDetails = new WeakMap();\n\n  function displayUnit(unit) {\n    switch(unit) {\n      case 'percent':\n        return '%';\n      case 'number':\n        return '';\n      default:\n        return unit.toLowerCase();\n    }\n  }\n\n  function toCssUnitValue(v) {\n    if (typeof v === 'number')\n      return new CSSUnitValue(v, 'number');\n    return v;\n  }\n\n  function toCssNumericArray(values) {\n    const result = [];\n    for (let i = 0; i < values.length; i++) {\n      result[i] = toCssUnitValue(values[i]);\n    }\n    return result;\n  }\n\n  class CSSNumericValue {\n    static parse(value) {\n      if (value instanceof CSSNumericValue) return value;\n\n      return simplifyCalculation(parseCSSNumericValue(value), {});\n    }\n\n    // TODO: Add other methods: add, sub, mul, div, …\n    // Spec: https://drafts.css-houdini.org/css-typed-om/#numeric-value\n  }\n\n  class CSSMathValue extends CSSNumericValue {\n    constructor(values, operator, opt_name, opt_delimiter) {\n      super();\n      privateDetails.set(this, {\n        values: toCssNumericArray(values),\n        operator: operator,\n        name: opt_name || operator,\n        delimiter: opt_delimiter || ', '\n      });\n    }\n\n    get operator() {\n      return privateDetails.get(this).operator;\n    }\n\n    get values() {\n      return  privateDetails.get(this).values;\n    }\n\n    toString() {\n      const details = privateDetails.get(this);\n      return `${details.name}(${details.values.join(details.delimiter)})`;\n    }\n  }\n\n  const cssOMTypes = {\n    'CSSNumericValue': CSSNumericValue,\n    'CSSMathValue': CSSMathValue,\n    'CSSUnitValue': class extends CSSNumericValue {\n      constructor(value, unit) {\n        super();\n        privateDetails.set(this, {\n          value: value,\n          unit: unit\n        });\n      }\n\n      get value() {\n        return privateDetails.get(this).value;\n      }\n\n      set value(value) {\n        privateDetails.get(this).value = value;\n      }\n\n      get unit() {\n        return  privateDetails.get(this).unit;\n      }\n\n      to(unit) {\n        return to(this, unit)\n      }\n\n      toSum(...units) {\n        return toSum(this, ...units)\n      }\n\n      type() {\n        const details = privateDetails.get(this)\n        // The type of a CSSUnitValue is the result of creating a type from its unit internal slot.\n        return createAType(details.unit)\n      }\n\n      toString() {\n        const details = privateDetails.get(this);\n        return `${details.value}${displayUnit(details.unit)}`;\n      }\n    },\n\n    'CSSKeywordValue': class {\n      constructor(value) {\n        this.value = value;\n      }\n\n      toString() {\n        return this.value.toString();\n      }\n    },\n\n    'CSSMathSum': class extends CSSMathValue  {\n      constructor(values) {\n        super(arguments, 'sum', 'calc', ' + ');\n      }\n    },\n\n    'CSSMathProduct': class extends CSSMathValue  {\n      constructor(values) {\n        super(arguments, 'product', 'calc', ' * ');\n      }\n\n      toSum(...units) {\n        return toSum(this, ...units)\n      }\n\n      type() {\n        const values = privateDetails.get(this).values;\n        // The type is the result of multiplying the types of each of the items in its values internal slot.\n        return values.map(v => v.type()).reduce(multiplyTypes)\n      }\n    },\n\n    'CSSMathNegate': class extends CSSMathValue {\n      constructor(values) {\n        super([arguments[0]], 'negate', '-');\n      }\n\n      get value() {\n        return  privateDetails.get(this).values[0];\n      }\n\n      type() {\n        return this.value.type();\n      }\n    },\n\n    'CSSMathInvert': class extends CSSMathValue {\n      constructor(values) {\n        super([1, arguments[0]], 'invert', 'calc', ' / ');\n      }\n\n      get value() {\n        return  privateDetails.get(this).values[1];\n      }\n\n      type() {\n        const details = privateDetails.get(this)\n        // The type of a CSSUnitValue is the result of creating a type from its unit internal slot.\n        return invertType(details.values[1].type())\n      }\n    },\n\n    'CSSMathMax': class extends CSSMathValue {\n      constructor() {\n        super(arguments, 'max');\n      }\n    },\n\n    'CSSMathMin': class extends CSSMathValue  {\n      constructor() {\n        super(arguments, 'min');\n      }\n    }\n  };\n\n  if (!window.CSS) {\n    if (!Reflect.defineProperty(window, 'CSS', { value: {} }))\n      throw Error(`Error installing CSSOM support`);\n  }\n\n  if (!window.CSSUnitValue) {\n    [\n      'number',\n      'percent',\n      // Length units\n      'em',\n      'ex',\n      'px',\n      'cm',\n      'mm',\n      'in',\n      'pt',\n      'pc',  // Picas\n      'Q',  // Quarter millimeter\n      'vw',\n      'vh',\n      'vmin',\n      'vmax',\n      'rems',\n      \"ch\",\n      // Angle units\n      'deg',\n      'rad',\n      'grad',\n      'turn',\n      // Time units\n      'ms',\n      's',\n      'Hz',\n      'kHz',\n      // Resolution\n      'dppx',\n      'dpi',\n      'dpcm',\n      // Other units\n      \"fr\"\n    ].forEach((name) => {\n      const fn = (value) => {\n        return new CSSUnitValue(value, name);\n      };\n      if (!Reflect.defineProperty(CSS, name, { value: fn }))\n        throw Error(`Error installing CSS.${name}`);\n    });\n  }\n\n  for (let [type, value] of Object.entries(cssOMTypes)) {\n    if (type in window)\n      continue;\n    if (!Reflect.defineProperty(window, type, { value }))\n      throw Error(`Error installing CSSOM support for ${type}`);\n  }\n}\n", "// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {installCSSOM} from \"./proxy-cssom.js\";\nimport {simplifyCalculation} from \"./simplify-calculation\";\nimport {normalizeAxis, splitIntoComponentValues} from './utils.js';\n\ninstallCSSOM();\n\nconst DEFAULT_TIMELINE_AXIS = 'block';\n\nlet scrollTimelineOptions = new WeakMap();\nlet sourceDetails = new WeakMap();\n\nexport const ANIMATION_RANGE_NAMES = ['entry', 'exit', 'cover', 'contain', 'entry-crossing', 'exit-crossing'];\n\nfunction scrollEventSource(source) {\n  if (source === document.scrollingElement) return document;\n  return source;\n}\n\n/**\n * Updates the currentTime for all Web Animation instanced attached to a ScrollTimeline instance\n * @param scrollTimelineInstance {ScrollTimeline}\n */\nfunction updateInternal(scrollTimelineInstance) {\n  validateSource(scrollTimelineInstance);\n  const details = scrollTimelineOptions.get(scrollTimelineInstance);\n  let animations = details.animations;\n  if (animations.length === 0) return;\n  let timelineTime = scrollTimelineInstance.currentTime;\n  for (let i = 0; i < animations.length; i++) {\n    animations[i].tickAnimation(timelineTime);\n  }\n}\n\n/**\n * Calculates a scroll offset that corrects for writing modes, text direction\n * and a logical axis.\n * @param scrollTimeline {ScrollTimeline}\n * @param axis {String}\n * @returns {Number}\n */\nfunction directionAwareScrollOffset(source, axis) {\n  if (!source)\n    return null;\n  const sourceMeasurements = sourceDetails.get(source).sourceMeasurements;\n  const style = getComputedStyle(source);\n  // All writing modes are vertical except for horizontal-tb.\n  // TODO: sideways-lr should flow bottom to top, but is currently unsupported\n  // in Chrome.\n  // http://drafts.csswg.org/css-writing-modes-4/#block-flow\n  let currentScrollOffset = sourceMeasurements.scrollTop;\n  if (normalizeAxis(axis, style) === 'x') {\n    // Negative values are reported for scrollLeft when the inline text\n    // direction is right to left or for vertical text with a right to left\n    // block flow. This is a consequence of shifting the scroll origin due to\n    // changes in the overflow direction.\n    // http://drafts.csswg.org/cssom-view/#overflow-directions.\n    currentScrollOffset = Math.abs(sourceMeasurements.scrollLeft);\n  }\n  return currentScrollOffset;\n}\n\n/**\n * Determines target effect end based on animation duration, iterations count and start and end delays\n *  returned value should always be positive\n * @param options {Animation} animation\n * @returns {number}\n */\nexport function calculateTargetEffectEnd(animation) {\n  return animation.effect.getComputedTiming().activeDuration;\n}\n\n/**\n * Calculates scroll offset based on axis and source geometry\n * @param source {DOMElement}\n * @param axis {String}\n * @returns {number}\n */\nexport function calculateMaxScrollOffset(source, axis) {\n  const sourceMeasurements = sourceDetails.get(source).sourceMeasurements;\n  // Only one horizontal writing mode: horizontal-tb.  All other writing modes\n  // flow vertically.\n  const horizontalWritingMode =\n    getComputedStyle(source).writingMode == 'horizontal-tb';\n  if (axis === \"block\")\n    axis = horizontalWritingMode ? \"y\" : \"x\";\n  else if (axis === \"inline\")\n    axis = horizontalWritingMode ? \"x\" : \"y\";\n  if (axis === \"y\")\n    return sourceMeasurements.scrollHeight - sourceMeasurements.clientHeight;\n  else if (axis === \"x\")\n    return sourceMeasurements.scrollWidth - sourceMeasurements.clientWidth;\n}\n\nfunction resolvePx(cssValue, info) {\n  const cssNumericValue = simplifyCalculation(cssValue, info);\n  if (cssNumericValue instanceof CSSUnitValue) {\n    if (cssNumericValue.unit === 'px') {\n      return cssNumericValue.value;\n    } else {\n      throw TypeError(\"Unhandled unit type \" + cssNumericValue.unit);\n    }\n  } else {\n    throw TypeError('Unsupported value type: ' + typeof (cssValue));\n  }\n}\n\n// Detects if the cached source is obsolete, and updates if required\n// to ensure the new source has a scroll listener.\nfunction validateSource(timeline) {\n  if (!(timeline instanceof ViewTimeline)) {\n    validateAnonymousSource(timeline);\n    return;\n  }\n\n  const node = timeline.subject;\n  if (!node) {\n    updateSource(timeline, null);\n    return;\n  }\n\n  const display  = getComputedStyle(node).display;\n  if (display == 'none') {\n    updateSource(timeline, null);\n    return;\n  }\n\n  const source = getScrollParent(node);\n  updateSource(timeline, source);\n}\n\nfunction validateAnonymousSource(timeline) {\n  const details = scrollTimelineOptions.get(timeline);\n  if(!details.anonymousSource)\n    return;\n\n  const source = getAnonymousSourceElement(details.anonymousSource, details.anonymousTarget);\n  updateSource(timeline, source);\n}\n\nfunction isValidAxis(axis) {\n  return [\"block\", \"inline\", \"x\", \"y\"].includes(axis);\n}\n\n/**\n * Read measurements of source element\n * @param {HTMLElement} source\n * @return {{clientWidth: *, scrollHeight: *, scrollLeft, clientHeight: *, scrollTop, scrollWidth: *}}\n */\nexport function measureSource (source) {\n  const style = getComputedStyle(source);\n  return {\n    scrollLeft: source.scrollLeft,\n    scrollTop: source.scrollTop,\n    scrollWidth: source.scrollWidth,\n    scrollHeight: source.scrollHeight,\n    clientWidth: source.clientWidth,\n    clientHeight: source.clientHeight,\n    writingMode: style.writingMode,\n    direction: style.direction,\n    scrollPaddingTop: style.scrollPaddingTop,\n    scrollPaddingBottom: style.scrollPaddingBottom,\n    scrollPaddingLeft: style.scrollPaddingLeft,\n    scrollPaddingRight: style.scrollPaddingRight\n  };\n}\n\n/**\n * Measure subject element relative to source\n * @param {HTMLElement} source\n * @param {HTMLElement|undefined} subject\n * @param subject\n */\nexport function measureSubject(source, subject) {\n  if (!source || !subject) {\n    return\n  }\n  let top = 0;\n  let left = 0;\n  let node = subject;\n  const ancestor = source.offsetParent;\n  while (node && node != ancestor) {\n    left += node.offsetLeft;\n    top += node.offsetTop;\n    node = node.offsetParent;\n  }\n  left -= source.offsetLeft + source.clientLeft;\n  top -= source.offsetTop + source.clientTop;\n  const style = getComputedStyle(subject);\n  return {\n    top,\n    left,\n    offsetWidth: subject.offsetWidth,\n    offsetHeight: subject.offsetHeight,\n    fontSize: style.fontSize,\n  };\n}\n\n/**\n * Update measurements of source, and update timelines\n * @param {HTMLElement} source\n */\nfunction updateMeasurements(source) {\n  let details = sourceDetails.get(source);\n  details.sourceMeasurements = measureSource(source);\n\n  // Update measurements of the subject of connected view timelines\n  for (const ref of details.timelineRefs) {\n    const timeline = ref.deref();\n    if ((timeline instanceof ViewTimeline)) {\n      const timelineDetails = scrollTimelineOptions.get(timeline)\n      timelineDetails.subjectMeasurements = measureSubject(source, timeline.subject)\n    }\n  }\n\n  if (details.updateScheduled)\n    return;\n\n  setTimeout(() => {\n    // Schedule a task to update timelines after all measurements are completed\n    for (const ref of details.timelineRefs) {\n      const timeline = ref.deref();\n      if (timeline) {\n        updateInternal(timeline);\n      }\n    }\n\n    details.updateScheduled = false;\n  });\n  details.updateScheduled = true;\n}\n\nfunction updateSource(timeline, source) {\n  const timelineDetails = scrollTimelineOptions.get(timeline);\n  const oldSource = timelineDetails.source;\n  if (oldSource == source)\n    return;\n\n  if (oldSource) {\n    const details = sourceDetails.get(oldSource);\n    if (details) {\n      // Remove timeline reference from old source\n      details.timelineRefs.delete(timeline);\n\n      // Clean up timeline refs that have been garbage-collected\n      const undefinedRefs = Array.from(details.timelineRefs).filter(ref => typeof ref.deref() === 'undefined');\n      for (const ref of undefinedRefs) {\n        details.timelineRefs.delete(ref);\n      }\n\n      if (details.timelineRefs.size === 0) {\n        // All timelines have been disconnected from the source\n        // Clean up\n        details.disconnect();\n        sourceDetails.delete(oldSource);\n      }\n    }\n  }\n  timelineDetails.source = source;\n  if (source) {\n    let details = sourceDetails.get(source);\n    if (!details) {\n      // This is the first timeline for this source\n      // Store a set of weak refs to connected timelines and current measurements\n      details = {\n        timelineRefs: new Set(),\n        sourceMeasurements: measureSource(source)\n      };\n      sourceDetails.set(source, details);\n\n      // Use resize observer to detect changes to source size\n      const resizeObserver = new ResizeObserver((entries) => {\n        for (const entry of entries) {\n          updateMeasurements(timelineDetails.source)\n        }\n      });\n      resizeObserver.observe(source);\n      for (const child of source.children) {\n        resizeObserver.observe(child)\n      }\n\n      // Use mutation observer to detect updated style attributes on source element\n      const mutationObserver = new MutationObserver((records) => {\n        for (const record of records) {\n          updateMeasurements(record.target);\n        }\n      });\n      mutationObserver.observe(source, {attributes: true, attributeFilter: ['style', 'class']});\n\n      const scrollListener = () => {\n        // Sample and store scroll pos\n        details.sourceMeasurements.scrollLeft = source.scrollLeft;\n        details.sourceMeasurements.scrollTop = source.scrollTop;\n\n        for (const ref of details.timelineRefs) {\n          const timeline = ref.deref();\n          if (timeline) {\n            updateInternal(timeline);\n          }\n        }\n      };\n      scrollEventSource(source).addEventListener(\"scroll\", scrollListener);\n      details.disconnect = () => {\n        resizeObserver.disconnect();\n        mutationObserver.disconnect();\n        scrollEventSource(source).removeEventListener(\"scroll\", scrollListener);\n      };\n    }\n\n    // Add a weak ref to the timeline so that we can update it when the source changes\n    details.timelineRefs.add(new WeakRef(timeline));\n  }\n}\n\n/**\n * Removes a Web Animation instance from ScrollTimeline\n * @param scrollTimeline {ScrollTimeline}\n * @param animation {Animation}\n * @param options {Object}\n */\nexport function removeAnimation(scrollTimeline, animation) {\n  let animations = scrollTimelineOptions.get(scrollTimeline).animations;\n  for (let i = 0; i < animations.length; i++) {\n    if (animations[i].animation == animation) {\n      animations.splice(i, 1);\n    }\n  }\n}\n\n/**\n * Attaches a Web Animation instance to ScrollTimeline.\n * @param scrollTimeline {ScrollTimeline}\n * @param animation {Animation}\n * @param tickAnimation {function(number)}\n */\nexport function addAnimation(scrollTimeline, animation, tickAnimation) {\n  let animations = scrollTimelineOptions.get(scrollTimeline).animations;\n  for (let i = 0; i < animations.length; i++) {\n    // @TODO: This early return causes issues when a page with the polyfill\n    // is loaded from the BFCache. Ideally, this code gets fixed instead of\n    // the workaround which clears the proxyAnimations cache on pagehide.\n    // See https://github.com/flackr/scroll-timeline/issues/146#issuecomment-1698159183\n    // for details.\n    if (animations[i].animation == animation)\n      return;\n  }\n\n  animations.push({\n    animation: animation,\n    tickAnimation: tickAnimation\n  });\n  queueMicrotask(() => {\n    updateInternal(scrollTimeline);\n  });\n}\n\n// TODO: this is a private function used for unit testing add function\nexport function _getStlOptions(scrollTimeline) {\n  return scrollTimelineOptions.get(scrollTimeline);\n}\n\nexport class ScrollTimeline {\n  constructor(options) {\n    scrollTimelineOptions.set(this, {\n      source: null,\n      axis: DEFAULT_TIMELINE_AXIS,\n      anonymousSource: (options ? options.anonymousSource : null),\n      anonymousTarget: (options ? options.anonymousTarget : null),\n\n      // View timeline\n      subject: null,\n      inset: null,\n\n      // Internal members\n      animations: [],\n      subjectMeasurements: null\n    });\n    const source =\n      options && options.source !== undefined ? options.source\n                                              : document.scrollingElement;\n    updateSource(this, source);\n\n    if ((options && options.axis !== undefined) &&\n        (options.axis != DEFAULT_TIMELINE_AXIS)) {\n      if (!isValidAxis(options.axis)) {\n        throw TypeError(\"Invalid axis\");\n      }\n\n      scrollTimelineOptions.get(this).axis = options.axis;\n    }\n\n    updateInternal(this);\n  }\n\n  set source(element) {\n    updateSource(this, element);\n    updateInternal(this);\n  }\n\n  get source() {\n    return scrollTimelineOptions.get(this).source;\n  }\n\n  set axis(axis) {\n    if (!isValidAxis(axis)) {\n      throw TypeError(\"Invalid axis\");\n    }\n\n    scrollTimelineOptions.get(this).axis = axis;\n    updateInternal(this);\n  }\n\n  get axis() {\n    return scrollTimelineOptions.get(this).axis;\n  }\n\n  get duration() {\n    return CSS.percent(100);\n  }\n\n  get phase() {\n    // Per https://drafts.csswg.org/scroll-animations-1/#phase-algorithm\n    // Step 1\n    const unresolved = null;\n    //   if source is null\n    const container = this.source;\n    if (!container) return \"inactive\";\n    let scrollerStyle = getComputedStyle(container);\n\n    //   if source does not currently have a CSS layout box\n    if (scrollerStyle.display == \"none\")\n      return \"inactive\";\n\n    //   if source's layout box is not a scroll container\"\n    if (container != document.scrollingElement &&\n        (scrollerStyle.overflow == 'visible' ||\n         scrollerStyle.overflow == \"clip\")) {\n        return \"inactive\";\n    }\n\n    return \"active\"\n  }\n\n  get currentTime() {\n    const unresolved = null;\n    const container = this.source;\n    if (!container || !container.isConnected) return unresolved;\n    if (this.phase == 'inactive')\n      return unresolved;\n    const scrollerStyle = getComputedStyle(container);\n    if (\n      scrollerStyle.display === \"inline\" ||\n      scrollerStyle.display === \"none\"\n    ) {\n      return unresolved;\n    }\n\n    const axis = this.axis;\n    const scrollPos = directionAwareScrollOffset(container, axis);\n    const maxScrollPos = calculateMaxScrollOffset(container, axis);\n\n    return maxScrollPos > 0 ? CSS.percent(100 * scrollPos / maxScrollPos)\n                            : CSS.percent(100);\n  }\n\n  get __polyfill() {\n    return true;\n  }\n}\n\n// Methods for calculation of the containing block.\n// See https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block.\n\nfunction findClosestAncestor(element, matcher) {\n  let candidate = element.parentElement;\n  while(candidate != null) {\n    if (matcher(candidate))\n      return candidate;\n    candidate = candidate.parentElement;\n  }\n}\n\nexport function getAnonymousSourceElement(sourceType, node) {\n  switch (sourceType) {\n    case 'root':\n      return document.scrollingElement;\n    case 'nearest':\n      return getScrollParent(node);\n    case 'self':\n      return node;\n    default:\n      throw new TypeError('Invalid ScrollTimeline Source Type.');\n  }\n}\n\nfunction isBlockContainer(element) {\n  const style = getComputedStyle(element);\n  switch (style.display) {\n    case 'block':\n    case 'inline-block':\n    case 'list-item':\n    case 'table':\n    case 'table-caption':\n    case 'flow-root':\n    case 'flex':\n    case 'grid':\n      return true;\n  }\n\n  return false;\n}\n\nfunction isFixedElementContainer(element) {\n  const style = getComputedStyle(element);\n  if (style.transform != 'none' || style.perspective != 'none')\n    return true;\n\n  if (style.willChange == 'transform' || style.willChange == 'perspective')\n    return true;\n\n  if (style.filter != 'none' || style.willChange == 'filter')\n    return true;\n\n  if (style.backdropFilter != 'none')\n    return true;\n\n  return false;\n}\n\nfunction isAbsoluteElementContainer(element) {\n  const style = getComputedStyle(element);\n  if (style.position != 'static')\n    return true;\n\n  return isFixedElementContainer(element);\n}\n\nfunction getContainingBlock(element) {\n  switch (getComputedStyle(element).position) {\n    case 'static':\n    case 'relative':\n    case 'sticky':\n      return findClosestAncestor(element, isBlockContainer);\n\n    case 'absolute':\n      return findClosestAncestor(element, isAbsoluteElementContainer);\n\n    case 'fixed':\n      return findClosestAncestor(element, isFixedElementContainer);\n  }\n}\n\nexport function getScrollParent(node) {\n  if (!node || !node.isConnected)\n    return undefined;\n\n  while (node = getContainingBlock(node)) {\n    const style = getComputedStyle(node);\n    switch(style['overflow-x']) {\n      case 'auto':\n      case 'scroll':\n      case 'hidden':\n        // https://drafts.csswg.org/css-overflow-3/#overflow-propagation\n        // The UA must apply the overflow from the root element to the viewport;\n        // however, if the overflow is visible in both axis, then the overflow\n        // of the first visible child body is applied instead.\n        if (node == document.body &&\n            getComputedStyle(document.scrollingElement).overflow == \"visible\")\n          return  document.scrollingElement;\n\n        return node;\n    }\n  }\n  return document.scrollingElement;\n}\n\n// ---- View timelines -----\n\n// Computes the scroll offsets corresponding to the [0, 100]% range for a\n// specific phase on a view timeline.\n// TODO: Track changes to determine when associated animations require their\n// timing to be renormalized.\nexport function range(timeline, phase) {\n  const details = scrollTimelineOptions.get(timeline);\n  const subjectMeasurements = details.subjectMeasurements\n  const sourceMeasurements = sourceDetails.get(details.source).sourceMeasurements\n\n  const unresolved = null;\n  if (timeline.phase === 'inactive')\n    return unresolved;\n\n  if (!(timeline instanceof ViewTimeline))\n    return unresolved;\n\n  return calculateRange(phase, sourceMeasurements, subjectMeasurements, details.axis, details.inset);\n}\n\nexport function calculateRange(phase, sourceMeasurements, subjectMeasurements, axis, optionsInset) {\n  // TODO: handle position sticky\n\n  // Determine the view and container size based on the scroll direction.\n  // The view position is the scroll position of the logical starting edge\n  // of the view.\n  const rtl = sourceMeasurements.direction == 'rtl' || sourceMeasurements.writingMode == 'vertical-rl';\n  let viewSize = undefined;\n  let viewPos = undefined;\n  let sizes = {\n    fontSize: subjectMeasurements.fontSize\n  };\n  if (normalizeAxis(axis, sourceMeasurements) === 'x') {\n    viewSize = subjectMeasurements.offsetWidth;\n    viewPos = subjectMeasurements.left;\n    sizes.scrollPadding = [sourceMeasurements.scrollPaddingLeft, sourceMeasurements.scrollPaddingRight];\n    if (rtl) {\n      viewPos += sourceMeasurements.scrollWidth - sourceMeasurements.clientWidth;\n      sizes.scrollPadding = [sourceMeasurements.scrollPaddingRight, sourceMeasurements.scrollPaddingLeft];\n    }\n    sizes.containerSize = sourceMeasurements.clientWidth;\n  } else {\n    // TODO: support sideways-lr\n    viewSize = subjectMeasurements.offsetHeight;\n    viewPos = subjectMeasurements.top;\n    sizes.scrollPadding = [sourceMeasurements.scrollPaddingTop, sourceMeasurements.scrollPaddingBottom];\n    sizes.containerSize = sourceMeasurements.clientHeight;\n  }\n\n  const inset = calculateInset(optionsInset, sizes);\n\n  // Cover:\n  // 0% progress represents the position at which the start border edge of the\n  // element’s principal box coincides with the end edge of its view progress\n  // visibility range.\n  // 100% progress represents the position at which the end border edge of the\n  // element’s principal box coincides with the start edge of its view progress\n  // visibility range.\n  const coverStartOffset = viewPos - sizes.containerSize + inset.end;\n  const coverEndOffset = viewPos + viewSize - inset.start;\n\n  // Contain:\n  // The 0% progress represents the earlier of the following positions:\n  // 1. The start border edge of the element’s principal box coincides with\n  //    the start edge of its view progress visibility range.\n  // 2. The end border edge of the element’s principal box coincides with\n  //    the end edge of its view progress visibility range.\n  // The 100% progress represents the greater of the following positions:\n  // 1. The start border edge of the element’s principal box coincides with\n  //  the start edge of its view progress visibility range.\n  // 2. The end border edge of the element’s principal box coincides with\n  //    the end edge of its view progress visibility range.\n  const alignStartOffset = coverStartOffset + viewSize;\n  const alignEndOffset = coverEndOffset - viewSize;\n  const containStartOffset = Math.min(alignStartOffset, alignEndOffset);\n  const containEndOffset = Math.max(alignStartOffset, alignEndOffset);\n\n  // Entry and Exit bounds align with cover and contains bounds.\n\n  let startOffset = undefined;\n  let endOffset = undefined;\n  // Take inset into account when determining the scrollport size\n  const adjustedScrollportSize = sizes.containerSize - inset.start - inset.end;\n  const subjectIsLargerThanScrollport = viewSize > adjustedScrollportSize;\n\n  switch(phase) {\n    case 'cover':\n      startOffset = coverStartOffset;\n      endOffset = coverEndOffset;\n      break;\n\n    case 'contain':\n      startOffset = containStartOffset;\n      endOffset = containEndOffset;\n      break;\n\n    case 'entry':\n      startOffset = coverStartOffset;\n      endOffset = containStartOffset;\n      break;\n\n    case 'exit':\n      startOffset = containEndOffset;\n      endOffset = coverEndOffset;\n      break;\n\n    case 'entry-crossing':\n      startOffset = coverStartOffset;\n      endOffset = subjectIsLargerThanScrollport ? containEndOffset : containStartOffset;\n      break;\n\n    case 'exit-crossing':\n      startOffset = subjectIsLargerThanScrollport ? containStartOffset : containEndOffset;\n      endOffset = coverEndOffset;\n      break;\n  }\n  return { start: startOffset, end: endOffset };\n}\n\nfunction parseInset(value) {\n  const inset = { start: 0, end: 0 };\n\n  if (!value) return inset;\n\n  let parts;\n  // Parse string parts to\n  if (typeof value === 'string') {\n    parts = splitIntoComponentValues(value).map(str => {\n      if (str === 'auto') {\n        return 'auto';\n      }\n      try {\n        return CSSNumericValue.parse(str);\n      } catch (e) {\n        throw TypeError(`Could not parse inset \"${value}\"`);\n      }\n    });\n  } else if (Array.isArray(value)) {\n    parts = value;\n  } else {\n    parts = [value];\n  }\n  if (parts.length === 0 || parts.length > 2) {\n    throw TypeError('Invalid inset');\n  }\n\n  // Validate that the parts are 'auto' or <length-percentage>\n  for (const part of parts) {\n    if (part === 'auto') {\n      continue;\n    }\n    const type = part.type();\n    if (!(type.length === 1 || type.percent === 1)) {\n      throw TypeError('Invalid inset');\n    }\n  }\n\n  return {\n    start: parts[0],\n    end: parts[1] ?? parts[0]\n  };\n}\n\nfunction calculateInset(value, sizes) {\n  const inset = { start: 0, end: 0 };\n\n  if (!value) return inset;\n\n  const [start, end] = [value.start, value.end].map((part, i) => {\n    if (part === 'auto') {\n      return sizes.scrollPadding[i] === 'auto' ? 0 : parseFloat(sizes.scrollPadding[i]);\n    }\n\n    return resolvePx(part, {\n      percentageReference: CSS.px(sizes.containerSize),\n      fontSize: CSS.px(parseFloat(sizes.fontSize))\n    })\n  });\n\n  return { start, end };\n}\n\n// Calculate the fractional offset of a range value relative to the normal range.\nexport function fractionalOffset(timeline, value) {\n  if (timeline instanceof ViewTimeline) {\n    const { rangeName, offset } = value;\n\n    const phaseRange = range(timeline, rangeName);\n    const coverRange = range(timeline, 'cover');\n\n    return calculateRelativePosition(phaseRange, offset, coverRange, timeline.subject);\n  }\n\n  if (timeline instanceof ScrollTimeline) {\n    const { axis, source } = timeline;\n    const { sourceMeasurements } = sourceDetails.get(source);\n\n    let sourceScrollDistance = undefined;\n    if (normalizeAxis(axis, sourceMeasurements) === 'x') {\n      sourceScrollDistance = sourceMeasurements.scrollWidth - sourceMeasurements.clientWidth;\n    } else {\n      sourceScrollDistance = sourceMeasurements.scrollHeight - sourceMeasurements.clientHeight;\n    }\n\n    // TODO: pass relative measurements (viewport, font-size, root font-size, etc. ) to resolvePx() to resolve relative units\n    const position = resolvePx(value, {percentageReference: CSS.px(sourceScrollDistance)});\n    const fractionalOffset = position / sourceScrollDistance;\n\n    return fractionalOffset;\n  }\n\n  unsupportedTimeline(timeline);\n}\n\nexport function calculateRelativePosition(phaseRange, offset, coverRange, subject) {\n  if (!phaseRange || !coverRange)\n    return 0;\n\n  let style = getComputedStyle(subject)\n  const info = {\n    percentageReference: CSS.px(phaseRange.end - phaseRange.start),\n    fontSize: CSS.px(parseFloat(style.fontSize))\n  };\n\n  const offsetPX = resolvePx(offset, info) + phaseRange.start;\n  return (offsetPX - coverRange.start) / (coverRange.end - coverRange.start);\n}\n\n// https://drafts.csswg.org/scroll-animations-1/#view-progress-timelines\nexport class ViewTimeline extends ScrollTimeline {\n  // As specced, ViewTimeline has a subject and a source, but\n  // ViewTimelineOptions only has source. Furthermore, there is a strict\n  // relationship between subject and source (source is nearest scrollable\n  // ancestor of subject).\n\n  // Proceeding under the assumption that subject will be added to\n  // ViewTimelineOptions. Inferring the source from the subject if not\n  // explicitly set.\n  constructor(options) {\n    super(options);\n    const details = scrollTimelineOptions.get(this);\n    details.subject = options && options.subject ? options.subject : undefined;\n    // TODO: Handle insets.\n    if (options && options.inset) {\n      details.inset = parseInset(options.inset);\n    }\n    if (details.subject) {\n      const resizeObserver = new ResizeObserver(() => {\n        updateMeasurements(details.source)\n      })\n      resizeObserver.observe(details.subject)\n\n      const mutationObserver = new MutationObserver(() => {\n        updateMeasurements(details.source);\n      });\n      mutationObserver.observe(details.subject, {attributes: true, attributeFilter: ['class', 'style']});\n    }\n    validateSource(this);\n    details.subjectMeasurements = measureSubject(details.source, details.subject);\n    updateInternal(this);\n  }\n\n  get source() {\n    validateSource(this);\n    return scrollTimelineOptions.get(this).source;\n  }\n\n  set source(source) {\n    throw new Error(\"Cannot set the source of a view timeline\");\n  }\n\n  get subject() {\n    return scrollTimelineOptions.get(this).subject;\n  }\n\n  // The axis is called \"axis\" for a view timeline.\n  // Internally we still call it axis.\n  get axis() {\n    return scrollTimelineOptions.get(this).axis;\n  }\n\n  get currentTime() {\n    const unresolved = null;\n    const scrollPos = directionAwareScrollOffset(this.source, this.axis);\n    if (scrollPos == unresolved)\n      return unresolved;\n\n    const offsets = range(this, 'cover');\n    if (!offsets)\n      return unresolved;\n    const progress =\n        (scrollPos - offsets.start) / (offsets.end - offsets.start);\n\n    return CSS.percent(100 * progress);\n  }\n\n  get startOffset() {\n    return CSS.px(range(this,'cover').start);\n  }\n\n  get endOffset() {\n    return CSS.px(range(this,'cover').end);\n  }\n\n}\n", "import {\n  ANIMATION_RANGE_NAMES,\n  ScrollTimeline,\n  addAnimation,\n  removeAnimation,\n  fractionalOffset,\n} from \"./scroll-timeline-base\";\nimport {splitIntoComponentValues} from './utils';\nimport {simplifyCalculation} from './simplify-calculation';\n\nconst nativeDocumentGetAnimations = document.getAnimations;\nconst nativeElementGetAnimations = window.Element.prototype.getAnimations;\nconst nativeElementAnimate = window.Element.prototype.animate;\nconst nativeAnimation = window.Animation;\n\nclass PromiseWrapper {\n  constructor() {\n    this.state = 'pending';\n    this.nativeResolve = this.nativeReject = null;\n    this.promise = new Promise((resolve, reject) => {\n      this.nativeResolve = resolve;\n      this.nativeReject = reject;\n    });\n  }\n  resolve(value) {\n    this.state = 'resolved';\n    this.nativeResolve(value);\n  }\n  reject(reason) {\n    this.state = 'rejected';\n    // Do not report unhandled promise rejections.\n    this.promise.catch(() => {});\n    this.nativeReject(reason);\n  }\n}\n\nfunction createReadyPromise(details) {\n  details.readyPromise = new PromiseWrapper();\n  // Trigger the pending task on the next animation frame.\n  requestAnimationFrame(() => {\n    const timelineTime = details.timeline?.currentTime ?? null;\n    if (timelineTime === null) {\n      return\n    }\n    // Run auto align start time procedure, in case measurements are ready\n    autoAlignStartTime(details);\n    if (details.pendingTask === 'play' && (details.startTime !== null || details.holdTime !== null)) {\n      commitPendingPlay(details);\n    } else if (details.pendingTask === 'pause') {\n      commitPendingPause(details);\n    }\n  });\n}\n\nfunction createAbortError() {\n  return new DOMException(\"The user aborted a request\", \"AbortError\");\n}\n\n// Converts a time from its internal representation to a percent. For a\n// monotonic timeline, time is reported as a double with implicit units of\n// milliseconds. For progress-based animations, times are reported as\n// percentages.\nfunction toCssNumberish(details, value) {\n  if (value === null)\n    return value;\n\n  if (typeof value !== 'number') {\n      throw new DOMException(\n          `Unexpected value: ${value}.  Cannot convert to CssNumberish`,\n          \"InvalidStateError\");\n  }\n\n  const rangeDuration = details.rangeDuration ?? 100;\n  const limit = effectEnd(details);\n  const percent = limit ?  rangeDuration * value / limit : 0;\n  return CSS.percent(percent);\n}\n\n// Covnerts a time to its internal representation. Progress-based animations\n// use times expressed as percentages. Each progress-based animation is backed\n// by a native animation with a document timeline in the polyfill. Thus, we\n// need to convert the timing from percent to milliseconds with implicit units.\nfunction fromCssNumberish(details, value) {\n  if (!details.timeline) {\n    // Document timeline\n    if (value == null || typeof value === 'number')\n      return value;\n\n    const convertedTime = value.to('ms');\n    if (convertedTime)\n      return convertedTime.value;\n\n    throw new DOMException(\n        \"CSSNumericValue must be either a number or a time value for \" +\n        \"time based animations.\",\n        \"InvalidStateError\");\n  } else {\n    // Scroll timeline.\n    if (value === null)\n      return value;\n\n    if (value.unit === 'percent') {\n      const rangeDuration = details.rangeDuration ?? 100;\n      const duration = effectEnd(details);\n      return value.value * duration / rangeDuration;\n    }\n\n    throw new DOMException(\n        \"CSSNumericValue must be a percentage for progress based animations.\",\n        \"NotSupportedError\");\n  }\n}\n\nfunction normalizedTiming(details) {\n  // Used normalized timing in the case of a progress-based animation or\n  // specified timing with a document timeline.  The normalizedTiming property\n  // is initialized and cached when fetching the timing information.\n  const timing = details.proxy.effect.getTiming();\n  return details.normalizedTiming || timing;\n}\n\nfunction commitPendingPlay(details)  {\n  // https://drafts4.csswg.org/web-animations-2/#playing-an-animation-section\n  // Refer to steps listed under \"Schedule a task to run ...\"\n\n  const timelineTime = fromCssNumberish(details, details.timeline.currentTime);\n  if (details.holdTime != null) {\n    // A: If animation’s hold time is resolved,\n    // A.1. Apply any pending playback rate on animation.\n    // A.2. Let new start time be the result of evaluating:\n    //        ready time - hold time / playback rate for animation.\n    //      If the playback rate is zero, let new start time be simply ready\n    //      time.\n    // A.3. Set the start time of animation to new start time.\n    // A.4. If animation’s playback rate is not 0, make animation’s hold\n    //      time unresolved.\n    applyPendingPlaybackRate(details);\n    if (details.animation.playbackRate == 0) {\n      details.startTime = timelineTime;\n    } else {\n      details.startTime\n          = timelineTime -\n              details.holdTime / details.animation.playbackRate;\n      details.holdTime = null;\n    }\n  } else if (details.startTime !== null &&\n             details.pendingPlaybackRate !== null) {\n    // B: If animation’s start time is resolved and animation has a pending\n    //    playback rate,\n    // B.1. Let current time to match be the result of evaluating:\n    //        (ready time - start time) × playback rate for animation.\n    // B.2 Apply any pending playback rate on animation.\n    // B.3 If animation’s playback rate is zero, let animation’s hold time\n    //     be current time to match.\n    // B.4 Let new start time be the result of evaluating:\n    //       ready time - current time to match / playback rate\n    //     for animation.\n    //     If the playback rate is zero, let new start time be simply ready\n    //     time.\n    // B.5 Set the start time of animation to new start time.\n    const currentTimeToMatch =\n        (timelineTime - details.startTime) * details.animation.playbackRate;\n    applyPendingPlaybackRate(details);\n    const playbackRate = details.animation.playbackRate;\n    if (playbackRate == 0) {\n      details.holdTime = null;\n      details.startTime = timelineTime;\n    } else {\n      details.startTime = timelineTime - currentTimeToMatch / playbackRate;\n    }\n  }\n\n  // 8.4 Resolve animation’s current ready promise with animation.\n  if (details.readyPromise && details.readyPromise.state == 'pending')\n     details.readyPromise.resolve(details.proxy);\n\n  // 8.5 Run the procedure to update an animation’s finished state for\n  //     animation with the did seek flag set to false, and the\n  //     synchronously notify flag set to false.\n  updateFinishedState(details, false, false);\n\n  // Additional polyfill step to update the native animation's current time.\n  syncCurrentTime(details);\n  details.pendingTask = null;\n};\n\nfunction commitPendingPause(details) {\n  // https://www.w3.org/TR/web-animations-1/#pausing-an-animation-section\n  // Refer to steps listed under \"Schedule a task to run ...\"\n\n  // 1. Let ready time be the time value of the timeline associated with\n  //    animation at the moment when the user agent completed processing\n  //    necessary to suspend playback of animation’s target effect.\n  const readyTime = fromCssNumberish(details, details.timeline.currentTime);\n\n  // 2. If animation’s start time is resolved and its hold time is not\n  //    resolved, let animation’s hold time be the result of evaluating\n  //    (ready time - start time) × playback rate.\n  if (details.startTime != null && details.holdTime == null) {\n    details.holdTime =\n        (readyTime - details.startTime) * details.animation.playbackRate;\n  }\n\n  // 3. Apply any pending playback rate on animation.\n  applyPendingPlaybackRate(details);\n\n  // 4. Make animation’s start time unresolved.\n  details.startTime = null;\n\n  // 5. Resolve animation’s current ready promise with animation.\n  details.readyPromise.resolve(details.proxy);\n\n  // 6. Run the procedure to update an animation’s finished state for\n  // animation with the did seek flag set to false, and the synchronously\n  //  notify flag set to false.\n  updateFinishedState(details, false, false);\n\n  // Additional polyfill step to update the native animation's current time.\n  syncCurrentTime(details);\n  details.pendingTask = null;\n};\n\nfunction commitFinishedNotification(details) {\n  if (!details.finishedPromise || details.finishedPromise.state != 'pending')\n    return;\n\n  if (details.proxy.playState != 'finished')\n    return;\n\n  details.finishedPromise.resolve(details.proxy);\n\n  details.animation.pause();\n\n  // Event times are speced as doubles in web-animations-1.\n  // Cannot dispatch a proxy to an event since the proxy is not a fully\n  // transparent replacement. As a workaround, use a custom event and inject\n  // the necessary getters.\n  const finishedEvent =\n    new CustomEvent('finish',\n                    { detail: {\n                      currentTime: details.proxy.currentTime,\n                      timelineTime: details.proxy.timeline.currentTime\n                    }});\n  Object.defineProperty(finishedEvent, 'currentTime', {\n    get: function() { return this.detail.currentTime; }\n  });\n  Object.defineProperty(finishedEvent, 'timelineTime', {\n    get: function() { return this.detail.timelineTime; }\n  });\n\n  requestAnimationFrame(() => {\n    queueMicrotask(() => {\n      details.animation.dispatchEvent(finishedEvent);\n    });\n  });\n}\n\nfunction effectivePlaybackRate(details) {\n  if (details.pendingPlaybackRate !== null)\n    return details.pendingPlaybackRate;\n  return details.animation.playbackRate;\n}\n\nfunction applyPendingPlaybackRate(details) {\n  if (details.pendingPlaybackRate !== null) {\n    details.animation.playbackRate = details.pendingPlaybackRate;\n    details.pendingPlaybackRate = null;\n  }\n}\n\n/**\n * Procedure to silently set the current time of an animation to seek time\n * https://drafts.csswg.org/web-animations-2/#silently-set-the-current-time\n * @param details\n * @param {CSSUnitValue} seekTime\n */\nfunction silentlySetTheCurrentTime(details, seekTime) {\n  // The procedure to silently set the current time of an animation, animation, to seek time is as follows:\n  //  1. If seek time is an unresolved time value, then perform the following steps.\n  //     1.  If the current time is resolved, then throw a TypeError.\n  //     2.  Abort these steps.\n  if (seekTime == null) {\n    if (details.currentTime !== null) {\n      throw new TypeError();\n    }\n  }\n  //  2. Let valid seek time be the result of running the validate a CSSNumberish time procedure with seek time as the input.\n  //  3. If valid seek time is false, abort this procedure.\n  seekTime = fromCssNumberish(details, seekTime);\n\n  //  4. Set auto align start time to false.\n  details.autoAlignStartTime = false;\n\n  //  5. Update either animation’s hold time or start time as follows:\n  //\n  //  5a If any of the following conditions are true:\n  //     - animation’s hold time is resolved, or\n  //     - animation’s start time is unresolved, or\n  //     - animation has no associated timeline or the associated timeline is inactive, or\n  //     - animation’s playback rate is 0,\n  //       1. Set animation’s hold time to seek time.\n  //\n  //  5b Otherwise,\n  //     Set animation’s start time to the result of evaluating timeline time - (seek time / playback rate) where\n  //     timeline time is the current time value of timeline associated with animation.\n  if (details.holdTime !== null || details.startTime === null ||\n    details.timeline.phase === 'inactive' || details.animation.playbackRate === 0) {\n    details.holdTime = seekTime;\n  } else {\n    details.startTime =\n      fromCssNumberish(details, details.timeline.currentTime) - seekTime / details.animation.playbackRate;\n  }\n\n  //  6. If animation has no associated timeline or the associated timeline is inactive, make animation’s start time\n  //     unresolved.\n  //     This preserves the invariant that when we don’t have an active timeline it is only possible to set either the\n  //     start time or the animation’s current time.\n  if (details.timeline.phase === 'inactive') {\n    details.startTime = null;\n  }\n\n  //  7. Make animation’s previous current time unresolved.\n  details.previousCurrentTime = null\n}\n\nfunction calculateCurrentTime(details) {\n  if (!details.timeline)\n    return null;\n\n  const timelineTime = fromCssNumberish(details, details.timeline.currentTime);\n  if (timelineTime === null)\n    return null;\n\n  if (details.startTime === null)\n    return null;\n\n  let currentTime =\n      (timelineTime - details.startTime) * details.animation.playbackRate;\n\n  // Handle special case.\n  if (currentTime == -0)\n    currentTime = 0;\n\n  return currentTime;\n}\n\nfunction calculateStartTime(details, currentTime) {\n  if (!details.timeline)\n    return null;\n\n  const timelineTime = fromCssNumberish(details, details.timeline.currentTime);\n  if (timelineTime == null)\n    return null;\n\n  return timelineTime - currentTime / details.animation.playbackRate;\n}\n\nfunction updateFinishedState(details, didSeek, synchronouslyNotify) {\n  if (!details.timeline)\n    return;\n\n  // https://www.w3.org/TR/web-animations-1/#updating-the-finished-state\n  // 1. Calculate the unconstrained current time. The dependency on did_seek is\n  // required to accommodate timelines that may change direction. Without this\n  // distinction, a once-finished animation would remain finished even when its\n  // timeline progresses in the opposite direction.\n  let unconstrainedCurrentTime =\n      didSeek ? fromCssNumberish(details, details.proxy.currentTime)\n              : calculateCurrentTime(details);\n\n  // 2. Conditionally update the hold time.\n  if (unconstrainedCurrentTime && details.startTime != null &&\n      !details.proxy.pending) {\n    // Can seek outside the bounds of the active effect. Set the hold time to\n    // the unconstrained value of the current time in the event that this update\n    // is the result of explicitly setting the current time and the new time\n    // is out of bounds. An update due to a time tick should not snap the hold\n    // value back to the boundary if previously set outside the normal effect\n    // boundary. The value of previous current time is used to retain this\n    // value.\n    const playbackRate = effectivePlaybackRate(details);\n    const upperBound = effectEnd(details);\n    let boundary = details.previousCurrentTime;\n    if (playbackRate > 0 && unconstrainedCurrentTime >= upperBound &&\n        details.previousCurrentTime != null) {\n      if (boundary === null || boundary < upperBound)\n        boundary = upperBound;\n      details.holdTime = didSeek ? unconstrainedCurrentTime : boundary;\n    } else if (playbackRate < 0 && unconstrainedCurrentTime <= 0) {\n      if (boundary == null || boundary > 0)\n        boundary = 0;\n      details.holdTime = didSeek ? unconstrainedCurrentTime : boundary;\n    } else if (playbackRate != 0) {\n      // Update start time and reset hold time.\n      if (didSeek && details.holdTime !== null)\n        details.startTime = calculateStartTime(details, details.holdTime);\n      details.holdTime = null;\n    }\n  }\n\n  // Additional step to ensure that the native animation has the same value for\n  // current time as the proxy.\n  syncCurrentTime(details);\n\n  // 3. Set the previous current time.\n  details.previousCurrentTime = fromCssNumberish(details,\n                                                 details.proxy.currentTime);\n\n  // 4. Set the current finished state.\n  const playState = details.proxy.playState;\n\n  if (playState == 'finished') {\n    if (!details.finishedPromise)\n      details.finishedPromise = new PromiseWrapper();\n    if (details.finishedPromise.state == 'pending') {\n      // 5. Setup finished notification.\n      if (synchronouslyNotify) {\n        commitFinishedNotification(details);\n      } else {\n        Promise.resolve().then(() => {\n          commitFinishedNotification(details);\n        });\n      }\n    }\n  } else {\n    // 6. If not finished but the current finished promise is already resolved,\n    //    create a new promise.\n    if (details.finishedPromise &&\n        details.finishedPromise.state == 'resolved') {\n      details.finishedPromise = new PromiseWrapper();\n    }\n    if (details.animation.playState != 'paused')\n      details.animation.pause();\n  }\n}\n\nfunction effectEnd(details) {\n  // https://www.w3.org/TR/web-animations-1/#end-time\n  const timing = normalizedTiming(details);\n  const totalDuration =\n     timing.delay + timing.endDelay + timing.iterations * timing.duration;\n\n  return Math.max(0, totalDuration);\n}\n\nfunction hasActiveTimeline(details) {\n  return !details.timeline || details.timeline.phase != 'inactive';\n}\n\nfunction syncCurrentTime(details) {\n  if (!details.timeline)\n    return;\n\n  if (details.startTime !== null) {\n    const timelineTime = details.timeline.currentTime;\n    if (timelineTime == null)\n      return;\n\n    const timelineTimeMs = fromCssNumberish(details, timelineTime);\n\n    setNativeCurrentTime(details,\n                         (timelineTimeMs - details.startTime) *\n                             details.animation.playbackRate);\n  } else if (details.holdTime !== null) {\n    setNativeCurrentTime(details, details.holdTime);\n  }\n}\n\n// Sets the time of the underlying animation, nudging the time slightly if at\n// a scroll-timeline boundary to remain in the active phase.\nfunction setNativeCurrentTime(details, time) {\n  const timeline = details.timeline;\n  const playbackRate = details.animation.playbackRate;\n  const atScrollTimelineBoundary =\n      timeline.currentTime &&\n      timeline.currentTime.value == (playbackRate < 0 ? 0 : 100);\n  const delta =\n      atScrollTimelineBoundary ? (playbackRate < 0 ? 0.001 : -0.001) : 0;\n\n  details.animation.currentTime = time + delta;\n}\n\nfunction resetPendingTasks(details) {\n  // https://www.w3.org/TR/web-animations-1/#reset-an-animations-pending-tasks\n\n  // 1. If animation does not have a pending play task or a pending pause task,\n  //    abort this procedure.\n  if (!details.pendingTask)\n    return;\n\n  // 2. If animation has a pending play task, cancel that task.\n  // 3. If animation has a pending pause task, cancel that task.\n  details.pendingTask = null;\n\n  // 4. Apply any pending playback rate on animation.\n  applyPendingPlaybackRate(details);\n\n  // 5. Reject animation’s current ready promise with a DOMException named\n  //    \"AbortError\".\n  details.readyPromise.reject(createAbortError());\n\n  // 6. Let animation’s current ready promise be the result of creating a new\n  //    resolved Promise object.\n  createReadyPromise(details);\n  details.readyPromise.resolve(details.proxy);\n}\n\nfunction playInternal(details, autoRewind) {\n  if (!details.timeline)\n    return;\n\n  // https://drafts.csswg.org/web-animations/#playing-an-animation-section.\n  // 1. Let aborted pause be a boolean flag that is true if animation has a\n  //    pending pause task, and false otherwise.\n  const abortedPause =\n     details.proxy.playState == 'paused' && details.proxy.pending;\n\n  // 2. Let has pending ready promise be a boolean flag that is initially\n  //    false.\n  let hasPendingReadyPromise = false;\n\n  // 3. Let has finite timeline be true if animation has an associated\n  //    timeline that is not monotonically increasing.\n  //    Note: this value will always true at this point in the polyfill.\n  //    Following steps are pruned based on the procedure for scroll\n  //    timelines.\n  //\n  // 4. Let previous current time be the animation’s current time\n  //\n  // 5. Let enable seek be true if the auto-rewind flag is true and has finite timeline is false.\n  //    Otherwise, initialize to false.\n  //\n  // 6. Perform the steps corresponding to the first matching condition from\n  //    the following, if any:\n  //\n  // 6a If animation’s effective playback rate > 0, enable seek is\n  //    true and either animation’s:\n  //      previous current time is unresolved, or\n  //      previous current time < zero, or\n  //      previous current time >= associated effect end,\n  //    6a1. Set the animation’s hold time to zero.\n  //\n  // 6b If animation’s effective playback rate < 0, enable seek is\n  //    true and either animation’s:\n  //      previous current time is unresolved, or\n  //      previous current time is ≤ zero, or\n  //      previous current time is > associated effect end,\n  //    6b1. If associated effect end is positive infinity,\n  //         throw an \"InvalidStateError\" DOMException and abort these steps.\n  //    6b2. Otherwise,\n  //         5b2a Set the animation’s hold time to the animation’s associated effect end.\n  //\n  // 6c If animation’s effective playback rate = 0 and animation’s current time\n  //    is unresolved,\n  //    6c1. Set the animation’s hold time to zero.\n  let previousCurrentTime = fromCssNumberish(details,\n                                             details.proxy.currentTime);\n\n  const playbackRate = effectivePlaybackRate(details);\n  if (playbackRate == 0 && previousCurrentTime == null) {\n    details.holdTime = 0;\n  }\n  // 7. If has finite timeline and previous current time is unresolved:\n  //     Set the flag auto align start time to true.\n  //     NOTE: If play is called for a CSS animation during style update, the animation’s start time cannot be reliably\n  //     calculated until post layout since the start time is to align with the start or end of the animation range\n  //     (depending on the playback rate). In this case, the animation is said to have an auto-aligned start time,\n  //     whereby the start time is automatically adjusted as needed to align the animation’s progress to the\n  //     animation range.\n  if (previousCurrentTime == null) {\n    details.autoAlignStartTime = true;\n  }\n\n  // Not by spec, but required by tests in play-animation.html:\n  // - Playing a finished animation restarts the animation aligned at the start\n  // - Playing a pause-pending but previously finished animation realigns with the scroll position\n  // - Playing a finished animation clears the start time\n  if (details.proxy.playState === 'finished' || abortedPause) {\n    details.holdTime = null\n    details.startTime = null\n    details.autoAlignStartTime = true;\n  }\n\n  // 8. If animation's hold time is resolved, let its start time be\n  //     unresolved.\n  if (details.holdTime) {\n    details.startTime = null;\n  }\n\n  // 9. If animation has a pending play task or a pending pause task,\n  //   9.1 Cancel that task.\n  //   9.2 Set has pending ready promise to true.\n  if (details.pendingTask) {\n    details.pendingTask = null;\n    hasPendingReadyPromise = true;\n  }\n\n  // 10. If the following three conditions are all satisfied:\n  //      animation’s hold time is unresolved, and\n  //      aborted pause is false, and\n  //      animation does not have a pending playback rate,\n  //    abort this procedure.\n  // Additonal check for polyfill: Does not have the auto align start time flag set.\n  // If we return when this flag is set, a play task will not be scheduled, leaving the animation in the\n  // idle state. If the animation is in the idle state, the auto align procedure will bail.\n  // TODO: update with results of https://github.com/w3c/csswg-drafts/issues/9871\n  if (details.holdTime === null && !details.autoAlignStartTime &&\n      !abortedPause && details.pendingPlaybackRate === null)\n    return;\n\n  // 11. If has pending ready promise is false, let animation’s current ready\n  //    promise be a new promise in the relevant Realm of animation.\n  if (details.readyPromise && !hasPendingReadyPromise)\n    details.readyPromise = null;\n\n  // Additional polyfill step to ensure that the native animation has the\n  // correct value for current time.\n  syncCurrentTime(details);\n\n  // 12. Schedule a task to run as soon as animation is ready.\n  if (!details.readyPromise)\n    createReadyPromise(details);\n  details.pendingTask = 'play';\n\n  // Additional step for the polyfill.\n  // This must run after setting up the ready promise, otherwise we will run\n  // the procedure for calculating auto aligned start time before play state is running\n  addAnimation(details.timeline, details.animation,\n               tickAnimation.bind(details.proxy));\n\n  // 13. Run the procedure to update an animation’s finished state for animation\n  //     with the did seek flag set to false, and the synchronously notify flag\n  //     set to false.\n  updateFinishedState(details, /* seek */ false, /* synchronous */ false);\n}\n\nfunction tickAnimation(timelineTime) {\n  const details = proxyAnimations.get(this);\n  if (!details) return;\n\n  if (timelineTime == null) {\n    // While the timeline is inactive, it's effect should not be applied.\n    // To polyfill this behavior, we cancel the underlying animation.\n    if (details.proxy.playState !== 'paused' && details.animation.playState != 'idle')\n      details.animation.cancel();\n    return;\n  }\n\n  // When updating timeline current time, the start time of any attached animation is conditionally updated. For each\n  // attached animation, run the procedure for calculating an auto-aligned start time.\n  autoAlignStartTime(details);\n\n  if (details.pendingTask) {\n    // Commit pending tasks asynchronously if they are ready after aligning start time\n    requestAnimationFrame(() => {\n      if (details.pendingTask === 'play' && (details.startTime !== null || details.holdTime !== null)) {\n        commitPendingPlay(details);\n      } else if (details.pendingTask === 'pause') {\n        commitPendingPause(details);\n      }\n    });\n  }\n\n  const playState = this.playState;\n  if (playState == 'running' || playState == 'finished') {\n    const timelineTimeMs = fromCssNumberish(details, timelineTime);\n\n    setNativeCurrentTime(\n        details,\n        (timelineTimeMs - fromCssNumberish(details, this.startTime)) *\n            this.playbackRate);\n\n    updateFinishedState(details, false, false);\n  }\n}\n\nfunction renormalizeTiming(details) {\n  // Force renormalization.\n  details.specifiedTiming = null;\n}\n\nfunction createProxyEffect(details) {\n  const effect = details.animation.effect;\n  const nativeUpdateTiming = effect.updateTiming;\n\n  // Generic pass-through handler for any method or attribute that is not\n  // explicitly overridden.\n  const handler = {\n    get: function(obj, prop) {\n      const result = obj[prop];\n      if (typeof result === 'function')\n        return result.bind(effect);\n      return result;\n    },\n\n    set: function(obj, prop, value) {\n      obj[prop] = value;\n      return true;\n    }\n  };\n  // Override getComputedTiming to convert to percentages when using a\n  // progress-based timeline.\n  const getComputedTimingHandler = {\n    apply: function(target) {\n      // Ensure that the native animation is using normalized values.\n      effect.getTiming();\n\n      const timing = target.apply(effect);\n\n      if (details.timeline) {\n        const rangeDuration = details.duration ?? 100;\n        timing.localTime = toCssNumberish(details, timing.localTime);\n        timing.endTime = toCssNumberish(details, timing.endTime);\n        timing.activeDuration =\n            toCssNumberish(details, timing.activeDuration);\n        const limit = effectEnd(details);\n        const iteration_duration = timing.iterations ?\n            (limit - timing.delay - timing.endDelay) / timing.iterations : 0;\n        timing.duration = limit ?\n            CSS.percent(rangeDuration * iteration_duration / limit) :\n            CSS.percent(0);\n\n        // Correct for inactive timeline.\n        if (details.timeline.currentTime === undefined) {\n          timing.localTime = null;\n        }\n      }\n      return timing;\n    }\n  };\n  // Override getTiming to normalize the timing. EffectEnd for the animation\n  // align with the range duration.\n  const getTimingHandler = {\n    apply: function(target, thisArg) {\n      // Arbitrary conversion of 100% to ms.\n      const INTERNAL_DURATION_MS = 100000;\n\n      if (details.specifiedTiming)\n        return details.specifiedTiming;\n\n      details.specifiedTiming = target.apply(effect);\n      let timing = Object.assign({}, details.specifiedTiming);\n\n      let totalDuration;\n\n      if (timing.duration === Infinity) {\n        throw TypeError(\n          \"Effect duration cannot be Infinity when used with Scroll \" +\n          \"Timelines\");\n      }\n\n      // Duration 'auto' case.\n      if (timing.duration === null || timing.duration === 'auto' || details.autoDurationEffect) {\n        if (details.timeline) {\n          details.autoDurationEffect = true\n          // TODO: start and end delay are specced as doubles and currently\n          // ignored for a progress based animation. Support delay and endDelay\n          // once CSSNumberish.\n          timing.delay = 0;\n          timing.endDelay = 0;\n          totalDuration = timing.iterations ? INTERNAL_DURATION_MS : 0;\n          timing.duration = timing.iterations\n             ? (totalDuration - timing.delay - timing.endDelay) /\n                 timing.iterations\n             : 0;\n          // When the rangeStart comes after the rangeEnd, we end up in a situation\n          // that cannot work. We can tell this by having ended up with a negative\n          // duration. In that case, we need to adjust the computed timings. We do\n          // this by setting the duration to 0 and then assigning the remainder of\n          // the totalDuration to the endDelay\n          if (timing.duration < 0) {\n            timing.duration = 0;\n            timing.endDelay = totalDuration - timing.delay;\n          }\n          // Set the timing on the native animation to the normalized values\n          // while preserving the specified timing.\n          nativeUpdateTiming.apply(effect, [timing]);\n        }\n      }\n      details.normalizedTiming = timing;\n      return details.specifiedTiming;\n    }\n  };\n  const updateTimingHandler = {\n    apply: function(target, thisArg, argumentsList) {\n      if (!argumentsList || !argumentsList.length)\n        return;\n\n      // Additional validation that is specific to scroll timelines.\n      if (details.timeline && argumentsList[0]) {\n        const options = argumentsList[0];\n        const duration = options.duration;\n        if (duration === Infinity) {\n          throw TypeError(\n              \"Effect duration cannot be Infinity when used with Scroll \" +\n              \"Timelines\");\n        }\n        const iterations = options.iterations;\n        if (iterations === Infinity) {\n          throw TypeError(\n            \"Effect iterations cannot be Infinity when used with Scroll \" +\n            \"Timelines\");\n        }\n\n        if (typeof duration !== 'undefined' && duration !== 'auto') {\n          details.autoDurationEffect = null\n        }\n      }\n\n      // Apply updates on top of the original specified timing.\n      if (details.specifiedTiming) {\n        target.apply(effect, [details.specifiedTiming]);\n      }\n      target.apply(effect, argumentsList);\n      renormalizeTiming(details);\n    }\n  };\n  const proxy = new Proxy(effect, handler);\n  proxy.getComputedTiming = new Proxy(effect.getComputedTiming,\n                                      getComputedTimingHandler);\n  proxy.getTiming = new Proxy(effect.getTiming, getTimingHandler);\n  proxy.updateTiming = new Proxy(effect.updateTiming, updateTimingHandler);\n  return proxy;\n}\n\n// Computes the start delay as a fraction of the active cover range.\nfunction fractionalStartDelay(details) {\n  if (!details.animationRange) return 0;\n  const rangeStart = details.animationRange.start === 'normal' ?\n    getNormalStartRange(details.timeline) :\n    details.animationRange.start;\n  return fractionalOffset(details.timeline, rangeStart);\n}\n\n// Computes the ends delay as a fraction of the active cover range.\nfunction fractionalEndDelay(details) {\n  if (!details.animationRange) return 0;\n  const rangeEnd = details.animationRange.end === 'normal' ?\n    getNormalEndRange(details.timeline) :\n    details.animationRange.end;\n  return 1 - fractionalOffset(details.timeline, rangeEnd);\n}\n\n// Map from an instance of ProxyAnimation to internal details about that animation.\n// See ProxyAnimation constructor for details.\nlet proxyAnimations = new WeakMap();\n\n// Clear cache containing the ProxyAnimation instances when leaving the page.\n// See https://github.com/flackr/scroll-timeline/issues/146#issuecomment-1698159183\n// for details.\nwindow.addEventListener('pagehide', (e) => {\n  proxyAnimations = new WeakMap();\n}, false);\n\n// Map from the real underlying native animation to the ProxyAnimation proxy of it.\nlet proxiedAnimations = new WeakMap();\n\n/**\n * Procedure for calculating an auto-aligned start time.\n * https://drafts.csswg.org/web-animations-2/#animation-calculating-an-auto-aligned-start-time\n * @param details\n */\nfunction autoAlignStartTime(details) {\n  // When attached to a non-monotonic timeline, the start time of the animation may be layout dependent. In this case,\n  // we defer calculation of the start time until the timeline has been updated post layout. When updating timeline\n  // current time, the start time of any attached animation is conditionally updated. The procedure for calculating an\n  // auto-aligned start time is as follows:\n\n  // 1. If the auto-align start time flag is false, abort this procedure.\n  if (!details.autoAlignStartTime) {\n    return;\n  }\n\n  // 2. If the timeline is inactive, abort this procedure.\n  if (!details.timeline || !details.timeline.currentTime) {\n    return;\n  }\n\n  // 3. If play state is idle, abort this procedure.\n  // 4. If play state is paused, and hold time is resolved, abort this procedure.\n  if (details.proxy.playState === 'idle' ||\n    (details.proxy.playState === 'paused' && details.holdTime !== null)) {\n    return;\n  }\n\n  const previousRangeDuration = details.rangeDuration;\n\n  let startOffset, endOffset;\n\n\n  // 5. Let start offset be the resolved timeline time corresponding to the start of the animation attachment range.\n  //    In the case of view timelines, it requires a calculation based on the proportion of the cover range.\n  try {\n    startOffset = CSS.percent(fractionalStartDelay(details) * 100);\n  } catch (e) {\n    // TODO: Validate supported values for range start, to avoid exceptions when resolving the values.\n\n    // Range start is invalid, falling back to default value\n    startOffset = CSS.percent(0);\n    details.animationRange.start = 'normal';\n    console.warn(\"Exception when calculating start offset\", e);\n  }\n\n  // 6. Let end offset be the resolved timeline time corresponding to the end of the animation attachment range.\n  //    In the case of view timelines, it requires a calculation based on the proportion of the cover range.\n  try {\n    endOffset = CSS.percent((1 - fractionalEndDelay(details)) * 100);\n  } catch (e) {\n    // TODO: Validate supported values for range end, to avoid exceptions when resolving the values.\n\n    // Range start is invalid, falling back to default value\n    endOffset = CSS.percent(100);\n    details.animationRange.end = 'normal';\n    console.warn(\"Exception when calculating end offset\", e);\n  }\n\n  // Store the range duration, until we can find a spec aligned method to calculate iteration duration\n  // TODO: Clarify how range duration should be resolved\n  details.rangeDuration = endOffset.value - startOffset.value;\n  // 7. Set start time to start offset if effective playback rate ≥ 0, and end offset otherwise.\n  const playbackRate = effectivePlaybackRate(details);\n  details.startTime = fromCssNumberish(details,playbackRate >= 0 ? startOffset : endOffset);\n\n  // 8. Clear hold time.\n  details.holdTime = null;\n\n  // Additional polyfill step needed to renormalize timing when range has changed\n  if (details.rangeDuration !== previousRangeDuration) {\n    renormalizeTiming(details);\n  }\n}\n\nfunction unsupportedTimeline(timeline) {\n  throw new Error('Unsupported timeline class');\n}\n\nfunction getNormalStartRange(timeline) {\n  if (timeline instanceof ViewTimeline) {\n    return { rangeName: 'cover', offset: CSS.percent(0) };\n  }\n\n  if (timeline instanceof ScrollTimeline) {\n    return CSS.percent(0);\n  }\n\n  unsupportedTimeline(timeline);\n}\n\nfunction getNormalEndRange(timeline) {\n  if (timeline instanceof ViewTimeline) {\n    return { rangeName: 'cover', offset: CSS.percent(100) };\n  }\n\n  if (timeline instanceof ScrollTimeline) {\n    return CSS.percent(100);\n  }\n\n  unsupportedTimeline(timeline);\n}\n\nfunction parseAnimationRange(timeline, value) {\n  if (!value)\n    return {\n      start: 'normal',\n      end: 'normal',\n    };\n\n  const animationRange = {\n    start: getNormalStartRange(timeline),\n    end: getNormalEndRange(timeline),\n  };\n\n  if (timeline instanceof ViewTimeline) {\n    // Format:\n    // <start-name> <start-offset> <end-name> <end-offset>\n    // <name> --> <name> 0% <name> 100%\n    // <name> <start-offset> <end-offset> --> <name> <start-offset>\n    //                                        <name> <end-offset>\n    // <start-offset> <end-offset> --> cover <start-offset> cover <end-offset>\n    // TODO: Support all formatting options once ratified in the spec.\n    const parts = splitIntoComponentValues(value);\n    const rangeNames = [];\n    const offsets = [];\n\n    parts.forEach(part => {\n      if (ANIMATION_RANGE_NAMES.includes(part)) {\n        rangeNames.push(part);\n      } else {\n        try {\n          offsets.push(CSSNumericValue.parse(part));\n        } catch (e) {\n          throw TypeError(`Could not parse range \"${value}\"`);\n        }\n      }\n    });\n\n    if (rangeNames.length > 2 || offsets.length > 2 || offsets.length == 1) {\n      throw TypeError(\"Invalid time range or unsupported time range format.\");\n    }\n\n    if (rangeNames.length) {\n      animationRange.start.rangeName = rangeNames[0];\n      animationRange.end.rangeName = rangeNames.length > 1 ? rangeNames[1] : rangeNames[0];\n    }\n\n    if (offsets.length > 1) {\n      animationRange.start.offset = offsets[0];\n      animationRange.end.offset = offsets[1];\n    }\n\n    return animationRange;\n  }\n\n  if (timeline instanceof ScrollTimeline) {\n    // @TODO: Play nice with only 1 offset being set\n    // @TODO: Play nice with expressions such as `calc(50% + 10px) 100%`\n    const parts = value.split(' ');\n    if (parts.length != 2) {\n      throw TypeError(\"Invalid time range or unsupported time range format.\");\n    }\n\n    animationRange.start = CSSNumericValue.parse(parts[0]);\n    animationRange.end = CSSNumericValue.parse(parts[1]);\n\n    return animationRange;\n  }\n\n  unsupportedTimeline(timeline);\n}\n\nfunction parseTimelineRangePart(timeline, value, position) {\n  if (!value || value === 'normal') return 'normal';\n\n  if (timeline instanceof ViewTimeline) {\n    // Extract parts from the passed in value.\n    let rangeName = 'cover'\n    let offset = position === 'start' ? CSS.percent(0) : CSS.percent(100)\n\n    // Author passed in something like `{ rangeName: 'cover', offset: CSS.percent(100) }`\n    if (value instanceof Object) {\n      if (value.rangeName !== undefined) {\n        rangeName = value.rangeName;\n      }\n\n      if (value.offset !== undefined) {\n        offset = value.offset;\n      }\n    }\n    // Author passed in something like `\"cover 100%\"`\n    else {\n      const parts = splitIntoComponentValues(value);\n\n      if (parts.length === 1) {\n        if (ANIMATION_RANGE_NAMES.includes(parts[0])) {\n          rangeName = parts[0];\n        } else {\n          offset = simplifyCalculation(CSSNumericValue.parse(parts[0]), {});\n        }\n      } else if (parts.length === 2) {\n        rangeName = parts[0];\n        offset = simplifyCalculation(CSSNumericValue.parse(parts[1]), {});\n      }\n    }\n\n    // Validate rangeName\n    if (!ANIMATION_RANGE_NAMES.includes(rangeName)) {\n      throw TypeError(\"Invalid range name\");\n    }\n\n    return { rangeName, offset };\n  }\n\n  if (timeline instanceof ScrollTimeline) {\n    // The value is a standalone offset, so simply parse it.\n    return CSSNumericValue.parse(value);\n  }\n\n  unsupportedTimeline(timeline);\n}\n\n// Create an alternate Animation class which proxies API requests.\n// TODO: Create a full-fledged proxy so missing methods are automatically\n// fetched from Animation.\nexport class ProxyAnimation {\n  constructor(effect, timeline, animOptions={}) {\n    const isScrollAnimation = timeline instanceof ScrollTimeline;\n    const animationTimeline = isScrollAnimation ? undefined : timeline;\n    const animation =\n        (effect instanceof nativeAnimation) ?\n           effect : new nativeAnimation(effect, animationTimeline);\n    proxiedAnimations.set(animation, this);\n    proxyAnimations.set(this, {\n      animation: animation,\n      timeline: isScrollAnimation ? timeline : undefined,\n      playState: isScrollAnimation ? \"idle\" : null,\n      readyPromise: null,\n      finishedPromise: null,\n      // Start and hold times are directly tracked in the proxy despite being\n      // accessible via the animation so that direct manipulation of these\n      // properties does not affect the play state of the underlying animation.\n      // Note that any changes to these values require an update of current\n      // time for the underlying animation to ensure that its hold time is set\n      // to the correct position. These values are represented as floating point\n      // numbers in milliseconds.\n      startTime: null,\n      holdTime: null,\n      rangeDuration: null,\n      previousCurrentTime: null,\n      autoAlignStartTime: false,\n      // Calls to reverse and updatePlaybackRate set a pending rate that does\n      // not immediately take effect. The value of this property is\n      // inaccessible via the web animations API and therefore explicitly\n      // tracked.\n      pendingPlaybackRate: null,\n      pendingTask: null,\n      // Record the specified timing since it may be different than the timing\n      // actually used for the animation. When fetching the timing, this value\n      // will be returned, however, the native animation will use normalized\n      // values.\n      specifiedTiming: null,\n      // The normalized timing has the corrected timing with the intrinsic\n      // iteration duration resolved.\n      normalizedTiming: null,\n      // Effect proxy that performs the necessary time conversions when using a\n      // progress-based timelines.\n      effect: null,\n      // The animation attachment range, restricting the animation’s\n      // active interval to that range of a timeline\n      animationRange: isScrollAnimation ? parseAnimationRange(timeline, animOptions['animation-range']) : null,\n      proxy: this\n    });\n  }\n\n  // -----------------------------------------\n  // Web animation API\n  // -----------------------------------------\n\n  get effect() {\n    const details = proxyAnimations.get(this);\n    if (!details.timeline)\n      return details.animation.effect;\n\n    // Proxy the effect to support timing conversions for progress based\n    // animations.\n    if (!details.effect)\n      details.effect = createProxyEffect(details);\n\n    return details.effect;\n  }\n  set effect(newEffect) {\n    const details = proxyAnimations.get(this);\n    details.animation.effect = newEffect;\n    // Reset proxy to force re-initialization the next time it is accessed.\n    details.effect = null;\n    details.autoDurationEffect = null;\n  }\n\n  get timeline() {\n    const details = proxyAnimations.get(this);\n    // If we explicitly set a null timeline we will return the underlying\n    // animation's timeline.\n    return details.timeline || details.animation.timeline;\n  }\n  set timeline(newTimeline) {\n    // https://drafts4.csswg.org/web-animations-2/#setting-the-timeline\n    const details = proxyAnimations.get(this);\n\n    // 1. Let old timeline be the current timeline of animation, if any.\n    // 2. If new timeline is the same object as old timeline, abort this\n    //    procedure.\n    const oldTimeline = this.timeline;\n    if (oldTimeline == newTimeline)\n      return;\n\n    // 3. Let previous play state be animation’s play state.\n    const previousPlayState = this.playState;\n\n    // 4. Let previous current time be the animation’s current time.\n    const previousCurrentTime = this.currentTime;\n\n    // 5. Set previous progress based in the first condition that applies:\n    //    If previous current time is unresolved:\n    //      Set previous progress to unresolved.\n    //    If endTime time is zero:\n    //      Set previous progress to zero.\n    //    Otherwise\n    //      Set previous progress = previous current time / endTime time\n    let end = effectEnd(details);\n    let previousProgress;\n    if (previousCurrentTime === null) {\n      previousProgress = null\n    } else if (end === 0) {\n      previousProgress = 0;\n    } else {\n      previousProgress = fromCssNumberish(details, previousCurrentTime) / end;\n    }\n\n    // 9. Let from finite timeline be true if old timeline is not null and not\n    //    monotonically increasing.\n    const fromScrollTimeline = (oldTimeline instanceof ScrollTimeline);\n\n    // 10. Let to finite timeline be true if timeline is not null and not\n    //    monotonically increasing.\n    const toScrollTimeline = (newTimeline instanceof ScrollTimeline);\n\n    // 11. Let the timeline of animation be new timeline.\n    // Cannot assume that the native implementation has mutable timeline\n    // support. Deferring this step until we know that we are either\n    // polyfilling, supporting natively, or throwing an error.\n\n    // Additional step required to track whether the animation was pending in\n    // order to set up a new ready promise if needed.\n    const pending = this.pending;\n\n    if (fromScrollTimeline) {\n      removeAnimation(details.timeline, details.animation);\n    }\n\n    // 12. Perform the steps corresponding to the first matching condition from\n    //    the following, if any:\n\n    // If to finite timeline,\n    if (toScrollTimeline) {\n      // Deferred step 11.\n      details.timeline = newTimeline;\n\n      // 1. Apply any pending playback rate on animation\n      applyPendingPlaybackRate(details);\n\n      // 2. Set auto align start time to true.\n      details.autoAlignStartTime = true;\n      // 3. Set start time to unresolved.\n      details.startTime = null;\n      // 4. Set hold time to unresolved.\n      details.holdTime = null;\n\n      // 5. If previous play state is \"finished\" or \"running\"\n      if (previousPlayState === 'running' || previousPlayState === 'finished') {\n        //    1. Schedule a pending play task\n        if (!details.readyPromise || details.readyPromise.state === 'resolved') {\n          createReadyPromise(details);\n        }\n        details.pendingTask = 'play';\n        // Additional polyfill step needed to associate the animation with\n        // the scroll timeline.\n        addAnimation(details.timeline, details.animation,\n                     tickAnimation.bind(this));\n      }\n      // 6. If previous play state is \"paused\" and previous progress is resolved:\n      if (previousPlayState === 'paused' && previousProgress !== null) {\n        //    1. Set hold time to previous progress * endTime time. This step ensures that previous progress is preserved\n        //       even in the case of a pause-pending animation with a resolved start time.\n        details.holdTime = previousProgress * end;\n      }\n\n      // Additional steps required if the animation is pending as we need to\n      // associate the pending promise with proxy animation.\n      // Note: if the native promise already has an associated \"then\", we will\n      // lose this association.\n      if (pending) {\n        if (!details.readyPromise ||\n            details.readyPromise.state == 'resolved') {\n          createReadyPromise(details);\n        }\n        if (previousPlayState == 'paused')\n          details.pendingTask = 'pause';\n        else\n          details.pendingTask = 'play';\n      }\n\n      // Note that the following steps should apply when transitioning to\n      // a monotonic timeline as well; however, we do not have a direct means\n      // of applying the steps to the native animation.\n\n      // 15. If the start time of animation is resolved, make animation’s hold\n      //     time unresolved. This step ensures that the finished play state of\n      //     animation is not “sticky” but is re-evaluated based on its updated\n      //     current time.\n      if (details.startTime !== null)\n        details.holdTime = null;\n\n      // 16. Run the procedure to update an animation’s finished state for\n      //     animation with the did seek flag set to false, and the\n      //     synchronously  notify flag set to false.\n      updateFinishedState(details, false, false);\n      return;\n    }\n\n    // To monotonic timeline.\n    if (details.animation.timeline == newTimeline) {\n      // Deferred step 11 from above.  Clearing the proxy's timeline will\n      // re-associate the proxy with the native animation.\n      removeAnimation(details.timeline, details.animation);\n      details.timeline = null;\n\n      // If from finite timeline and previous current time is resolved,\n      //   Run the procedure to set the current time to previous current time.\n      if (fromScrollTimeline) {\n        if (previousCurrentTime !== null)\n          details.animation.currentTime = previousProgress * effectEnd(details);\n\n        switch (previousPlayState) {\n          case 'paused':\n            details.animation.pause();\n            break;\n\n          case 'running':\n          case 'finished':\n            details.animation.play();\n        }\n      }\n    } else {\n      throw TypeError(\"Unsupported timeline: \" + newTimeline);\n    }\n  }\n\n  get startTime() {\n    const details = proxyAnimations.get(this);\n    if (details.timeline)\n      return toCssNumberish(details, details.startTime);\n\n    return details.animation.startTime;\n  }\n  set startTime(value) {\n    // https://drafts.csswg.org/web-animations/#setting-the-start-time-of-an-animation\n    const details = proxyAnimations.get(this);\n    // 1. Let valid start time be the result of running the validate a CSSNumberish time procedure with new start time\n    //    as the input.\n    // 2. If valid start time is false, abort this procedure.\n    value = fromCssNumberish(details, value);\n    if (!details.timeline) {\n      details.animation.startTime = value;\n      return;\n    }\n\n    // 3. Set auto align start time to false.\n    details.autoAlignStartTime = false;\n\n    // 4. Let timeline time be the current time value of the timeline that\n    //    animation is associated with. If there is no timeline associated with\n    //    animation or the associated timeline is inactive, let the timeline\n    //    time be unresolved.\n    const timelineTime = fromCssNumberish(details,\n                                          details.timeline.currentTime);\n\n    // 5. If timeline time is unresolved and new start time is resolved, make\n    //    animation’s hold time unresolved.\n    if (timelineTime == null && details.startTime != null) {\n      details.holdTime = null;\n      // Clearing the hold time may have altered the value of current time.\n      // Ensure that the underlying animations has the correct value.\n      syncCurrentTime(details);\n    }\n\n    // 6. Let previous current time be animation’s current time.\n    // Note: This is the current time after applying the changes from the\n    // previous step which may cause the current time to become unresolved.\n    const previousCurrentTime = fromCssNumberish(details, this.currentTime);\n\n    // 7. Apply any pending playback rate on animation.\n    applyPendingPlaybackRate(details);\n\n    // 8. Set animation’s start time to new start time.\n    details.startTime = value;\n\n    // 9. Update animation’s hold time based on the first matching condition\n    //    from the following,\n\n    //    If new start time is resolved,\n    //    If animation’s playback rate is not zero,\n    //       make animation’s hold time unresolved.\n\n    //    Otherwise (new start time is unresolved),\n    //        Set animation’s hold time to previous current time even if\n    //        previous current time is unresolved.\n\n    if (details.startTime !== null && details.animation.playbackRate != 0)\n      details.holdTime = null;\n    else\n      details.holdTime = previousCurrentTime;\n\n    // 12. If animation has a pending play task or a pending pause task, cancel\n    //     that task and resolve animation’s current ready promise with\n    //     animation.\n    if (details.pendingTask) {\n      details.pendingTask = null;\n      details.readyPromise.resolve(this);\n    }\n\n   // 13. Run the procedure to update an animation’s finished state for animation\n   //     with the did seek flag set to true, and the synchronously notify flag\n   //     set to false.\n   updateFinishedState(details, true, false);\n\n    // Ensure that currentTime is updated for the native animation.\n    syncCurrentTime(details);\n  }\n\n  get currentTime() {\n    const details = proxyAnimations.get(this);\n    if (!details.timeline)\n      return details.animation.currentTime;\n\n    if (details.holdTime != null)\n      return toCssNumberish(details, details.holdTime);\n\n    return toCssNumberish(details, calculateCurrentTime(details));\n  }\n  set currentTime(value) {\n    const details = proxyAnimations.get(this);\n    if (!details.timeline) {\n      details.animation.currentTime = value;\n      return;\n    }\n    // https://drafts.csswg.org/web-animations-2/#setting-the-current-time-of-an-animation\n    // 1. Run the steps to silently set the current time of animation to seek time.\n    silentlySetTheCurrentTime(details, value);\n\n    // 2. If animation has a pending pause task, synchronously complete the pause operation by performing the following steps:\n    //    1. Set animation’s hold time to seek time.\n    //    2. Apply any pending playback rate to animation.\n    //    3. Make animation’s start time unresolved.\n    //    4. Cancel the pending pause task.\n    //    5. Resolve animation’s current ready promise with animation.\n    if (details.pendingTask == 'pause') {\n      details.holdTime = fromCssNumberish(details, value);\n      applyPendingPlaybackRate(details);\n      details.startTime = null;\n      details.pendingTask = null;\n      details.readyPromise.resolve(this);\n    }\n\n    // 3. Run the procedure to update an animation’s finished state for animation with the did seek flag set to true,\n    // and the synchronously notify flag set to false.\n    updateFinishedState(details, true, false);\n  }\n\n  get playbackRate() {\n    return proxyAnimations.get(this).animation.playbackRate;\n  }\n  set playbackRate(value) {\n    const details = proxyAnimations.get(this);\n\n    if (!details.timeline) {\n      details.animation.playbackRate = value;\n      return;\n    }\n\n    // 1. Clear any pending playback rate on animation.\n    details.pendingPlaybackRate = null;\n\n    // 2. Let previous time be the value of the current time of animation before\n    //    changing the playback rate.\n    const previousCurrentTime = this.currentTime;\n\n    // 3. Set the playback rate to new playback rate.\n    details.animation.playbackRate = value;\n\n    // 4. If previous time is resolved, set the current time of animation to\n    //    previous time\n   if (previousCurrentTime !== null)\n      this.currentTime = previousCurrentTime;\n  }\n\n  get playState() {\n    const details = proxyAnimations.get(this);\n    if (!details.timeline)\n      return details.animation.playState;\n\n    const currentTime = fromCssNumberish(details, this.currentTime);\n\n    // 1. All of the following conditions are true:\n    //    * The current time of animation is unresolved, and\n    //    * the start time of animation is unresolved, and\n    //    * animation does not have either a pending play task or a pending pause\n    //      task,\n    //    then idle.\n    if (currentTime === null && details.startTime === null &&\n        details.pendingTask == null)\n      return 'idle';\n\n    // 2. Either of the following conditions are true:\n    //    * animation has a pending pause task, or\n    //    * both the start time of animation is unresolved and it does not have a\n    //      pending play task,\n    //    then paused.\n    if (details.pendingTask == 'pause' ||\n        (details.startTime === null && details.pendingTask != 'play'))\n      return 'paused';\n\n    // 3.  For animation, current time is resolved and either of the following\n    //     conditions are true:\n    //     * animation’s effective playback rate > 0 and current time >= target\n    //       effect end; or\n    //     * animation’s effective playback rate < 0 and current time <= 0,\n    //    then finished.\n    if (currentTime != null) {\n      if (details.animation.playbackRate > 0 &&\n          currentTime >= effectEnd(details))\n        return 'finished';\n      if (details.animation.playbackRate < 0 && currentTime <= 0)\n        return 'finished';\n    }\n\n    // 4.  Otherwise\n    return 'running';\n  }\n\n  get rangeStart() {\n    return proxyAnimations.get(this).animationRange?.start ?? 'normal';\n  }\n\n  set rangeStart(value) {\n    const details = proxyAnimations.get(this);\n    if (!details.timeline) {\n      return details.animation.rangeStart = value;\n    }\n\n    if (details.timeline instanceof ScrollTimeline) {\n      const animationRange = details.animationRange;\n      animationRange.start = parseTimelineRangePart(details.timeline, value, 'start');\n\n      // Additional polyfill step to ensure that the native animation has the\n      // correct value for current time.\n      autoAlignStartTime(details);\n      syncCurrentTime(details);\n    }\n  }\n\n  get rangeEnd() {\n    return proxyAnimations.get(this).animationRange?.end ?? 'normal';\n  }\n\n  set rangeEnd(value) {\n    const details = proxyAnimations.get(this);\n    if (!details.timeline) {\n      return details.animation.rangeEnd = value;\n    }\n\n    if (details.timeline instanceof ScrollTimeline) {\n      const animationRange = details.animationRange;\n      animationRange.end = parseTimelineRangePart(details.timeline, value, 'end');\n\n      // Additional polyfill step to ensure that the native animation has the\n      // correct value for current time.\n      autoAlignStartTime(details);\n      syncCurrentTime(details);\n    }\n  }\n\n  get replaceState() {\n    // TODO: Fix me. Replace state is not a boolean.\n    return proxyAnimations.get(this).animation.pending;\n  }\n\n  get pending() {\n    const details = proxyAnimations.get(this);\n    if (details.timeline) {\n      return !!details.readyPromise &&\n             details.readyPromise.state == 'pending';\n    }\n\n    return details.animation.pending;\n  }\n\n  finish() {\n    const details = proxyAnimations.get(this);\n    if (!details.timeline) {\n      details.animation.finish();\n      return;\n    }\n\n    // 1. If animation’s effective playback rate is zero, or if animation’s\n    //    effective playback rate > 0 and target effect end is infinity, throw\n    //    an InvalidStateError and abort these steps.\n    const playbackRate = effectivePlaybackRate(details);\n    const duration = effectEnd(details);\n    if (playbackRate == 0) {\n      throw new DOMException(\n          \"Cannot finish Animation with a playbackRate of 0.\",\n          \"InvalidStateError\");\n    }\n    if (playbackRate > 0 && duration == Infinity) {\n      throw new DOMException(\n          \"Cannot finish Animation with an infinite target effect end.\",\n          \"InvalidStateError\");\n    }\n\n    // 2. Apply any pending playback rate to animation.\n    applyPendingPlaybackRate(details);\n\n    // 3. Set limit as follows:\n    //       If playback rate > 0,\n    //          Let limit be target effect end.\n    //       Otherwise,\n    //          Let limit be zero.\n    const limit = playbackRate < 0 ? 0 : duration;\n\n    // 4. Silently set the current time to limit.\n    this.currentTime = toCssNumberish(details, limit);\n\n    // 5. If animation’s start time is unresolved and animation has an\n    //    associated active timeline, let the start time be the result of\n    //    evaluating\n    //        timeline time - (limit / playback rate)\n    //    where timeline time is the current time value of the associated\n    //    timeline.\n    const timelineTime = fromCssNumberish(details,\n                                          details.timeline.currentTime);\n\n    if (details.startTime === null && timelineTime !== null) {\n       details.startTime =\n           timelineTime - (limit / details.animation.playbackRate);\n    }\n\n    // 6. If there is a pending pause task and start time is resolved,\n    //    6.1 Let the hold time be unresolved.\n    //    6.2 Cancel the pending pause task.\n    //    6.3 Resolve the current ready promise of animation with animation.\n    if (details.pendingTask == 'pause' && details.startTime !== null) {\n      details.holdTime = null;\n      details.pendingTask = null;\n      details.readyPromise.resolve(this);\n    }\n\n    // 7. If there is a pending play task and start time is resolved, cancel\n    //    that task and resolve the current ready promise of animation with\n    //    animation.\n    if (details.pendingTask == 'play' && details.startTime !== null) {\n      details.pendingTask = null;\n      details.readyPromise.resolve(this);\n    }\n\n    // 8. Run the procedure to update an animation’s finished state for\n    //    animation with the did seek flag set to true, and the synchronously\n    //    notify flag set to true.\n    updateFinishedState(details, true, true);\n  }\n\n  play() {\n    const details = proxyAnimations.get(this);\n    if (!details.timeline) {\n      details.animation.play();\n      return;\n    }\n\n    playInternal(details, /* autoRewind */ true);\n  }\n\n  pause() {\n    const details = proxyAnimations.get(this);\n    if (!details.timeline) {\n      details.animation.pause();\n      return;\n    }\n\n    // https://www.w3.org/TR/web-animations-1/#pausing-an-animation-section\n    // and https://drafts.csswg.org/web-animations-2/#pausing-an-animation-section\n\n    // 1. If animation has a pending pause task, abort these steps.\n    // 2. If the play state of animation is paused, abort these steps.\n    if (this.playState == \"paused\")\n      return;\n\n    // Replaced steps from https://drafts.csswg.org/web-animations-2/#pausing-an-animation-section\n    //\n    // 3. Let has finite timeline be true if animation has an associated timeline that is not monotonically increasing.\n    //    Note: always true if we have reached this point in the polyfill.\n    //    Pruning following steps to be specific to scroll timelines.\n    // 4. If the animation’s current time is unresolved and has finite timeline is false, perform the steps according\n    //    to the first matching condition below:\n    //\n    //    4a If animation’s playback rate is ≥ 0,\n    //       Set hold time to zero.\n    //    4b Otherwise,\n    //       4b1 If associated effect end for animation is positive infinity,\n    //           throw an \"InvalidStateError\" DOMException and abort these steps.\n    //       4b2 Otherwise,\n    //           Set hold time to animation’s associated effect end.\n    // If has finite timeline is true, and the animation’s current time is unresolved\n    // Set the auto align start time flag to true.\n    if (details.animation.currentTime === null) {\n      details.autoAlignStartTime = true;\n    }\n\n    // 7. Let has pending ready promise be a boolean flag that is initially\n    //    false.\n    // 8. If animation has a pending play task, cancel that task and let has\n    //    pending ready promise be true.\n    // 9. If has pending ready promise is false, set animation’s current ready\n    //    promise to a new promise in the relevant Realm of animation.\n    if (details.pendingTask == 'play')\n      details.pendingTask = null;\n    else\n      details.readyPromise = null;\n\n    // 10. Schedule a task to be executed at the first possible moment where all of the following conditions are true:\n    //\n    //     the user agent has performed any processing necessary to suspend the playback of animation’s associated\n    //     effect, if any.\n    //     the animation is associated with a timeline that is not inactive.\n    //     the animation has a resolved hold time or start time.\n    if (!details.readyPromise)\n      createReadyPromise(details);\n    details.pendingTask ='pause';\n\n    // Additional step for the polyfill.\n    // This must run after setting up the ready promise, otherwise we will run\n    // the procedure for calculating auto aligned start time before play state is running\n    addAnimation(details.timeline, details.animation, tickAnimation.bind(details.proxy));\n  }\n\n  reverse() {\n    const details = proxyAnimations.get(this);\n    const playbackRate = effectivePlaybackRate(details);\n    const previousCurrentTime = fromCssNumberish(details, this.currentTime);\n    const inifiniteDuration = effectEnd(details) == Infinity;\n\n    // Let the native implementation handle throwing the exception in cases\n    // where reversal is not possible. Error cases will not change the state\n    // of the native animation.\n    const reversable =\n       (playbackRate != 0) &&\n       (playbackRate <  0 || previousCurrentTime > 0  || !inifiniteDuration);\n    if (!details.timeline || !reversable) {\n      if (reversable)\n        details.pendingPlaybackRate = -effectivePlaybackRate(details);\n      details.animation.reverse();\n      return;\n    }\n\n    if (details.timeline.phase == 'inactive') {\n      throw new DOMException(\n          \"Cannot reverse an animation with no active timeline\",\n          \"InvalidStateError\");\n    }\n\n    this.updatePlaybackRate(-playbackRate);\n    playInternal(details, /* autoRewind */ true);\n  }\n\n  updatePlaybackRate(rate) {\n    const details = proxyAnimations.get(this);\n    details.pendingPlaybackRate = rate;\n    if (!details.timeline) {\n      details.animation.updatePlaybackRate(rate);\n      return;\n    }\n\n    // https://drafts.csswg.org/web-animations/#setting-the-playback-rate-of-an-animation\n\n    // 1. Let previous play state be animation’s play state.\n    // 2. Let animation’s pending playback rate be new playback rate.\n    // Step 2 already performed as we need to record it even when using a\n    // monotonic timeline.\n    const previousPlayState = this.playState;\n\n    // 3. Perform the steps corresponding to the first matching condition from\n    //    below:\n    //\n    // 3a If animation has a pending play task or a pending pause task,\n    //    Abort these steps.\n    if (details.readyPromise && details.readyPromise.state == 'pending')\n      return;\n\n    switch(previousPlayState) {\n      // 3b If previous play state is idle or paused,\n      //    Apply any pending playback rate on animation.\n      case 'idle':\n      case 'paused':\n        applyPendingPlaybackRate(details);\n        break;\n\n      // 3c If previous play state is finished,\n      //    3c.1 Let the unconstrained current time be the result of calculating\n      //         the current time of animation substituting an unresolved time\n      //          value for the hold time.\n      //    3c.2 Let animation’s start time be the result of evaluating the\n      //         following expression:\n      //    timeline time - (unconstrained current time / pending playback rate)\n      // Where timeline time is the current time value of the timeline\n      // associated with animation.\n      //    3c.3 If pending playback rate is zero, let animation’s start time be\n      //         timeline time.\n      //    3c.4 Apply any pending playback rate on animation.\n      //    3c.5 Run the procedure to update an animation’s finished state for\n      //         animation with the did seek flag set to false, and the\n      //         synchronously notify flag set to false.\n\n      case 'finished':\n        const timelineTime = fromCssNumberish(details,\n                                              details.timeline.currentTime);\n        const unconstrainedCurrentTime = timelineTime !== null ?\n            (timelineTime - details.startTime) * details.animation.playbackRate\n            : null;\n        if (rate == 0) {\n          details.startTime = timelineTime;\n        } else {\n          details.startTime =\n              timelineTime != null && unconstrainedCurrentTime != null ?\n                  (timelineTime - unconstrainedCurrentTime) / rate : null;\n        }\n        applyPendingPlaybackRate(details);\n        updateFinishedState(details, false, false);\n        syncCurrentTime(details);\n        break;\n\n      // 3d Otherwise,\n      // Run the procedure to play an animation for animation with the\n      // auto-rewind flag set to false.\n      default:\n        playInternal(details, false);\n    }\n  }\n\n  persist() {\n    proxyAnimations.get(this).animation.persist();\n  }\n\n  get id() {\n    return proxyAnimations.get(this).animation.id;\n  }\n  \n  set id(value) {\n    proxyAnimations.get(this).animation.id = value;\n  }\n\n  cancel() {\n    const details = proxyAnimations.get(this);\n    if (!details.timeline) {\n      details.animation.cancel();\n      return;\n    }\n\n    // https://www.w3.org/TR/web-animations-1/#canceling-an-animation-section\n    // 1. If animation’s play state is not idle, perform the following steps:\n    //    1.1  Run the procedure to reset an animation’s pending tasks on\n    //         animation.\n    //    1.2 Reject the current finished promise with a DOMException named\n    //        \"AbortError\"\n    //    1.3 Let current finished promise be a new (pending) Promise object.\n    //    1.4+ Deferred to native implementation.\n    //         TODO: polyfill since timelineTime will be incorrect for the\n    //               cancel event. Also, should avoid sending a cancel event if\n    //               the native animation is canceled due to the scroll timeline\n    //               becoming inactive. This can likely be done by associating\n    //               the cancel event with the proxy and not the underlying\n    //               animation.\n    if (this.playState != 'idle') {\n      resetPendingTasks(details);\n      if (details.finishedPromise &&\n          details.finishedPromise.state == 'pending') {\n        details.finishedPromise.reject(createAbortError());\n      }\n      details.finishedPromise = new PromiseWrapper();\n      details.animation.cancel();\n    }\n\n    // 2. Make animation’s hold time unresolved.\n    // 3. Make animation’s start time unresolved.\n    details.startTime = null;\n    details.holdTime = null;\n\n    // Extra step in the polyfill the ensure the animation stops ticking.\n    removeAnimation(details.timeline, details.animation);\n  }\n\n  get onfinish() {\n    return proxyAnimations.get(this).animation.onfinish;\n  }\n  set onfinish(value) {\n    proxyAnimations.get(this).animation.onfinish = value;\n  }\n  get oncancel() {\n    return proxyAnimations.get(this).animation.oncancel;\n  }\n  set oncancel(value) {\n    proxyAnimations.get(this).animation.oncancel = value;\n  }\n  get onremove() {\n    return proxyAnimations.get(this).animation.onremove;\n  }\n  set onremove(value) {\n    proxyAnimations.get(this).animation.onremove = value;\n  }\n\n  get finished() {\n    const details = proxyAnimations.get(this);\n    if (!details.timeline)\n       return details.animation.finished;\n\n    if (!details.finishedPromise) {\n      details.finishedPromise = new PromiseWrapper();\n    }\n    return details.finishedPromise.promise;\n  }\n\n  get ready() {\n    const details = proxyAnimations.get(this);\n    if (!details.timeline)\n      return details.animation.ready;\n\n    if (!details.readyPromise) {\n      details.readyPromise = new PromiseWrapper();\n      details.readyPromise.resolve(this);\n    }\n    return details.readyPromise.promise;\n  }\n\n  // --------------------------------------------------\n  // Event target API\n  // --------------------------------------------------\n\n  addEventListener(type, callback, options) {\n    proxyAnimations.get(this).animation.addEventListener(type, callback,\n                                                         options);\n  }\n\n  removeEventListener(type, callback, options) {\n    proxyAnimations.get(this).animation.removeEventListener(type, callback,\n                                                            options);\n  }\n\n  dispatchEvent(event) {\n    proxyAnimations.get(this).animation.dispatchEvent(event);\n  }\n};\n\nexport function animate(keyframes, options) {\n  const timeline = options.timeline;\n\n  if (timeline instanceof ScrollTimeline)\n    delete options.timeline;\n\n  const animation = nativeElementAnimate.apply(this, [keyframes, options]);\n  const proxyAnimation = new ProxyAnimation(animation, timeline);\n\n  if (timeline instanceof ScrollTimeline) {\n    animation.pause();\n\n    const details = proxyAnimations.get(proxyAnimation);\n    details.animationRange = {\n      start: parseTimelineRangePart(timeline, options.rangeStart, 'start'),\n      end: parseTimelineRangePart(timeline, options.rangeEnd, 'end'),\n    };\n\n    proxyAnimation.play();\n  }\n\n  return proxyAnimation;\n}\n\nfunction replaceProxiedAnimations(animationsList) {\n  for (let i = 0; i < animationsList.length; ++i) {\n    let proxyAnimation = proxiedAnimations.get(animationsList[i]);\n    if (proxyAnimation) {\n      animationsList[i] = proxyAnimation;\n    }\n  }\n  return animationsList;\n}\n\nexport function elementGetAnimations(options) {\n  let animations = nativeElementGetAnimations.apply(this, [options]);\n  return replaceProxiedAnimations(animations);\n}\n\nexport function documentGetAnimations(options) {\n  let animations = nativeDocumentGetAnimations.apply(this, [options]);\n  return replaceProxiedAnimations(animations);\n}\n", "import { ANIMATION_RANGE_NAMES, getAnonymousSourceElement } from './scroll-timeline-base';\n\n// This is also used in scroll-timeline-css.js\nexport const RegexMatcher = {\n  IDENTIFIER: /[\\w\\\\\\@_-]+/g,\n  WHITE_SPACE: /\\s*/g,\n  NUMBER: /^[0-9]+/,\n  TIME: /^[0-9]+(s|ms)/,\n  SCROLL_TIMELINE: /scroll-timeline\\s*:([^;}]+)/,\n  SCROLL_TIMELINE_NAME: /scroll-timeline-name\\s*:([^;}]+)/,\n  SCROLL_TIMELINE_AXIS: /scroll-timeline-axis\\s*:([^;}]+)/,\n  VIEW_TIMELINE: /view-timeline\\s*:([^;}]+)/,\n  VIEW_TIMELINE_NAME: /view-timeline-name\\s*:([^;}]+)/,\n  VIEW_TIMELINE_AXIS: /view-timeline-axis\\s*:([^;}]+)/,\n  VIEW_TIMELINE_INSET: /view-timeline-inset\\s*:([^;}]+)/,\n  ANIMATION_TIMELINE: /animation-timeline\\s*:([^;}]+)/,\n  ANIMATION_TIME_RANGE: /animation-range\\s*:([^;}]+)/,\n  ANIMATION_NAME: /animation-name\\s*:([^;}]+)/,\n  ANIMATION: /animation\\s*:([^;}]+)/,\n  ANONYMOUS_SCROLL_TIMELINE: /scroll\\(([^)]*)\\)/,\n  ANONYMOUS_VIEW_TIMELINE: /view\\(([^)]*)\\)/,\n};\n\n// Used for ANIMATION_TIMELINE, ANIMATION_NAME and ANIMATION regex\nconst VALUES_CAPTURE_INDEX = 1;\n\nconst WHOLE_MATCH_INDEX = 0;\n\nconst ANIMATION_KEYWORDS = [\n  'normal', 'reverse', 'alternate', 'alternate-reverse',\n  'none', 'forwards', 'backwards', 'both',\n  'running', 'paused',\n  'ease', 'linear', 'ease-in', 'ease-out', 'ease-in-out'\n];\n\nconst TIMELINE_AXIS_TYPES = ['block', 'inline', 'x', 'y'];\nconst ANONYMOUS_TIMELINE_SOURCE_TYPES = ['nearest', 'root', 'self'];\n\n// Parse a styleSheet to extract the relevant elements needed for\n// scroll-driven animations.\n// we will save objects in a list named cssRulesWithTimelineName\nexport class StyleParser {\n  constructor() {\n    this.cssRulesWithTimelineName = [];\n    this.nextAnonymousTimelineNameIndex = 0;\n    this.anonymousScrollTimelineOptions = new Map(); // save anonymous options by name\n    this.anonymousViewTimelineOptions = new Map(); // save anonymous options by name\n    this.sourceSelectorToScrollTimeline = [];\n    this.subjectSelectorToViewTimeline = [];\n    this.keyframeNamesSelectors = new Map();\n  }\n\n  // Inspired by\n  // https://drafts.csswg.org/css-syntax/#parser-diagrams\n  // https://github.com/GoogleChromeLabs/container-query-polyfill/blob/main/src/engine.ts\n  // This function is called twice, in the first pass we are interested in saving\n  // the @keyframe names, in the second pass we will parse other rules to extract\n  // scroll-animations related properties and values.\n  transpileStyleSheet(sheetSrc, firstPass, srcUrl) {\n    // AdhocParser\n    const p = {\n      sheetSrc: sheetSrc,\n      index: 0,\n      name: srcUrl,\n    };\n\n    while (p.index < p.sheetSrc.length) {\n      this.eatWhitespace(p);\n      if (p.index >= p.sheetSrc.length) break;\n      if (this.lookAhead(\"/*\", p)) {\n        while (this.lookAhead(\"/*\", p)) {\n          this.eatComment(p);\n          this.eatWhitespace(p);\n        }\n        continue;\n      }\n\n      const rule = this.parseQualifiedRule(p);\n      if (!rule) continue;\n      if (firstPass)\n        this.parseKeyframesAndSaveNameMapping(rule, p);\n      else\n        this.handleScrollTimelineProps(rule, p);\n    }\n\n    // If this sheet has no srcURL (like from a <style> tag), we are done.\n    // TODO: Otherwise, we have to find `url()` functions and resolve\n    // relative and path-absolute URLs to absolute URLs.\n    return p.sheetSrc;\n  }\n\n  getAnimationTimelineOptions(animationName, target) {\n    // Rules are pushed to cssRulesWithTimelineName list in the same order as they appear in style sheet.\n    // We are traversing backwards to take the last sample of a rule in a style sheet.\n    // TODO: Rule specificity should be taken into account, i.e. don't just take the last\n    // rule that matches, instead take the one with the most specifity among those that match\n    for (let i = this.cssRulesWithTimelineName.length - 1; i >= 0; i--) {\n      const current = this.cssRulesWithTimelineName[i];\n      try {\n        if (target.matches(current.selector)) {\n          if (!current['animation-name'] || current['animation-name'] == animationName) {\n            return {\n              'animation-timeline': current['animation-timeline'],\n              'animation-range': current['animation-range']\n            }\n          }\n        }\n      } catch {\n        // TODO: handle nested at-rules\n      }      \n    }\n\n    return null;\n  }\n\n  getAnonymousScrollTimelineOptions(timelineName, target) {\n    const options = this.anonymousScrollTimelineOptions.get(timelineName);\n    if(options) {\n      return {\n        anonymousSource: options.source,\n        anonymousTarget: target,\n        source: getAnonymousSourceElement(options.source ?? 'nearest', target),\n        axis: (options.axis ? options.axis : 'block'),\n      };\n    }\n\n    return null;\n  }\n\n  getScrollTimelineOptions(timelineName, target) {\n    const anonymousTimelineOptions = this.getAnonymousScrollTimelineOptions(timelineName, target);\n    if(anonymousTimelineOptions)\n      return anonymousTimelineOptions;\n\n    for (let i = this.sourceSelectorToScrollTimeline.length - 1; i >= 0; i--) {\n      const options = this.sourceSelectorToScrollTimeline[i];\n      if(options.name == timelineName) {\n        const source = this.findPreviousSiblingOrAncestorMatchingSelector(target, options.selector);\n\n        if(source) {\n          return {\n            source,\n            ...(options.axis ? { axis: options.axis } : {}),\n          };\n        }\n      }\n    }\n\n    return null;\n  }\n\n  // TODO: Remove this old lookup mechanism and replace it by one that\n  // respects timeline-scope (https://github.com/flackr/scroll-timeline/issues/123)\n  findPreviousSiblingOrAncestorMatchingSelector(target, selector) {\n    // Target self\n    let candidate = target;\n    \n    // Walk the DOM tree: preceding siblings and ancestors\n    while (candidate) {\n      if (candidate.matches(selector)) \n        return candidate;\n      candidate = candidate.previousElementSibling || candidate.parentElement;\n    }\n\n    // No match\n    return null;\n  }\n\n  getAnonymousViewTimelineOptions(timelineName, target) {\n    const options = this.anonymousViewTimelineOptions.get(timelineName);\n    if(options) {\n      return {\n        subject: target,\n        axis: (options.axis ? options.axis : 'block'),\n        inset: (options.inset ? options.inset : 'auto'),\n      };\n    }\n\n    return null;\n  }\n\n  getViewTimelineOptions(timelineName, target) {\n    const anonymousTimelineOptions = this.getAnonymousViewTimelineOptions(timelineName, target);\n    if(anonymousTimelineOptions)\n      return anonymousTimelineOptions;\n\n    for (let i = this.subjectSelectorToViewTimeline.length - 1; i >= 0; i--) {\n      const options = this.subjectSelectorToViewTimeline[i];\n      if(options.name == timelineName) {\n        const subject = this.findPreviousSiblingOrAncestorMatchingSelector(target, options.selector);\n        if(subject) {\n          return {\n            subject,\n            axis: options.axis,\n            inset: options.inset\n          }\n        }\n      }\n    }\n\n    return null;\n  }\n\n  handleScrollTimelineProps(rule, p) {\n    // The animation-timeline property may not be used in keyframes\n    if (rule.selector.includes(\"@keyframes\")) {\n      return;\n    }\n\n    // TODO is it enough to check with \"includes()\"\n    const hasAnimationName = rule.block.contents.includes(\"animation-name:\");\n    const hasAnimationTimeline = rule.block.contents.includes(\"animation-timeline:\");\n    const hasAnimation = rule.block.contents.includes(\"animation:\");\n\n    this.saveSourceSelectorToScrollTimeline(rule);\n    this.saveSubjectSelectorToViewTimeline(rule);\n\n    if (!hasAnimationTimeline && !hasAnimationName && !hasAnimation) {\n      return;\n    }\n\n    let timelineNames = [];\n    let animationNames = [];\n    let shouldReplacePart = false;\n\n    if (hasAnimationTimeline)\n      timelineNames = this.extractScrollTimelineNames(rule.block.contents);\n\n    if (hasAnimationName)\n      animationNames = this.extractMatches(rule.block.contents, RegexMatcher.ANIMATION_NAME);\n\n    if (hasAnimationTimeline && hasAnimationName) {\n      this.saveRelationInList(rule, timelineNames, animationNames);\n      return;\n    }\n\n    if (hasAnimation) {\n      this.extractMatches(rule.block.contents, RegexMatcher.ANIMATION)\n        .forEach(shorthand => {\n          const animationName = this.extractAnimationName(shorthand);\n\n          // Save this animation only if there is a scroll timeline.\n          if (animationName && hasAnimationTimeline)\n            animationNames.push(animationName);\n\n          // If there is no duration, animationstart will not happen,\n          // and polyfill will not work which is based on animationstart.\n          // Add 1s as duration to fix this.\n          if(hasAnimationTimeline) {\n            if(!this.hasDuration(shorthand)) {\n\n              // `auto` also is valid duration. Older browsers can’t always\n              // handle it properly, so we remove it from the shorthand.\n              if (this.hasAutoDuration(shorthand)) {\n                rule.block.contents = rule.block.contents.replace(\n                  'auto',\n                  '    '\n                );\n              }\n\n              // TODO: Should keep track of whether duration is artificial or not,\n              // so that we can later track that we need to update timing to\n              // properly see duration as 'auto' for the polyfill.\n              rule.block.contents = rule.block.contents.replace(\n                shorthand, \" 1s \" + shorthand\n              );\n              shouldReplacePart = true;\n            }\n          }\n        });\n    }\n\n    if(shouldReplacePart) {\n      this.replacePart(\n        rule.block.startIndex,\n        rule.block.endIndex,\n        rule.block.contents,\n        p\n      );\n    }\n\n    this.saveRelationInList(rule, timelineNames, animationNames);\n  }\n\n  saveSourceSelectorToScrollTimeline(rule) {\n    const hasScrollTimeline = rule.block.contents.includes(\"scroll-timeline:\");\n    const hasScrollTimelineName = rule.block.contents.includes(\"scroll-timeline-name:\");\n    const hasScrollTimelineAxis = rule.block.contents.includes(\"scroll-timeline-axis:\");\n\n    if(!hasScrollTimeline && !hasScrollTimelineName) return;\n\n    let timelines = [];\n    if(hasScrollTimeline) {\n      const scrollTimelines = this.extractMatches(rule.block.contents, RegexMatcher.SCROLL_TIMELINE);\n      for(const st of scrollTimelines) {\n        const parts = this.split(st);\n        let options = {selector: rule.selector, name: ''};\n\n        if(parts.length == 1) {\n          options.name = parts[0];\n        } else if(parts.length == 2) {\n          if(TIMELINE_AXIS_TYPES.includes(parts[0]))\n            options.axis = parts[0], options.name = parts[1];\n          else\n            options.axis = parts[1], options.name = parts[0];\n        }\n\n        timelines.push(options);\n      }\n    }\n\n    if(hasScrollTimelineName) {\n      const names = this.extractMatches(rule.block.contents, RegexMatcher.SCROLL_TIMELINE_NAME);\n      for(let i = 0; i < names.length; i++) {\n        if(i < timelines.length) {\n          // longhand overrides shorthand\n          timelines[i].name = names[i];\n        } else {\n          let options = {selector: rule.selector, name: names[i]};\n          timelines.push(options);\n        }\n      }\n    }\n\n    let axes = [];\n    if(hasScrollTimelineAxis) {\n      const extractedAxes = this.extractMatches(rule.block.contents, RegexMatcher.SCROLL_TIMELINE_AXIS);\n      axes = extractedAxes.filter(a => TIMELINE_AXIS_TYPES.includes(a));\n      if (axes.length != extractedAxes.length) {\n        throw new Error('Invalid axis');\n      }\n    }\n\n    for(let i = 0; i < timelines.length; i++) {\n      if(axes.length)\n        timelines[i].axis = axes[i % timelines.length];\n    }\n\n    this.sourceSelectorToScrollTimeline.push(...timelines);\n  }\n\n  saveSubjectSelectorToViewTimeline(rule) {\n    const hasViewTimeline = rule.block.contents.includes(\"view-timeline:\");\n    const hasViewTimelineName = rule.block.contents.includes(\"view-timeline-name:\");\n    const hasViewTimelineAxis = rule.block.contents.includes(\"view-timeline-axis:\");\n    const hasViewTimelineInset = rule.block.contents.includes(\"view-timeline-inset:\");\n\n    if(!hasViewTimeline && !hasViewTimelineName) return;\n\n    let timelines = [];\n\n    if(hasViewTimeline) {\n      const viewTimelines = this.extractMatches(rule.block.contents, RegexMatcher.VIEW_TIMELINE);\n      for(let tl of viewTimelines) {\n        const parts = this.split(tl);\n        let options = {selector: rule.selector, name: '', inset: null};\n        if(parts.length == 1) {\n          options.name = parts[0];\n        } else if(parts.length == 2) {\n          if(TIMELINE_AXIS_TYPES.includes(parts[0]))\n            options.axis = parts[0], options.name = parts[1];\n          else\n            options.axis = parts[1], options.name = parts[0];\n        }\n        timelines.push(options);\n      }\n    }\n\n    if(hasViewTimelineName) {\n      const names = this.extractMatches(rule.block.contents, RegexMatcher.VIEW_TIMELINE_NAME);\n      for(let i = 0; i < names.length; i++) {\n        if(i < timelines.length) {\n          // longhand overrides shorthand\n          timelines[i].name = names[i];\n        } else {\n          let options = {selector: rule.selector, name: names[i], inset: null};\n          timelines.push(options);\n        }\n      }\n    }\n\n    let insets = [];\n    let axes = [];\n\n    if(hasViewTimelineInset)\n      insets = this.extractMatches(rule.block.contents, RegexMatcher.VIEW_TIMELINE_INSET);\n\n    if(hasViewTimelineAxis) {\n      const extractedAxes = this.extractMatches(rule.block.contents, RegexMatcher.VIEW_TIMELINE_AXIS);\n      axes = extractedAxes.filter(a => TIMELINE_AXIS_TYPES.includes(a));\n      if (axes.length != extractedAxes.length) {\n        throw new Error('Invalid axis');\n      }\n    }\n\n    for(let i = 0; i < timelines.length; i++) {\n      if(insets.length)\n        timelines[i].inset = insets[i % timelines.length];\n\n      if(axes.length)\n        timelines[i].axis = axes[i % timelines.length];\n    }\n\n    this.subjectSelectorToViewTimeline.push(...timelines);\n  }\n\n  hasDuration(shorthand) {\n    return shorthand.split(\" \").filter(part => isTime(part)).length >= 1;\n  }\n\n  hasAutoDuration(shorthand) {\n    // TODO: Cater for animations that are named auto\n    return shorthand.split(\" \").filter(part => part === 'auto').length >= 1;\n  }\n\n  saveRelationInList(rule, timelineNames, animationNames) {\n    const hasAnimationRange = rule.block.contents.includes(\"animation-range:\");\n    let animationRanges = [];\n\n    if (hasAnimationRange)\n      animationRanges = this.extractMatches(rule.block.contents, RegexMatcher.ANIMATION_TIME_RANGE);\n\n    const maxLength = Math.max(timelineNames.length, animationNames.length,\n      animationRanges.length);\n\n    for (let i = 0; i < maxLength; i++) {\n      this.cssRulesWithTimelineName.push({\n        selector: rule.selector,\n        'animation-timeline': timelineNames[i % timelineNames.length],\n        ...(animationNames.length ? {'animation-name': animationNames[i % animationNames.length]}: {}),\n        ...(animationRanges.length ? {'animation-range': animationRanges[i % animationRanges.length]}: {}),\n      });\n    }\n  }\n\n  extractScrollTimelineNames(contents) {\n    const value = RegexMatcher.ANIMATION_TIMELINE.exec(contents)[1].trim();\n    const timelineNames = [];\n\n    value.split(\",\").map(part => part.trim()).forEach(part => {\n      if(isAnonymousTimeline(part)) {\n        const name = this.saveAnonymousTimelineName(part);\n        timelineNames.push(name);\n      } else {\n        timelineNames.push(part);\n      }\n    });\n\n    return timelineNames;\n  }\n\n  saveAnonymousTimelineName(part) {\n    // Anonymous scroll timelines are given a name that starts with ':' to\n    // prevent collision with named scroll timelines.\n    const name = `:t${this.nextAnonymousTimelineNameIndex++}`;\n    if (part.startsWith('scroll(')) {\n      this.anonymousScrollTimelineOptions.set(name, this.parseAnonymousScrollTimeline(part));\n    } else {\n      this.anonymousViewTimelineOptions.set(name, this.parseAnonymousViewTimeline(part));\n    }\n    return name;\n  }\n\n  parseAnonymousScrollTimeline(part) {\n    const anonymousMatch = RegexMatcher.ANONYMOUS_SCROLL_TIMELINE.exec(part);\n    if(!anonymousMatch)\n      return null;\n\n    const value = anonymousMatch[VALUES_CAPTURE_INDEX];\n    const options = {};\n    value.split(\" \").forEach(token => {\n      if(TIMELINE_AXIS_TYPES.includes(token)) {\n        options['axis'] = token;\n      } else if(ANONYMOUS_TIMELINE_SOURCE_TYPES.includes(token)) {\n        options['source'] = token;\n      }\n    });\n\n    return options;\n  }\n\n  parseAnonymousViewTimeline(part) {\n    const anonymousMatch = RegexMatcher.ANONYMOUS_VIEW_TIMELINE.exec(part);\n    if(!anonymousMatch)\n      return null;\n\n    // have the same options.\n    const value = anonymousMatch[VALUES_CAPTURE_INDEX];\n    const options = {};\n\n    // TODO: This naive check code also accepts `view(40% block 40%)`, which is not\n    // spec compliant. If two inset values are set, they should be grouped together.\n    value.split(\" \").forEach(token => {\n      if(TIMELINE_AXIS_TYPES.includes(token)) {\n        options['axis'] = token;\n      } else {\n        options['inset'] = options['inset'] ? `${options['inset']} ${token}` : token;\n      }\n    });\n\n    return options;\n  }\n\n  extractAnimationName(shorthand) {\n    return this.findMatchingEntryInContainer(shorthand, this.keyframeNamesSelectors);\n  }\n\n  findMatchingEntryInContainer(shorthand, container) {\n    const matches = shorthand.split(\" \").filter(part => container.has(part))\n    return matches ? matches[0] : null;\n  }\n\n  parseIdentifier(p) {\n    RegexMatcher.IDENTIFIER.lastIndex = p.index;\n    const match = RegexMatcher.IDENTIFIER.exec(p.sheetSrc);\n    if (!match) {\n      throw this.parseError(p, \"Expected an identifier\");\n    }\n    p.index += match[WHOLE_MATCH_INDEX].length;\n    return match[WHOLE_MATCH_INDEX];\n  }\n\n  parseKeyframesAndSaveNameMapping(rule, p) {\n    if (rule.selector.startsWith(\"@keyframes\")) {\n      const mapping = this.replaceKeyframesAndGetMapping(rule, p);\n      rule.selector.split(\" \").forEach((item, index) => {\n        if (index > 0)\n          this.keyframeNamesSelectors.set(item, mapping);\n      })\n    }\n  }\n\n  /*\n  Replaces this:\n    {\n      0% { opacity: 0 }\n      entry 100% { opacity: 1 }\n      exit 0% { opacity: 1 }\n      exit 100% { opacity: 0 }\n      to { opacity: 1 }\n    }\n  with this:\n    {\n      0% { opacity: 0 }\n      20% { opacity: 1 }\n      40% { opacity: 1 }\n      60% { opacity: 0 }\n      80% { opacity: 1 }\n    }\n  and returns a mapping of { \"0.00%\": \"0%\", \"20.00%\" : \"entry 100%\", \"40.00%\" : \"exit 0%\", ... }\n  If there are no phases in the keyframe selectors, nothing will happen\n  and an empty map is returned.\n  This change in keyframes is temporary, and when we are creating ScrollTimeline,\n  if the underlying animation has a mapping, we will calculate new offsets and set new keyframes.\n  */\n  replaceKeyframesAndGetMapping(rule, p) {\n    function hasPhase(selector) {\n      return ANIMATION_RANGE_NAMES.some(phase => selector.startsWith(phase));\n    }\n\n    function cleanFrameSelector(selector) {\n      return selector.split(\" \").map(h => h.trim()).filter(p => p != \"\").join(\" \");\n    }\n\n    function getFrameSelectorIndexes(contents) {\n      let open = 0;\n      let startIndex = -1;\n      let endIndex = -1;\n      const indexes = [];\n\n      for(let i = 0; i < contents.length; i++) {\n        if(contents[i] == '{')\n          open++;\n        else if(contents[i] == '}')\n          open--;\n\n        if(open == 1 && contents[i] != '{' && contents[i] != '}') {\n          if(startIndex == -1)\n            startIndex = i;\n        }\n\n        if(open == 2 && contents[i] == '{') {\n          endIndex = i;\n          indexes.push({start: startIndex, end: endIndex});\n          startIndex = endIndex = -1;\n        }\n      }\n      return indexes;\n    }\n\n    const contents = rule.block.contents;\n    const parts = getFrameSelectorIndexes(contents);\n\n    if(parts.length == 0)\n      return new Map();\n\n    const mapping = new Map();\n    let foundPhaseLinkedOffset = false;\n    const newContents = [];\n    newContents.push(contents.substring(0, parts[0].start));\n    for(let i = 0; i < parts.length; i++) {\n      const allFrameSelectors = contents.substring(parts[i].start, parts[i].end);\n      let replacedFrameSelectors = [];\n\n      allFrameSelectors.split(\",\").forEach(currentFrameSelector => {\n        const trimmedFrameSelector = cleanFrameSelector(currentFrameSelector);\n        // There is no need to treat 'from' and 'to' differently,\n        // Let's say some implicit keyframes for 'from' and 'to' are added to the\n        // keyframes, after we are converting keyframes back, we will ignore them\n        // because they have no presence in the mapping.\n        // TODO: total number of keyframes > 100 is not supported at the moment.\n        const newFrameSelector = mapping.size;\n        mapping.set(newFrameSelector, trimmedFrameSelector);\n        replacedFrameSelectors.push(`${newFrameSelector}%`);\n        if(hasPhase(trimmedFrameSelector))\n          foundPhaseLinkedOffset = true;\n      });\n\n      newContents.push(replacedFrameSelectors.join(\",\"));\n\n      if(i == parts.length-1)\n        newContents.push(contents.substring(parts[i].end));\n      else\n        newContents.push(contents.substring(parts[i].end, parts[i+1].start));\n    }\n\n    if(foundPhaseLinkedOffset) {\n      rule.block.contents = newContents.join(\"\");\n      this.replacePart(\n        rule.block.startIndex,\n        rule.block.endIndex,\n        rule.block.contents,\n        p\n      );\n      return mapping;\n    } else {\n      return new Map();\n    }\n  }\n\n  parseQualifiedRule(p) {\n    const startIndex = p.index;\n    const selector = this.parseSelector(p).trim();\n    if (!selector) return;\n    const block = this.eatBlock(p);\n    const endIndex = p.index;\n    return {\n      selector,\n      block,\n      startIndex,\n      endIndex,\n    };\n  }\n\n  removeEnclosingDoubleQuotes(s) {\n    let startIndex = s[0] == '\"' ? 1 : 0;\n    let endIndex = s[s.length - 1] == '\"' ? s.length - 1 : s.length;\n    return s.substring(startIndex, endIndex);\n  }\n\n  assertString(p, s) {\n    if (p.sheetSrc.substr(p.index, s.length) != s) {\n      throw this.parseError(p, `Did not find expected sequence ${s}`);\n    }\n    p.index += s.length;\n  }\n\n  replacePart(start, end, replacement, p) {\n    p.sheetSrc = p.sheetSrc.slice(0, start) + replacement + p.sheetSrc.slice(end);\n    // If we are pointing past the end of the affected section, we need to\n    // recalculate the string pointer. Pointing to something inside the section\n    // that’s being replaced is undefined behavior. Sue me.\n\n    if (p.index >= end) {\n      const delta = p.index - end;\n      p.index = start + replacement.length + delta;\n    }\n  }\n\n  eatComment(p) {\n    this.assertString(p, \"/*\");\n    this.eatUntil(\"*/\", p, true);\n    this.assertString(p, \"*/\");\n  }\n\n  eatBlock(p) {\n    const startIndex = p.index;\n    this.assertString(p, \"{\");\n    let level = 1;\n    while (level != 0) {\n      if(this.lookAhead(\"/*\", p)) {\n        this.eatComment(p);\n        continue;\n      }\n\n      if (p.sheetSrc[p.index] === \"{\") {\n        level++;\n      } else if (p.sheetSrc[p.index] === \"}\") {\n        level--;\n      }\n      this.advance(p);\n    }\n    const endIndex = p.index;\n    const contents = p.sheetSrc.slice(startIndex, endIndex);\n\n    return { startIndex, endIndex, contents };\n  }\n\n  advance(p) {\n    p.index++;\n    if (p.index > p.sheetSrc.length) {\n      throw this.parseError(p, \"Advanced beyond the end\");\n    }\n  }\n\n  parseError(p, msg) {\n    return Error(`(${p.name ? p.name : '<anonymous file>'}): ${msg}`);\n  }\n\n  eatUntil(s, p, replaceWithSpace=false) {\n    const startIndex = p.index;\n    while (!this.lookAhead(s, p)) {\n      this.advance(p);\n    }\n\n    if(replaceWithSpace) {\n      p.sheetSrc = p.sheetSrc.slice(0, startIndex)\n        + \" \".repeat(p.index - startIndex)\n        + p.sheetSrc.slice(p.index);\n    }\n    return p.sheetSrc.slice(startIndex, p.index);\n  }\n\n  parseSelector(p) {\n    let startIndex = p.index;\n    this.eatUntil(\"{\", p);\n    if (startIndex === p.index) {\n      throw Error(\"Empty selector\");\n    }\n\n    return p.sheetSrc.slice(startIndex, p.index);\n  }\n\n  eatWhitespace(p) {\n    // Start matching at the current position in the sheet src\n    RegexMatcher.WHITE_SPACE.lastIndex = p.index;\n    const match = RegexMatcher.WHITE_SPACE.exec(p.sheetSrc);\n    if (match) {\n      p.index += match[WHOLE_MATCH_INDEX].length;\n    }\n  }\n\n  lookAhead(s, p) {\n    return p.sheetSrc.substr(p.index, s.length) == s;\n  }\n\n  peek(p) {\n    return p.sheetSrc[p.index];\n  }\n\n  extractMatches(contents, matcher, separator=',') {\n    return matcher.exec(contents)[VALUES_CAPTURE_INDEX].trim().split(separator).map(item => item.trim());\n  }\n\n  split(contents) {\n    return contents.split(\" \").map(item => item.trim())\n      .filter(item => item != \"\");\n  }\n}\n\nfunction isAnonymousTimeline(part) {\n  return (part.startsWith(\"scroll\") || part.startsWith(\"view\")) && part.includes(\"(\");\n}\n\nfunction isTime(s) {\n  return RegexMatcher.TIME.exec(s);\n}\n\nfunction isNumber(s) {\n  return RegexMatcher.NUMBER.exec(s);\n}\n\nexport function removeKeywordsFromAnimationShorthand(anim) {\n  return anim.split(' ').filter(\n    (item, index, array) => index == array.length - 1 || !ANIMATION_KEYWORDS.includes(item))\n    .filter(item => !isTime(item) && !isNumber(item));\n}\n", "import { StyleParser } from \"./scroll-timeline-css-parser\";\nimport { ProxyAnimation } from \"./proxy-animation\"\nimport { ScrollTimeline, ViewTimeline, getScrollParent, calculateRange,\n  calculateRelativePosition, measureSubject, measureSource } from \"./scroll-timeline-base\";\n\nconst parser = new StyleParser();\n\nfunction initMutationObserver() {\n  const sheetObserver = new MutationObserver((entries) => {\n    for (const entry of entries) {\n      for (const addedNode of entry.addedNodes) {\n        if (addedNode instanceof HTMLStyleElement) {\n          handleStyleTag(addedNode);\n        }\n        if (addedNode instanceof HTMLLinkElement) {\n          handleLinkedStylesheet(addedNode);\n        }\n      }\n    }\n\n    // TODO: Proxy element.style similar to how we proxy element.animate.\n    // We accomplish this by swapping out Element.prototype.style.\n  });\n\n  sheetObserver.observe(document.documentElement, {\n    childList: true,\n    subtree: true,\n  });\n\n  /**\n   * @param {HtmlStyleElement} el style tag to be parsed\n   */\n  function handleStyleTag(el) {\n    // Don’t touch empty style tags nor tags controlled by aphrodite.\n    // Details at https://github.com/Khan/aphrodite/blob/master/src/inject.js,\n    // but any modification to the style tag will break the entire page.\n    if (el.innerHTML.trim().length === 0 || 'aphrodite' in el.dataset) {\n      return;\n    }\n    // TODO: Do with one pass for better performance\n    let newSrc = parser.transpileStyleSheet(el.innerHTML, true);\n    newSrc = parser.transpileStyleSheet(newSrc, false);\n    el.innerHTML = newSrc;\n  }\n\n  function handleLinkedStylesheet(linkElement) {\n    // Filter only css links to external stylesheets.\n    if (linkElement.type != 'text/css' && linkElement.rel != 'stylesheet' || !linkElement.href) {\n      return;\n    }\n    const url = new URL(linkElement.href, document.baseURI);\n    if (url.origin != location.origin) {\n      // Most likely we won't be able to fetch resources from other origins.\n      return;\n    }\n    fetch(linkElement.getAttribute('href')).then(async (response) => {\n      const result = await response.text();\n      let newSrc = parser.transpileStyleSheet(result, true);\n      newSrc = parser.transpileStyleSheet(result, false);\n      if (newSrc != result) {\n        const blob = new Blob([newSrc], { type: 'text/css' });\n        const url = URL.createObjectURL(blob);\n        linkElement.setAttribute('href', url);\n      }\n    });\n  }\n\n  document.querySelectorAll(\"style\").forEach((tag) => handleStyleTag(tag));\n  document\n    .querySelectorAll(\"link\")\n    .forEach((tag) => handleLinkedStylesheet(tag));\n}\n\nfunction relativePosition(phase, container, target, axis, optionsInset, percent) {\n  const sourceMeasurements = measureSource(container)\n  const subjectMeasurements = measureSubject(container, target)\n  const phaseRange = calculateRange(phase, sourceMeasurements, subjectMeasurements, axis, optionsInset);\n  const coverRange = calculateRange('cover', sourceMeasurements, subjectMeasurements, axis, optionsInset);\n  return calculateRelativePosition(phaseRange, percent, coverRange, target);\n}\n\nfunction createScrollTimeline(anim, animationName, target) {\n  const animOptions = parser.getAnimationTimelineOptions(animationName, target);\n\n  if(!animOptions)\n    return null;\n\n  const timelineName = animOptions['animation-timeline'];\n  if(!timelineName) return null;\n\n  let options = parser.getScrollTimelineOptions(timelineName, target) ||\n    parser.getViewTimelineOptions(timelineName, target);\n  if (!options) return null;\n\n  // If this is a ViewTimeline\n  if(options.subject)\n    updateKeyframesIfNecessary(anim, options);\n\n  return {\n    timeline: options.source ? new ScrollTimeline(options) : new ViewTimeline(options),\n    animOptions: animOptions\n  };\n}\n\nfunction updateKeyframesIfNecessary(anim, options) {\n  const container = getScrollParent(options.subject);\n  const axis = (options.axis || options.axis);\n\n  function calculateNewOffset(mapping, keyframe) {\n    let newOffset = null;\n    for(const [key, value] of mapping) {\n      if(key == keyframe.offset * 100) {\n        if(value == 'from') {\n          newOffset = 0;\n        } else if(value == 'to') {\n          newOffset = 100;\n        } else {\n          const tokens = value.split(\" \");\n          if(tokens.length == 1) {\n            newOffset = parseFloat(tokens[0]);\n          } else {\n            newOffset = relativePosition(tokens[0], container, options.subject,\n              axis, options.inset, CSS.percent(parseFloat(tokens[1]))) * 100;\n          }\n        }\n        break;\n      }\n    }\n\n    return newOffset;\n  }\n\n  const mapping = parser.keyframeNamesSelectors.get(anim.animationName);\n  // mapping is empty when none of the keyframe selectors contains a phase\n  if(mapping && mapping.size) {\n    const newKeyframes = [];\n    anim.effect.getKeyframes().forEach(keyframe => {\n      const newOffset = calculateNewOffset(mapping, keyframe);\n      if(newOffset !== null && newOffset >= 0 && newOffset <= 100) {\n        keyframe.offset = newOffset / 100.0;\n        newKeyframes.push(keyframe);\n      }\n    });\n\n    const sortedKeyframes = newKeyframes.sort((a, b) => {\n      if(a.offset < b.offset) return -1;\n      if(a.affset > b.offset) return 1;\n      return 0;\n    });\n\n    anim.effect.setKeyframes(sortedKeyframes);\n  }\n}\n\nexport function initCSSPolyfill() {\n  // Don't load if browser claims support\n  if (CSS.supports(\"animation-timeline: --works\")) {\n    return true;\n  }\n\n  initMutationObserver();\n\n  // Override CSS.supports() to claim support for the CSS properties from now on\n  const oldSupports = CSS.supports;\n  CSS.supports = (ident) => {\n    ident = ident.replaceAll(/(animation-timeline|scroll-timeline(-(name|axis))?|view-timeline(-(name|axis|inset))?|timeline-scope)\\s*:/g, '--supported-property:');\n    return oldSupports(ident);\n  };\n\n  // We are not wrapping capturing 'animationstart' by a 'load' event,\n  // because we may lose some of the 'animationstart' events by the time 'load' is completed.\n  window.addEventListener('animationstart', (evt) => {\n    evt.target.getAnimations().filter(anim => anim.animationName === evt.animationName).forEach(anim => {\n      const result = createScrollTimeline(anim, anim.animationName, evt.target);\n      if (result) {\n        // If the CSS Animation refers to a scroll or view timeline we need to proxy the animation instance.\n        if (result.timeline && !(anim instanceof ProxyAnimation)) {\n          const proxyAnimation = new ProxyAnimation(anim, result.timeline, result.animOptions);\n          anim.pause();\n          proxyAnimation.play();\n        } else {\n          // If the timeline was removed or the animation was already an instance of a proxy animation,\n          // invoke the set the timeline procedure on the existing animation.\n          anim.timeline = result.timeline;\n        }\n      }\n    });\n  });\n}\n", "// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {\n  ScrollTimeline,\n  ViewTimeline,\n} from \"./scroll-timeline-base\";\nimport {\n  animate,\n  elementGetAnimations,\n  documentGetAnimations,\n  ProxyAnimation\n} from \"./proxy-animation.js\";\n\nimport { initCSSPolyfill } from \"./scroll-timeline-css\"\n\nfunction initPolyfill() {\n  // initCSSPolyfill returns true iff the host browser supports SDA\n  if (initCSSPolyfill()) {\n    return;\n  }\n\n  if (\n    !Reflect.defineProperty(window, 'ScrollTimeline', { value: ScrollTimeline })\n  ) {\n    throw Error(\n      'Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window'\n    );\n  }\n  if (\n    !Reflect.defineProperty(window, 'ViewTimeline', { value: ViewTimeline })\n  ) {\n    throw Error(\n      'Error installing ViewTimeline polyfill: could not attach ViewTimeline to window'\n    );\n  }\n\n  if (\n    !Reflect.defineProperty(Element.prototype, 'animate', { value: animate })\n  ) {\n    throw Error(\n      \"Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element\"\n    );\n  }\n  if (!Reflect.defineProperty(window, 'Animation', { value: ProxyAnimation })) {\n    throw Error('Error installing Animation constructor.');\n  }\n  if (!Reflect.defineProperty(Element.prototype, \"getAnimations\", { value: elementGetAnimations })) {\n    throw Error(\n      \"Error installing ScrollTimeline polyfill: could not attach WAAPI's getAnimations to DOM Element\"\n    );\n  }\n  if (!Reflect.defineProperty(document, \"getAnimations\", { value: documentGetAnimations })) {\n    throw Error(\n      \"Error installing ScrollTimeline polyfill: could not attach WAAPI's getAnimations to document\"\n    );\n  }\n}\n\ninitPolyfill();\n", "function clampProp(e, n, t, o, r) {\n  return clampEntity(n, getDefinedProp(e, n), t, o, r);\n}\n\nfunction clampEntity(e, n, t, o, r, i) {\n  const a = clampNumber(n, t, o);\n  if (r && n !== a) {\n    throw new RangeError(numberOutOfRange(e, n, t, o, i));\n  }\n  return a;\n}\n\nfunction getDefinedProp(e, n) {\n  const t = e[n];\n  if (void 0 === t) {\n    throw new TypeError(missingField(n));\n  }\n  return t;\n}\n\nfunction z(e) {\n  return null !== e && /object|function/.test(typeof e);\n}\n\nfunction Jn(e, n = Map) {\n  const t = new n;\n  return (n, ...o) => {\n    if (t.has(n)) {\n      return t.get(n);\n    }\n    const r = e(n, ...o);\n    return t.set(n, r), r;\n  };\n}\n\nfunction D(e) {\n  return p({\n    name: e\n  }, 1);\n}\n\nfunction p(e, n) {\n  return T((e => ({\n    value: e,\n    configurable: 1,\n    writable: !n\n  })), e);\n}\n\nfunction O(e) {\n  return T((e => ({\n    get: e,\n    configurable: 1\n  })), e);\n}\n\nfunction h(e) {\n  return {\n    [Symbol.toStringTag]: {\n      value: e,\n      configurable: 1\n    }\n  };\n}\n\nfunction zipProps(e, n) {\n  const t = {};\n  let o = e.length;\n  for (const r of n) {\n    t[e[--o]] = r;\n  }\n  return t;\n}\n\nfunction T(e, n, t) {\n  const o = {};\n  for (const r in n) {\n    o[r] = e(n[r], r, t);\n  }\n  return o;\n}\n\nfunction b(e, n, t) {\n  const o = {};\n  for (let r = 0; r < n.length; r++) {\n    const i = n[r];\n    o[i] = e(i, r, t);\n  }\n  return o;\n}\n\nfunction remapProps(e, n, t) {\n  const o = {};\n  for (let r = 0; r < e.length; r++) {\n    o[n[r]] = t[e[r]];\n  }\n  return o;\n}\n\nfunction Vn(e, n) {\n  const t = {};\n  for (const o of e) {\n    t[o] = n[o];\n  }\n  return t;\n}\n\nfunction V(e, n) {\n  const t = {};\n  for (const o in n) {\n    e.has(o) || (t[o] = n[o]);\n  }\n  return t;\n}\n\nfunction nn(e) {\n  e = {\n    ...e\n  };\n  const n = Object.keys(e);\n  for (const t of n) {\n    void 0 === e[t] && delete e[t];\n  }\n  return e;\n}\n\nfunction C(e, n) {\n  for (const t of n) {\n    if (!(t in e)) {\n      return 0;\n    }\n  }\n  return 1;\n}\n\nfunction allPropsEqual(e, n, t) {\n  for (const o of e) {\n    if (n[o] !== t[o]) {\n      return 0;\n    }\n  }\n  return 1;\n}\n\nfunction zeroOutProps(e, n, t) {\n  const o = {\n    ...t\n  };\n  for (let t = 0; t < n; t++) {\n    o[e[t]] = 0;\n  }\n  return o;\n}\n\nfunction E(e, ...n) {\n  return (...t) => e(...n, ...t);\n}\n\nfunction capitalize(e) {\n  return e[0].toUpperCase() + e.substring(1);\n}\n\nfunction sortStrings(e) {\n  return e.slice().sort();\n}\n\nfunction padNumber(e, n) {\n  return String(n).padStart(e, \"0\");\n}\n\nfunction compareNumbers(e, n) {\n  return Math.sign(e - n);\n}\n\nfunction clampNumber(e, n, t) {\n  return Math.min(Math.max(e, n), t);\n}\n\nfunction divModFloor(e, n) {\n  return [ Math.floor(e / n), modFloor(e, n) ];\n}\n\nfunction modFloor(e, n) {\n  return (e % n + n) % n;\n}\n\nfunction divModTrunc(e, n) {\n  return [ divTrunc(e, n), modTrunc(e, n) ];\n}\n\nfunction divTrunc(e, n) {\n  return Math.trunc(e / n) || 0;\n}\n\nfunction modTrunc(e, n) {\n  return e % n || 0;\n}\n\nfunction hasHalf(e) {\n  return .5 === Math.abs(e % 1);\n}\n\nfunction givenFieldsToBigNano(e, n, t) {\n  let o = 0, r = 0;\n  for (let i = 0; i <= n; i++) {\n    const n = e[t[i]], a = Xr[i], s = Qr / a, [c, u] = divModTrunc(n, s);\n    o += u * a, r += c;\n  }\n  const [i, a] = divModTrunc(o, Qr);\n  return [ r + i, a ];\n}\n\nfunction nanoToGivenFields(e, n, t) {\n  const o = {};\n  for (let r = n; r >= 0; r--) {\n    const n = Xr[r];\n    o[t[r]] = divTrunc(e, n), e = modTrunc(e, n);\n  }\n  return o;\n}\n\nfunction un(e) {\n  return e === X ? si : [];\n}\n\nfunction cn(e) {\n  return e === X ? li : [];\n}\n\nfunction ln(e) {\n  return e === X ? [ \"year\", \"day\" ] : [];\n}\n\nfunction l(e) {\n  if (void 0 !== e) {\n    return m(e);\n  }\n}\n\nfunction S(e) {\n  if (void 0 !== e) {\n    return d(e);\n  }\n}\n\nfunction c(e) {\n  if (void 0 !== e) {\n    return u(e);\n  }\n}\n\nfunction d(e) {\n  return requireNumberIsPositive(u(e));\n}\n\nfunction u(e) {\n  return requireNumberIsInteger(Mi(e));\n}\n\nfunction on(e) {\n  if (null == e) {\n    throw new TypeError(\"Cannot be null or undefined\");\n  }\n  return e;\n}\n\nfunction requirePropDefined(e, n) {\n  if (null == n) {\n    throw new RangeError(missingField(e));\n  }\n  return n;\n}\n\nfunction de(e) {\n  if (!z(e)) {\n    throw new TypeError(hr);\n  }\n  return e;\n}\n\nfunction requireType(e, n, t = e) {\n  if (typeof n !== e) {\n    throw new TypeError(invalidEntity(t, n));\n  }\n  return n;\n}\n\nfunction requireNumberIsInteger(e, n = \"number\") {\n  if (!Number.isInteger(e)) {\n    throw new RangeError(expectedInteger(n, e));\n  }\n  return e || 0;\n}\n\nfunction requireNumberIsPositive(e, n = \"number\") {\n  if (e <= 0) {\n    throw new RangeError(expectedPositive(n, e));\n  }\n  return e;\n}\n\nfunction toString(e) {\n  if (\"symbol\" == typeof e) {\n    throw new TypeError(pr);\n  }\n  return String(e);\n}\n\nfunction toStringViaPrimitive(e, n) {\n  return z(e) ? String(e) : m(e, n);\n}\n\nfunction toBigInt(e) {\n  if (\"string\" == typeof e) {\n    return BigInt(e);\n  }\n  if (\"bigint\" != typeof e) {\n    throw new TypeError(invalidBigInt(e));\n  }\n  return e;\n}\n\nfunction toNumber(e, n = \"number\") {\n  if (\"bigint\" == typeof e) {\n    throw new TypeError(forbiddenBigIntToNumber(n));\n  }\n  if (e = Number(e), !Number.isFinite(e)) {\n    throw new RangeError(expectedFinite(n, e));\n  }\n  return e;\n}\n\nfunction toInteger(e, n) {\n  return Math.trunc(toNumber(e, n)) || 0;\n}\n\nfunction toStrictInteger(e, n) {\n  return requireNumberIsInteger(toNumber(e, n), n);\n}\n\nfunction toPositiveInteger(e, n) {\n  return requireNumberIsPositive(toInteger(e, n), n);\n}\n\nfunction createBigNano(e, n) {\n  let [t, o] = divModTrunc(n, Qr), r = e + t;\n  const i = Math.sign(r);\n  return i && i === -Math.sign(o) && (r -= i, o += i * Qr), [ r, o ];\n}\n\nfunction addBigNanos(e, n, t = 1) {\n  return createBigNano(e[0] + n[0] * t, e[1] + n[1] * t);\n}\n\nfunction moveBigNano(e, n) {\n  return createBigNano(e[0], e[1] + n);\n}\n\nfunction re(e, n) {\n  return addBigNanos(n, e, -1);\n}\n\nfunction te(e, n) {\n  return compareNumbers(e[0], n[0]) || compareNumbers(e[1], n[1]);\n}\n\nfunction bigNanoOutside(e, n, t) {\n  return -1 === te(e, n) || 1 === te(e, t);\n}\n\nfunction bigIntToBigNano(e, n = 1) {\n  const t = BigInt(Qr / n);\n  return [ Number(e / t), Number(e % t) * n ];\n}\n\nfunction he(e, n = 1) {\n  const t = Qr / n, [o, r] = divModTrunc(e, t);\n  return [ o, r * n ];\n}\n\nfunction bigNanoToBigInt(e, n = 1) {\n  const [t, o] = e, r = Math.floor(o / n), i = Qr / n;\n  return BigInt(t) * BigInt(i) + BigInt(r);\n}\n\nfunction oe(e, n = 1, t) {\n  const [o, r] = e, [i, a] = divModTrunc(r, n);\n  return o * (Qr / n) + (i + (t ? a / n : 0));\n}\n\nfunction divModBigNano(e, n, t = divModFloor) {\n  const [o, r] = e, [i, a] = t(r, n);\n  return [ o * (Qr / n) + i, a ];\n}\n\nfunction hashIntlFormatParts(e, n) {\n  const t = e.formatToParts(n), o = {};\n  for (const e of t) {\n    o[e.type] = e.value;\n  }\n  return o;\n}\n\nfunction checkIsoYearMonthInBounds(e) {\n  return clampProp(e, \"isoYear\", Li, Ai, 1), e.isoYear === Li ? clampProp(e, \"isoMonth\", 4, 12, 1) : e.isoYear === Ai && clampProp(e, \"isoMonth\", 1, 9, 1), \n  e;\n}\n\nfunction checkIsoDateInBounds(e) {\n  return checkIsoDateTimeInBounds({\n    ...e,\n    ...Dt,\n    isoHour: 12\n  }), e;\n}\n\nfunction checkIsoDateTimeInBounds(e) {\n  const n = clampProp(e, \"isoYear\", Li, Ai, 1), t = n === Li ? 1 : n === Ai ? -1 : 0;\n  return t && checkEpochNanoInBounds(isoToEpochNano({\n    ...e,\n    isoDay: e.isoDay + t,\n    isoNanosecond: e.isoNanosecond - t\n  })), e;\n}\n\nfunction checkEpochNanoInBounds(e) {\n  if (!e || bigNanoOutside(e, Ui, qi)) {\n    throw new RangeError(Cr);\n  }\n  return e;\n}\n\nfunction isoTimeFieldsToNano(e) {\n  return givenFieldsToBigNano(e, 5, j)[1];\n}\n\nfunction nanoToIsoTimeAndDay(e) {\n  const [n, t] = divModFloor(e, Qr);\n  return [ nanoToGivenFields(t, 5, j), n ];\n}\n\nfunction epochNanoToSec(e) {\n  return epochNanoToSecMod(e)[0];\n}\n\nfunction epochNanoToSecMod(e) {\n  return divModBigNano(e, _r);\n}\n\nfunction isoToEpochMilli(e) {\n  return isoArgsToEpochMilli(e.isoYear, e.isoMonth, e.isoDay, e.isoHour, e.isoMinute, e.isoSecond, e.isoMillisecond);\n}\n\nfunction isoToEpochNano(e) {\n  const n = isoToEpochMilli(e);\n  if (void 0 !== n) {\n    const [t, o] = divModTrunc(n, Gr);\n    return [ t, o * be + (e.isoMicrosecond || 0) * Vr + (e.isoNanosecond || 0) ];\n  }\n}\n\nfunction isoToEpochNanoWithOffset(e, n) {\n  const [t, o] = nanoToIsoTimeAndDay(isoTimeFieldsToNano(e) - n);\n  return checkEpochNanoInBounds(isoToEpochNano({\n    ...e,\n    isoDay: e.isoDay + o,\n    ...t\n  }));\n}\n\nfunction isoArgsToEpochSec(...e) {\n  return isoArgsToEpochMilli(...e) / Hr;\n}\n\nfunction isoArgsToEpochMilli(...e) {\n  const [n, t] = isoToLegacyDate(...e), o = n.valueOf();\n  if (!isNaN(o)) {\n    return o - t * Gr;\n  }\n}\n\nfunction isoToLegacyDate(e, n = 1, t = 1, o = 0, r = 0, i = 0, a = 0) {\n  const s = e === Li ? 1 : e === Ai ? -1 : 0, c = new Date;\n  return c.setUTCHours(o, r, i, a), c.setUTCFullYear(e, n - 1, t + s), [ c, s ];\n}\n\nfunction Ie(e, n) {\n  let [t, o] = moveBigNano(e, n);\n  o < 0 && (o += Qr, t -= 1);\n  const [r, i] = divModFloor(o, be), [a, s] = divModFloor(i, Vr);\n  return epochMilliToIso(t * Gr + r, a, s);\n}\n\nfunction epochMilliToIso(e, n = 0, t = 0) {\n  const o = Math.ceil(Math.max(0, Math.abs(e) - zi) / Gr) * Math.sign(e), r = new Date(e - o * Gr);\n  return zipProps(wi, [ r.getUTCFullYear(), r.getUTCMonth() + 1, r.getUTCDate() + o, r.getUTCHours(), r.getUTCMinutes(), r.getUTCSeconds(), r.getUTCMilliseconds(), n, t ]);\n}\n\nfunction computeIsoDateParts(e) {\n  return [ e.isoYear, e.isoMonth, e.isoDay ];\n}\n\nfunction computeIsoMonthsInYear() {\n  return xi;\n}\n\nfunction computeIsoDaysInMonth(e, n) {\n  switch (n) {\n   case 2:\n    return computeIsoInLeapYear(e) ? 29 : 28;\n\n   case 4:\n   case 6:\n   case 9:\n   case 11:\n    return 30;\n  }\n  return 31;\n}\n\nfunction computeIsoDaysInYear(e) {\n  return computeIsoInLeapYear(e) ? 366 : 365;\n}\n\nfunction computeIsoInLeapYear(e) {\n  return e % 4 == 0 && (e % 100 != 0 || e % 400 == 0);\n}\n\nfunction computeIsoDayOfWeek(e) {\n  const [n, t] = isoToLegacyDate(e.isoYear, e.isoMonth, e.isoDay);\n  return modFloor(n.getUTCDay() - t, 7) || 7;\n}\n\nfunction computeGregoryEraParts({isoYear: e}) {\n  return e < 1 ? [ \"bce\", 1 - e ] : [ \"ce\", e ];\n}\n\nfunction computeJapaneseEraParts(e) {\n  const n = isoToEpochMilli(e);\n  if (n < $i) {\n    return computeGregoryEraParts(e);\n  }\n  const t = hashIntlFormatParts(La(Ti), n), {era: o, eraYear: r} = parseIntlYear(t, Ti);\n  return [ o, r ];\n}\n\nfunction checkIsoDateTimeFields(e) {\n  return checkIsoDateFields(e), constrainIsoTimeFields(e, 1), e;\n}\n\nfunction checkIsoDateFields(e) {\n  return constrainIsoDateFields(e, 1), e;\n}\n\nfunction isIsoDateFieldsValid(e) {\n  return allPropsEqual(Oi, e, constrainIsoDateFields(e));\n}\n\nfunction constrainIsoDateFields(e, n) {\n  const {isoYear: t} = e, o = clampProp(e, \"isoMonth\", 1, computeIsoMonthsInYear(), n);\n  return {\n    isoYear: t,\n    isoMonth: o,\n    isoDay: clampProp(e, \"isoDay\", 1, computeIsoDaysInMonth(t, o), n)\n  };\n}\n\nfunction constrainIsoTimeFields(e, n) {\n  return zipProps(j, [ clampProp(e, \"isoHour\", 0, 23, n), clampProp(e, \"isoMinute\", 0, 59, n), clampProp(e, \"isoSecond\", 0, 59, n), clampProp(e, \"isoMillisecond\", 0, 999, n), clampProp(e, \"isoMicrosecond\", 0, 999, n), clampProp(e, \"isoNanosecond\", 0, 999, n) ]);\n}\n\nfunction H(e) {\n  return void 0 === e ? 0 : ua(de(e));\n}\n\nfunction wn(e, n = 0) {\n  e = normalizeOptions(e);\n  const t = la(e), o = fa(e, n);\n  return [ ua(e), o, t ];\n}\n\nfunction ve(e) {\n  return la(normalizeOptions(e));\n}\n\nfunction _t(e) {\n  return e = normalizeOptions(e), sa(e, 9, 6, 1);\n}\n\nfunction refineDiffOptions(e, n, t, o = 9, r = 0, i = 4) {\n  n = normalizeOptions(n);\n  let a = sa(n, o, r), s = parseRoundingIncInteger(n), c = ha(n, i);\n  const u = aa(n, o, r, 1);\n  return null == a ? a = Math.max(t, u) : checkLargestSmallestUnit(a, u), s = refineRoundingInc(s, u, 1), \n  e && (c = (e => e < 4 ? (e + 2) % 4 : e)(c)), [ a, u, s, c ];\n}\n\nfunction refineRoundingOptions(e, n = 6, t) {\n  let o = parseRoundingIncInteger(e = normalizeOptionsOrString(e, Hi));\n  const r = ha(e, 7);\n  let i = aa(e, n);\n  return i = requirePropDefined(Hi, i), o = refineRoundingInc(o, i, void 0, t), [ i, o, r ];\n}\n\nfunction refineDateDisplayOptions(e) {\n  return da(normalizeOptions(e));\n}\n\nfunction refineTimeDisplayOptions(e, n) {\n  return refineTimeDisplayTuple(normalizeOptions(e), n);\n}\n\nfunction refineTimeDisplayTuple(e, n = 4) {\n  const t = refineSubsecDigits(e);\n  return [ ha(e, 4), ...refineSmallestUnitAndSubsecDigits(aa(e, n), t) ];\n}\n\nfunction refineSmallestUnitAndSubsecDigits(e, n) {\n  return null != e ? [ Xr[e], e < 4 ? 9 - 3 * e : -1 ] : [ void 0 === n ? 1 : 10 ** (9 - n), n ];\n}\n\nfunction parseRoundingIncInteger(e) {\n  const n = e[_i];\n  return void 0 === n ? 1 : toInteger(n, _i);\n}\n\nfunction refineRoundingInc(e, n, t, o) {\n  const r = o ? Qr : Xr[n + 1];\n  if (r) {\n    const t = Xr[n];\n    if (r % ((e = clampEntity(_i, e, 1, r / t - (o ? 0 : 1), 1)) * t)) {\n      throw new RangeError(invalidEntity(_i, e));\n    }\n  } else {\n    e = clampEntity(_i, e, 1, t ? 10 ** 9 : 1, 1);\n  }\n  return e;\n}\n\nfunction refineSubsecDigits(e) {\n  let n = e[Ji];\n  if (void 0 !== n) {\n    if (\"number\" != typeof n) {\n      if (\"auto\" === toString(n)) {\n        return;\n      }\n      throw new RangeError(invalidEntity(Ji, n));\n    }\n    n = clampEntity(Ji, Math.floor(n), 0, 9, 1);\n  }\n  return n;\n}\n\nfunction normalizeOptions(e) {\n  return void 0 === e ? {} : de(e);\n}\n\nfunction normalizeOptionsOrString(e, n) {\n  return \"string\" == typeof e ? {\n    [n]: e\n  } : de(e);\n}\n\nfunction U(e) {\n  if (void 0 !== e) {\n    if (z(e)) {\n      return Object.assign(Object.create(null), e);\n    }\n    throw new TypeError(hr);\n  }\n}\n\nfunction overrideOverflowOptions(e, n) {\n  return e && Object.assign(Object.create(null), e, {\n    overflow: Xi[n]\n  });\n}\n\nfunction refineUnitOption(e, n, t = 9, o = 0, r) {\n  let i = n[e];\n  if (void 0 === i) {\n    return r ? o : void 0;\n  }\n  if (i = toString(i), \"auto\" === i) {\n    return r ? o : null;\n  }\n  let a = $r[i];\n  if (void 0 === a && (a = Ei[i]), void 0 === a) {\n    throw new RangeError(invalidChoice(e, i, $r));\n  }\n  return clampEntity(e, a, o, t, 1, Et), a;\n}\n\nfunction refineChoiceOption(e, n, t, o = 0) {\n  const r = t[e];\n  if (void 0 === r) {\n    return o;\n  }\n  const i = toString(r), a = n[i];\n  if (void 0 === a) {\n    throw new RangeError(invalidChoice(e, i, n));\n  }\n  return a;\n}\n\nfunction checkLargestSmallestUnit(e, n) {\n  if (n > e) {\n    throw new RangeError(Ar);\n  }\n}\n\nfunction _(e) {\n  return {\n    branding: Oe,\n    epochNanoseconds: e\n  };\n}\n\nfunction Yn(e, n, t) {\n  return {\n    branding: Te,\n    calendar: t,\n    timeZone: n,\n    epochNanoseconds: e\n  };\n}\n\nfunction ee(e, n = e.calendar) {\n  return {\n    branding: We,\n    calendar: n,\n    ...Vn(Yi, e)\n  };\n}\n\nfunction v(e, n = e.calendar) {\n  return {\n    branding: J,\n    calendar: n,\n    ...Vn(Bi, e)\n  };\n}\n\nfunction createPlainYearMonthSlots(e, n = e.calendar) {\n  return {\n    branding: L,\n    calendar: n,\n    ...Vn(Bi, e)\n  };\n}\n\nfunction createPlainMonthDaySlots(e, n = e.calendar) {\n  return {\n    branding: q,\n    calendar: n,\n    ...Vn(Bi, e)\n  };\n}\n\nfunction Ge(e) {\n  return {\n    branding: xe,\n    ...Vn(ki, e)\n  };\n}\n\nfunction Vt(e) {\n  return {\n    branding: qt,\n    sign: computeDurationSign(e),\n    ...Vn(Ni, e)\n  };\n}\n\nfunction M(e) {\n  return epochNanoToSec(e.epochNanoseconds);\n}\n\nfunction y(e) {\n  return divModBigNano(e.epochNanoseconds, be)[0];\n}\n\nfunction N(e) {\n  return bigNanoToBigInt(e.epochNanoseconds, Vr);\n}\n\nfunction B(e) {\n  return bigNanoToBigInt(e.epochNanoseconds);\n}\n\nfunction extractEpochNano(e) {\n  return e.epochNanoseconds;\n}\n\nfunction I(e) {\n  return \"string\" == typeof e ? e : m(e.id);\n}\n\nfunction isIdLikeEqual(e, n) {\n  return e === n || I(e) === I(n);\n}\n\nfunction Ut(e, n, t, o, r) {\n  const i = getMaxDurationUnit(o), [a, s] = ((e, n) => {\n    const t = n((e = normalizeOptionsOrString(e, Vi))[Ki]);\n    let o = ca(e);\n    return o = requirePropDefined(Vi, o), [ o, t ];\n  })(r, e);\n  if (isUniformUnit(Math.max(a, i), s)) {\n    return totalDayTimeDuration(o, a);\n  }\n  if (!s) {\n    throw new RangeError(zr);\n  }\n  const [c, u, l] = createMarkerSystem(n, t, s), f = createMarkerToEpochNano(l), d = createMoveMarker(l), m = createDiffMarkers(l), p = d(u, c, o), h = m(u, c, p, a);\n  return isUniformUnit(a, s) ? totalDayTimeDuration(h, a) : ((e, n, t, o, r, i, a) => {\n    const s = computeDurationSign(e), [c, u] = clampRelativeDuration(o, bi(t, e), t, s, r, i, a), l = computeEpochNanoFrac(n, c, u);\n    return e[F[t]] + l * s;\n  })(h, f(p), a, u, c, f, d);\n}\n\nfunction totalDayTimeDuration(e, n) {\n  return oe(durationFieldsToBigNano(e), Xr[n], 1);\n}\n\nfunction clampRelativeDuration(e, n, t, o, r, i, a) {\n  const s = F[t], c = {\n    ...n,\n    [s]: n[s] + o\n  }, u = a(e, r, n), l = a(e, r, c);\n  return [ i(u), i(l) ];\n}\n\nfunction computeEpochNanoFrac(e, n, t) {\n  const o = oe(re(n, t));\n  if (!o) {\n    throw new RangeError(vr);\n  }\n  return oe(re(n, e)) / o;\n}\n\nfunction ce(e, n) {\n  const [t, o, r] = refineRoundingOptions(n, 5, 1);\n  return _(roundBigNano(e.epochNanoseconds, t, o, r, 1));\n}\n\nfunction Pn(e, n, t) {\n  let {epochNanoseconds: o, timeZone: r, calendar: i} = n;\n  const [a, s, c] = refineRoundingOptions(t);\n  if (0 === a && 1 === s) {\n    return n;\n  }\n  const u = e(r);\n  if (6 === a) {\n    o = ((e, n, t, o) => {\n      const r = fn(t, n), [i, a] = e(r), s = t.epochNanoseconds, c = we(n, i), u = we(n, a);\n      if (bigNanoOutside(s, c, u)) {\n        throw new RangeError(vr);\n      }\n      return roundWithMode(computeEpochNanoFrac(s, c, u), o) ? u : c;\n    })(computeDayInterval, u, n, c);\n  } else {\n    const e = u.getOffsetNanosecondsFor(o);\n    o = getMatchingInstantFor(u, roundDateTime(Ie(o, e), a, s, c), e, 2, 0, 1);\n  }\n  return Yn(o, r, i);\n}\n\nfunction dt(e, n) {\n  return ee(roundDateTime(e, ...refineRoundingOptions(n)), e.calendar);\n}\n\nfunction Ee(e, n) {\n  const [t, o, r] = refineRoundingOptions(n, 5);\n  var i;\n  return Ge((i = r, roundTimeToNano(e, computeNanoInc(t, o), i)[0]));\n}\n\nfunction dn(e, n) {\n  const t = e(n.timeZone), o = fn(n, t), [r, i] = computeDayInterval(o), a = oe(re(we(t, r), we(t, i)), Kr, 1);\n  if (a <= 0) {\n    throw new RangeError(vr);\n  }\n  return a;\n}\n\nfunction Cn(e, n) {\n  const {timeZone: t, calendar: o} = n, r = ((e, n, t) => we(n, e(fn(t, n))))(computeDayFloor, e(t), n);\n  return Yn(r, t, o);\n}\n\nfunction roundDateTime(e, n, t, o) {\n  return roundDateTimeToNano(e, computeNanoInc(n, t), o);\n}\n\nfunction roundDateTimeToNano(e, n, t) {\n  const [o, r] = roundTimeToNano(e, n, t);\n  return checkIsoDateTimeInBounds({\n    ...moveByDays(e, r),\n    ...o\n  });\n}\n\nfunction roundTimeToNano(e, n, t) {\n  return nanoToIsoTimeAndDay(roundByInc(isoTimeFieldsToNano(e), n, t));\n}\n\nfunction roundToMinute(e) {\n  return roundByInc(e, Jr, 7);\n}\n\nfunction computeNanoInc(e, n) {\n  return Xr[e] * n;\n}\n\nfunction computeDayInterval(e) {\n  const n = computeDayFloor(e);\n  return [ n, moveByDays(n, 1) ];\n}\n\nfunction computeDayFloor(e) {\n  return Ci(6, e);\n}\n\nfunction roundDayTimeDurationByInc(e, n, t) {\n  const o = Math.min(getMaxDurationUnit(e), 6);\n  return nanoToDurationDayTimeFields(roundBigNanoByInc(durationFieldsToBigNano(e, o), n, t), o);\n}\n\nfunction roundRelativeDuration(e, n, t, o, r, i, a, s, c, u) {\n  if (0 === o && 1 === r) {\n    return e;\n  }\n  const l = isUniformUnit(o, s) ? isZonedEpochSlots(s) && o < 6 && t >= 6 ? nudgeZonedTimeDuration : nudgeDayTimeDuration : nudgeRelativeDuration;\n  let [f, d, m] = l(e, n, t, o, r, i, a, s, c, u);\n  return m && 7 !== o && (f = ((e, n, t, o, r, i, a, s) => {\n    const c = computeDurationSign(e);\n    for (let u = o + 1; u <= t; u++) {\n      if (7 === u && 7 !== t) {\n        continue;\n      }\n      const o = bi(u, e);\n      o[F[u]] += c;\n      const l = oe(re(a(s(r, i, o)), n));\n      if (l && Math.sign(l) !== c) {\n        break;\n      }\n      e = o;\n    }\n    return e;\n  })(f, d, t, Math.max(6, o), a, s, c, u)), f;\n}\n\nfunction roundBigNano(e, n, t, o, r) {\n  if (6 === n) {\n    const n = (e => e[0] + e[1] / Qr)(e);\n    return [ roundByInc(n, t, o), 0 ];\n  }\n  return roundBigNanoByInc(e, computeNanoInc(n, t), o, r);\n}\n\nfunction roundBigNanoByInc(e, n, t, o) {\n  let [r, i] = e;\n  o && i < 0 && (i += Qr, r -= 1);\n  const [a, s] = divModFloor(roundByInc(i, n, t), Qr);\n  return createBigNano(r + a, s);\n}\n\nfunction roundByInc(e, n, t) {\n  return roundWithMode(e / n, t) * n;\n}\n\nfunction roundWithMode(e, n) {\n  return ga[n](e);\n}\n\nfunction nudgeDayTimeDuration(e, n, t, o, r, i) {\n  const a = computeDurationSign(e), s = durationFieldsToBigNano(e), c = roundBigNano(s, o, r, i), u = re(s, c), l = Math.sign(c[0] - s[0]) === a, f = nanoToDurationDayTimeFields(c, Math.min(t, 6));\n  return [ {\n    ...e,\n    ...f\n  }, addBigNanos(n, u), l ];\n}\n\nfunction nudgeZonedTimeDuration(e, n, t, o, r, i, a, s, c, u) {\n  const l = computeDurationSign(e), f = oe(durationFieldsToBigNano(e, 5)), d = computeNanoInc(o, r);\n  let m = roundByInc(f, d, i);\n  const [p, h] = clampRelativeDuration(a, {\n    ...e,\n    ...Fi\n  }, 6, l, s, c, u), g = m - oe(re(p, h));\n  let T = 0;\n  g && Math.sign(g) !== l ? n = moveBigNano(p, m) : (T += l, m = roundByInc(g, d, i), \n  n = moveBigNano(h, m));\n  const D = nanoToDurationTimeFields(m);\n  return [ {\n    ...e,\n    ...D,\n    days: e.days + T\n  }, n, Boolean(T) ];\n}\n\nfunction nudgeRelativeDuration(e, n, t, o, r, i, a, s, c, u) {\n  const l = computeDurationSign(e), f = F[o], d = bi(o, e);\n  7 === o && (e = {\n    ...e,\n    weeks: e.weeks + Math.trunc(e.days / 7)\n  });\n  const m = divTrunc(e[f], r) * r;\n  d[f] = m;\n  const [p, h] = clampRelativeDuration(a, d, o, r * l, s, c, u), g = m + computeEpochNanoFrac(n, p, h) * l * r, T = roundByInc(g, r, i), D = Math.sign(T - g) === l;\n  return d[f] = T, [ d, D ? h : p, D ];\n}\n\nfunction me(e, n, t, o) {\n  const [r, i, a, s] = (e => {\n    const n = refineTimeDisplayTuple(e = normalizeOptions(e));\n    return [ e.timeZone, ...n ];\n  })(o), c = void 0 !== r;\n  return ((e, n, t, o, r, i) => {\n    t = roundBigNanoByInc(t, r, o, 1);\n    const a = n.getOffsetNanosecondsFor(t);\n    return formatIsoDateTimeFields(Ie(t, a), i) + (e ? Fe(roundToMinute(a)) : \"Z\");\n  })(c, n(c ? e(r) : Ta), t.epochNanoseconds, i, a, s);\n}\n\nfunction In(e, n, t) {\n  const [o, r, i, a, s, c] = (e => {\n    e = normalizeOptions(e);\n    const n = da(e), t = refineSubsecDigits(e), o = pa(e), r = ha(e, 4), i = aa(e, 4);\n    return [ n, ma(e), o, r, ...refineSmallestUnitAndSubsecDigits(i, t) ];\n  })(t);\n  return ((e, n, t, o, r, i, a, s, c, u) => {\n    o = roundBigNanoByInc(o, c, s, 1);\n    const l = e(t).getOffsetNanosecondsFor(o);\n    return formatIsoDateTimeFields(Ie(o, l), u) + Fe(roundToMinute(l), a) + ((e, n) => 1 !== n ? \"[\" + (2 === n ? \"!\" : \"\") + I(e) + \"]\" : \"\")(t, i) + formatCalendar(n, r);\n  })(e, n.calendar, n.timeZone, n.epochNanoseconds, o, r, i, a, s, c);\n}\n\nfunction Tt(e, n) {\n  const [t, o, r, i] = (e => (e = normalizeOptions(e), [ da(e), ...refineTimeDisplayTuple(e) ]))(n);\n  return a = e.calendar, s = t, c = i, formatIsoDateTimeFields(roundDateTimeToNano(e, r, o), c) + formatCalendar(a, s);\n  var a, s, c;\n}\n\nfunction yt(e, n) {\n  return t = e.calendar, o = e, r = refineDateDisplayOptions(n), formatIsoDateFields(o) + formatCalendar(t, r);\n  var t, o, r;\n}\n\nfunction et(e, n) {\n  return formatDateLikeIso(e.calendar, formatIsoYearMonthFields, e, refineDateDisplayOptions(n));\n}\n\nfunction W(e, n) {\n  return formatDateLikeIso(e.calendar, formatIsoMonthDayFields, e, refineDateDisplayOptions(n));\n}\n\nfunction qe(e, n) {\n  const [t, o, r] = refineTimeDisplayOptions(n);\n  return i = r, formatIsoTimeFields(roundTimeToNano(e, o, t)[0], i);\n  var i;\n}\n\nfunction zt(e, n) {\n  const [t, o, r] = refineTimeDisplayOptions(n, 3);\n  return o > 1 && (e = {\n    ...e,\n    ...roundDayTimeDurationByInc(e, o, t)\n  }), ((e, n) => {\n    const {sign: t} = e, o = -1 === t ? negateDurationFields(e) : e, {hours: r, minutes: i} = o, [a, s] = divModBigNano(durationFieldsToBigNano(o, 3), _r, divModTrunc);\n    checkDurationTimeUnit(a);\n    const c = formatSubsecNano(s, n), u = n >= 0 || !t || c;\n    return (t < 0 ? \"-\" : \"\") + \"P\" + formatDurationFragments({\n      Y: formatDurationNumber(o.years),\n      M: formatDurationNumber(o.months),\n      W: formatDurationNumber(o.weeks),\n      D: formatDurationNumber(o.days)\n    }) + (r || i || a || u ? \"T\" + formatDurationFragments({\n      H: formatDurationNumber(r),\n      M: formatDurationNumber(i),\n      S: formatDurationNumber(a, u) + c\n    }) : \"\");\n  })(e, r);\n}\n\nfunction formatDateLikeIso(e, n, t, o) {\n  const r = I(e), i = o > 1 || 0 === o && r !== X;\n  return 1 === o ? r === X ? n(t) : formatIsoDateFields(t) : i ? formatIsoDateFields(t) + formatCalendarId(r, 2 === o) : n(t);\n}\n\nfunction formatDurationFragments(e) {\n  const n = [];\n  for (const t in e) {\n    const o = e[t];\n    o && n.push(o, t);\n  }\n  return n.join(\"\");\n}\n\nfunction formatIsoDateTimeFields(e, n) {\n  return formatIsoDateFields(e) + \"T\" + formatIsoTimeFields(e, n);\n}\n\nfunction formatIsoDateFields(e) {\n  return formatIsoYearMonthFields(e) + \"-\" + xr(e.isoDay);\n}\n\nfunction formatIsoYearMonthFields(e) {\n  const {isoYear: n} = e;\n  return (n < 0 || n > 9999 ? getSignStr(n) + padNumber(6, Math.abs(n)) : padNumber(4, n)) + \"-\" + xr(e.isoMonth);\n}\n\nfunction formatIsoMonthDayFields(e) {\n  return xr(e.isoMonth) + \"-\" + xr(e.isoDay);\n}\n\nfunction formatIsoTimeFields(e, n) {\n  const t = [ xr(e.isoHour), xr(e.isoMinute) ];\n  return -1 !== n && t.push(xr(e.isoSecond) + ((e, n, t, o) => formatSubsecNano(e * be + n * Vr + t, o))(e.isoMillisecond, e.isoMicrosecond, e.isoNanosecond, n)), \n  t.join(\":\");\n}\n\nfunction Fe(e, n = 0) {\n  if (1 === n) {\n    return \"\";\n  }\n  const [t, o] = divModFloor(Math.abs(e), Kr), [r, i] = divModFloor(o, Jr), [a, s] = divModFloor(i, _r);\n  return getSignStr(e) + xr(t) + \":\" + xr(r) + (a || s ? \":\" + xr(a) + formatSubsecNano(s) : \"\");\n}\n\nfunction formatCalendar(e, n) {\n  if (1 !== n) {\n    const t = I(e);\n    if (n > 1 || 0 === n && t !== X) {\n      return formatCalendarId(t, 2 === n);\n    }\n  }\n  return \"\";\n}\n\nfunction formatCalendarId(e, n) {\n  return \"[\" + (n ? \"!\" : \"\") + \"u-ca=\" + e + \"]\";\n}\n\nfunction formatSubsecNano(e, n) {\n  let t = padNumber(9, e);\n  return t = void 0 === n ? t.replace(Na, \"\") : t.slice(0, n), t ? \".\" + t : \"\";\n}\n\nfunction getSignStr(e) {\n  return e < 0 ? \"-\" : \"+\";\n}\n\nfunction formatDurationNumber(e, n) {\n  return e || n ? e.toLocaleString(\"fullwide\", {\n    useGrouping: 0\n  }) : \"\";\n}\n\nfunction _zonedEpochSlotsToIso(e, n) {\n  const {epochNanoseconds: t} = e, o = (n.getOffsetNanosecondsFor ? n : n(e.timeZone)).getOffsetNanosecondsFor(t), r = Ie(t, o);\n  return {\n    calendar: e.calendar,\n    ...r,\n    offsetNanoseconds: o\n  };\n}\n\nfunction mn(e, n) {\n  const t = fn(n, e);\n  return {\n    calendar: n.calendar,\n    ...Vn(Yi, t),\n    offset: Fe(t.offsetNanoseconds),\n    timeZone: n.timeZone\n  };\n}\n\nfunction getMatchingInstantFor(e, n, t, o = 0, r = 0, i, a) {\n  if (void 0 !== t && 1 === o && (1 === o || a)) {\n    return isoToEpochNanoWithOffset(n, t);\n  }\n  const s = e.getPossibleInstantsFor(n);\n  if (void 0 !== t && 3 !== o) {\n    const e = ((e, n, t, o) => {\n      const r = isoToEpochNano(n);\n      o && (t = roundToMinute(t));\n      for (const n of e) {\n        let e = oe(re(n, r));\n        if (o && (e = roundToMinute(e)), e === t) {\n          return n;\n        }\n      }\n    })(s, n, t, i);\n    if (void 0 !== e) {\n      return e;\n    }\n    if (0 === o) {\n      throw new RangeError(kr);\n    }\n  }\n  return a ? isoToEpochNano(n) : we(e, n, r, s);\n}\n\nfunction we(e, n, t = 0, o = e.getPossibleInstantsFor(n)) {\n  if (1 === o.length) {\n    return o[0];\n  }\n  if (1 === t) {\n    throw new RangeError(Yr);\n  }\n  if (o.length) {\n    return o[3 === t ? 1 : 0];\n  }\n  const r = isoToEpochNano(n), i = ((e, n) => {\n    const t = e.getOffsetNanosecondsFor(moveBigNano(n, -Qr));\n    return ne(e.getOffsetNanosecondsFor(moveBigNano(n, Qr)) - t);\n  })(e, r), a = i * (2 === t ? -1 : 1);\n  return (o = e.getPossibleInstantsFor(Ie(r, a)))[2 === t ? 0 : o.length - 1];\n}\n\nfunction ae(e) {\n  if (Math.abs(e) >= Qr) {\n    throw new RangeError(wr);\n  }\n  return e;\n}\n\nfunction ne(e) {\n  if (e > Qr) {\n    throw new RangeError(Br);\n  }\n  return e;\n}\n\nfunction se(e, n, t) {\n  return _(checkEpochNanoInBounds(addBigNanos(n.epochNanoseconds, (e => {\n    if (durationHasDateParts(e)) {\n      throw new RangeError(qr);\n    }\n    return durationFieldsToBigNano(e, 5);\n  })(e ? negateDurationFields(t) : t))));\n}\n\nfunction hn(e, n, t, o, r, i = Object.create(null)) {\n  const a = n(o.timeZone), s = e(o.calendar);\n  return {\n    ...o,\n    ...moveZonedEpochs(a, s, o, t ? negateDurationFields(r) : r, i)\n  };\n}\n\nfunction ct(e, n, t, o, r = Object.create(null)) {\n  const {calendar: i} = t;\n  return ee(moveDateTime(e(i), t, n ? negateDurationFields(o) : o, r), i);\n}\n\nfunction bt(e, n, t, o, r) {\n  const {calendar: i} = t;\n  return v(moveDate(e(i), t, n ? negateDurationFields(o) : o, r), i);\n}\n\nfunction Qe(e, n, t, o, r = Object.create(null)) {\n  const i = t.calendar, a = e(i);\n  let s = moveToDayOfMonthUnsafe(a, t);\n  n && (o = xt(o)), o.sign < 0 && (s = a.dateAdd(s, {\n    ...Si,\n    months: 1\n  }), s = moveByDays(s, -1));\n  const c = a.dateAdd(s, o, r);\n  return createPlainYearMonthSlots(moveToDayOfMonthUnsafe(a, c), i);\n}\n\nfunction Ye(e, n, t) {\n  return Ge(moveTime(n, e ? negateDurationFields(t) : t)[0]);\n}\n\nfunction moveZonedEpochs(e, n, t, o, r) {\n  const i = durationFieldsToBigNano(o, 5);\n  let a = t.epochNanoseconds;\n  if (durationHasDateParts(o)) {\n    const s = fn(t, e);\n    a = addBigNanos(we(e, {\n      ...moveDate(n, s, {\n        ...o,\n        ...Fi\n      }, r),\n      ...Vn(j, s)\n    }), i);\n  } else {\n    a = addBigNanos(a, i), H(r);\n  }\n  return {\n    epochNanoseconds: checkEpochNanoInBounds(a)\n  };\n}\n\nfunction moveDateTime(e, n, t, o) {\n  const [r, i] = moveTime(n, t);\n  return checkIsoDateTimeInBounds({\n    ...moveDate(e, n, {\n      ...t,\n      ...Fi,\n      days: t.days + i\n    }, o),\n    ...r\n  });\n}\n\nfunction moveDate(e, n, t, o) {\n  if (t.years || t.months || t.weeks) {\n    return e.dateAdd(n, t, o);\n  }\n  H(o);\n  const r = t.days + durationFieldsToBigNano(t, 5)[0];\n  return r ? checkIsoDateInBounds(moveByDays(n, r)) : n;\n}\n\nfunction moveToDayOfMonthUnsafe(e, n, t = 1) {\n  return moveByDays(n, t - e.day(n));\n}\n\nfunction moveTime(e, n) {\n  const [t, o] = durationFieldsToBigNano(n, 5), [r, i] = nanoToIsoTimeAndDay(isoTimeFieldsToNano(e) + o);\n  return [ r, t + i ];\n}\n\nfunction moveByDays(e, n) {\n  return n ? {\n    ...e,\n    ...epochMilliToIso(isoToEpochMilli(e) + n * Gr)\n  } : e;\n}\n\nfunction createMarkerSystem(e, n, t) {\n  const o = e(t.calendar);\n  return isZonedEpochSlots(t) ? [ t, o, n(t.timeZone) ] : [ {\n    ...t,\n    ...Dt\n  }, o ];\n}\n\nfunction createMarkerToEpochNano(e) {\n  return e ? extractEpochNano : isoToEpochNano;\n}\n\nfunction createMoveMarker(e) {\n  return e ? E(moveZonedEpochs, e) : moveDateTime;\n}\n\nfunction createDiffMarkers(e) {\n  return e ? E(diffZonedEpochsExact, e) : diffDateTimesExact;\n}\n\nfunction isZonedEpochSlots(e) {\n  return e && e.epochNanoseconds;\n}\n\nfunction isUniformUnit(e, n) {\n  return e <= 6 - (isZonedEpochSlots(n) ? 1 : 0);\n}\n\nfunction Wt(e, n, t, o, r, i, a) {\n  const s = e(normalizeOptions(a).relativeTo), c = Math.max(getMaxDurationUnit(r), getMaxDurationUnit(i));\n  if (isUniformUnit(c, s)) {\n    return Vt(checkDurationUnits(((e, n, t, o) => {\n      const r = addBigNanos(durationFieldsToBigNano(e), durationFieldsToBigNano(n), o ? -1 : 1);\n      if (!Number.isFinite(r[0])) {\n        throw new RangeError(Cr);\n      }\n      return {\n        ...Si,\n        ...nanoToDurationDayTimeFields(r, t)\n      };\n    })(r, i, c, o)));\n  }\n  if (!s) {\n    throw new RangeError(zr);\n  }\n  o && (i = negateDurationFields(i));\n  const [u, l, f] = createMarkerSystem(n, t, s), d = createMoveMarker(f), m = createDiffMarkers(f), p = d(l, u, r);\n  return Vt(m(l, u, d(l, p, i), c));\n}\n\nfunction Gt(e, n, t, o, r) {\n  const i = getMaxDurationUnit(o), [a, s, c, u, l] = ((e, n, t) => {\n    e = normalizeOptionsOrString(e, Hi);\n    let o = sa(e);\n    const r = t(e[Ki]);\n    let i = parseRoundingIncInteger(e);\n    const a = ha(e, 7);\n    let s = aa(e);\n    if (void 0 === o && void 0 === s) {\n      throw new RangeError(Ur);\n    }\n    return null == s && (s = 0), null == o && (o = Math.max(s, n)), checkLargestSmallestUnit(o, s), \n    i = refineRoundingInc(i, s, 1), [ o, s, i, a, r ];\n  })(r, i, e), f = Math.max(i, a);\n  if (!isZonedEpochSlots(l) && f <= 6) {\n    return Vt(checkDurationUnits(((e, n, t, o, r) => {\n      const i = roundBigNano(durationFieldsToBigNano(e), t, o, r);\n      return {\n        ...Si,\n        ...nanoToDurationDayTimeFields(i, n)\n      };\n    })(o, a, s, c, u)));\n  }\n  if (!l) {\n    throw new RangeError(zr);\n  }\n  const [d, m, p] = createMarkerSystem(n, t, l), h = createMarkerToEpochNano(p), g = createMoveMarker(p), T = createDiffMarkers(p), D = g(m, d, o);\n  let I = T(m, d, D, a);\n  const M = o.sign, N = computeDurationSign(I);\n  if (M && N && M !== N) {\n    throw new RangeError(vr);\n  }\n  return N && (I = roundRelativeDuration(I, h(D), a, s, c, u, m, d, h, g)), Vt(I);\n}\n\nfunction Rt(e) {\n  return -1 === e.sign ? xt(e) : e;\n}\n\nfunction xt(e) {\n  return Vt(negateDurationFields(e));\n}\n\nfunction negateDurationFields(e) {\n  const n = {};\n  for (const t of F) {\n    n[t] = -1 * e[t] || 0;\n  }\n  return n;\n}\n\nfunction Jt(e) {\n  return !e.sign;\n}\n\nfunction computeDurationSign(e, n = F) {\n  let t = 0;\n  for (const o of n) {\n    const n = Math.sign(e[o]);\n    if (n) {\n      if (t && t !== n) {\n        throw new RangeError(Rr);\n      }\n      t = n;\n    }\n  }\n  return t;\n}\n\nfunction checkDurationUnits(e) {\n  for (const n of vi) {\n    clampEntity(n, e[n], -ya, ya, 1);\n  }\n  return checkDurationTimeUnit(oe(durationFieldsToBigNano(e), _r)), e;\n}\n\nfunction checkDurationTimeUnit(e) {\n  if (!Number.isSafeInteger(e)) {\n    throw new RangeError(Zr);\n  }\n}\n\nfunction durationFieldsToBigNano(e, n = 6) {\n  return givenFieldsToBigNano(e, n, F);\n}\n\nfunction nanoToDurationDayTimeFields(e, n = 6) {\n  const [t, o] = e, r = nanoToGivenFields(o, n, F);\n  if (r[F[n]] += t * (Qr / Xr[n]), !Number.isFinite(r[F[n]])) {\n    throw new RangeError(Cr);\n  }\n  return r;\n}\n\nfunction nanoToDurationTimeFields(e, n = 5) {\n  return nanoToGivenFields(e, n, F);\n}\n\nfunction durationHasDateParts(e) {\n  return Boolean(computeDurationSign(e, Pi));\n}\n\nfunction getMaxDurationUnit(e) {\n  let n = 9;\n  for (;n > 0 && !e[F[n]]; n--) {}\n  return n;\n}\n\nfunction createSplitTuple(e, n) {\n  return [ e, n ];\n}\n\nfunction computePeriod(e) {\n  const n = Math.floor(e / Da) * Da;\n  return [ n, n + Da ];\n}\n\nfunction pe(e) {\n  const n = parseDateTimeLike(e = toStringViaPrimitive(e));\n  if (!n) {\n    throw new RangeError(failedParse(e));\n  }\n  let t;\n  if (n.m) {\n    t = 0;\n  } else {\n    if (!n.offset) {\n      throw new RangeError(failedParse(e));\n    }\n    t = parseOffsetNano(n.offset);\n  }\n  return n.timeZone && parseOffsetNanoMaybe(n.timeZone, 1), _(isoToEpochNanoWithOffset(checkIsoDateTimeFields(n), t));\n}\n\nfunction Xt(e) {\n  const n = parseDateTimeLike(m(e));\n  if (!n) {\n    throw new RangeError(failedParse(e));\n  }\n  if (n.timeZone) {\n    return finalizeZonedDateTime(n, n.offset ? parseOffsetNano(n.offset) : void 0);\n  }\n  if (n.m) {\n    throw new RangeError(failedParse(e));\n  }\n  return finalizeDate(n);\n}\n\nfunction Mn(e, n) {\n  const t = parseDateTimeLike(m(e));\n  if (!t || !t.timeZone) {\n    throw new RangeError(failedParse(e));\n  }\n  const {offset: o} = t, r = o ? parseOffsetNano(o) : void 0, [, i, a] = wn(n);\n  return finalizeZonedDateTime(t, r, i, a);\n}\n\nfunction parseOffsetNano(e) {\n  const n = parseOffsetNanoMaybe(e);\n  if (void 0 === n) {\n    throw new RangeError(failedParse(e));\n  }\n  return n;\n}\n\nfunction Ct(e) {\n  const n = parseDateTimeLike(m(e));\n  if (!n || n.m) {\n    throw new RangeError(failedParse(e));\n  }\n  return ee(finalizeDateTime(n));\n}\n\nfunction At(e) {\n  const n = parseDateTimeLike(m(e));\n  if (!n || n.m) {\n    throw new RangeError(failedParse(e));\n  }\n  return v(n.p ? finalizeDateTime(n) : finalizeDate(n));\n}\n\nfunction ot(e, n) {\n  const t = parseYearMonthOnly(m(n));\n  if (t) {\n    return requireIsoCalendar(t), createPlainYearMonthSlots(checkIsoYearMonthInBounds(checkIsoDateFields(t)));\n  }\n  const o = At(n);\n  return createPlainYearMonthSlots(moveToDayOfMonthUnsafe(e(o.calendar), o));\n}\n\nfunction requireIsoCalendar(e) {\n  if (e.calendar !== X) {\n    throw new RangeError(invalidSubstring(e.calendar));\n  }\n}\n\nfunction Q(e, n) {\n  const t = parseMonthDayOnly(m(n));\n  if (t) {\n    return requireIsoCalendar(t), createPlainMonthDaySlots(checkIsoDateFields(t));\n  }\n  const o = At(n), {calendar: r} = o, i = e(r), [a, s, c] = i.h(o), [u, l] = i.I(a, s), [f, d] = i.N(u, l, c);\n  return createPlainMonthDaySlots(checkIsoDateInBounds(i.P(f, d, c)), r);\n}\n\nfunction ze(e) {\n  let n, t = (e => {\n    const n = Ca.exec(e);\n    return n ? (organizeAnnotationParts(n[10]), organizeTimeParts(n)) : void 0;\n  })(m(e));\n  if (!t) {\n    if (t = parseDateTimeLike(e), !t) {\n      throw new RangeError(failedParse(e));\n    }\n    if (!t.p) {\n      throw new RangeError(failedParse(e));\n    }\n    if (t.m) {\n      throw new RangeError(invalidSubstring(\"Z\"));\n    }\n    requireIsoCalendar(t);\n  }\n  if ((n = parseYearMonthOnly(e)) && isIsoDateFieldsValid(n)) {\n    throw new RangeError(failedParse(e));\n  }\n  if ((n = parseMonthDayOnly(e)) && isIsoDateFieldsValid(n)) {\n    throw new RangeError(failedParse(e));\n  }\n  return Ge(constrainIsoTimeFields(t, 1));\n}\n\nfunction Kt(e) {\n  const n = (e => {\n    const n = za.exec(e);\n    return n ? (e => {\n      function parseUnit(e, r, i) {\n        let a = 0, s = 0;\n        if (i && ([a, o] = divModFloor(o, Xr[i])), void 0 !== e) {\n          if (t) {\n            throw new RangeError(invalidSubstring(e));\n          }\n          s = (e => {\n            const n = parseInt(e);\n            if (!Number.isFinite(n)) {\n              throw new RangeError(invalidSubstring(e));\n            }\n            return n;\n          })(e), n = 1, r && (o = parseSubsecNano(r) * (Xr[i] / _r), t = 1);\n        }\n        return a + s;\n      }\n      let n = 0, t = 0, o = 0, r = {\n        ...zipProps(F, [ parseUnit(e[2]), parseUnit(e[3]), parseUnit(e[4]), parseUnit(e[5]), parseUnit(e[6], e[7], 5), parseUnit(e[8], e[9], 4), parseUnit(e[10], e[11], 3) ]),\n        ...nanoToGivenFields(o, 2, F)\n      };\n      if (!n) {\n        throw new RangeError(noValidFields(F));\n      }\n      return parseSign(e[1]) < 0 && (r = negateDurationFields(r)), r;\n    })(n) : void 0;\n  })(m(e));\n  if (!n) {\n    throw new RangeError(failedParse(e));\n  }\n  return Vt(checkDurationUnits(n));\n}\n\nfunction sn(e) {\n  const n = parseDateTimeLike(e) || parseYearMonthOnly(e) || parseMonthDayOnly(e);\n  return n ? n.calendar : e;\n}\n\nfunction Ne(e) {\n  const n = parseDateTimeLike(e);\n  return n && (n.timeZone || n.m && Ta || n.offset) || e;\n}\n\nfunction finalizeZonedDateTime(e, n, t = 0, o = 0) {\n  const r = ye(e.timeZone), i = ie(r);\n  return Yn(getMatchingInstantFor(i, checkIsoDateTimeFields(e), n, t, o, !i.v, e.m), r, an(e.calendar));\n}\n\nfunction finalizeDateTime(e) {\n  return resolveSlotsCalendar(checkIsoDateTimeInBounds(checkIsoDateTimeFields(e)));\n}\n\nfunction finalizeDate(e) {\n  return resolveSlotsCalendar(checkIsoDateInBounds(checkIsoDateFields(e)));\n}\n\nfunction resolveSlotsCalendar(e) {\n  return {\n    ...e,\n    calendar: an(e.calendar)\n  };\n}\n\nfunction parseDateTimeLike(e) {\n  const n = Ya.exec(e);\n  return n ? (e => {\n    const n = e[10], t = \"Z\" === (n || \"\").toUpperCase();\n    return {\n      isoYear: organizeIsoYearParts(e),\n      isoMonth: parseInt(e[4]),\n      isoDay: parseInt(e[5]),\n      ...organizeTimeParts(e.slice(5)),\n      ...organizeAnnotationParts(e[16]),\n      p: Boolean(e[6]),\n      m: t,\n      offset: t ? void 0 : n\n    };\n  })(n) : void 0;\n}\n\nfunction parseYearMonthOnly(e) {\n  const n = Ba.exec(e);\n  return n ? (e => ({\n    isoYear: organizeIsoYearParts(e),\n    isoMonth: parseInt(e[4]),\n    isoDay: 1,\n    ...organizeAnnotationParts(e[5])\n  }))(n) : void 0;\n}\n\nfunction parseMonthDayOnly(e) {\n  const n = ka.exec(e);\n  return n ? (e => ({\n    isoYear: ji,\n    isoMonth: parseInt(e[1]),\n    isoDay: parseInt(e[2]),\n    ...organizeAnnotationParts(e[3])\n  }))(n) : void 0;\n}\n\nfunction parseOffsetNanoMaybe(e, n) {\n  const t = Za.exec(e);\n  return t ? ((e, n) => {\n    const t = e[4] || e[5];\n    if (n && t) {\n      throw new RangeError(invalidSubstring(t));\n    }\n    return ae((parseInt0(e[2]) * Kr + parseInt0(e[3]) * Jr + parseInt0(e[4]) * _r + parseSubsecNano(e[5] || \"\")) * parseSign(e[1]));\n  })(t, n) : void 0;\n}\n\nfunction organizeIsoYearParts(e) {\n  const n = parseSign(e[1]), t = parseInt(e[2] || e[3]);\n  if (n < 0 && !t) {\n    throw new RangeError(invalidSubstring(-0));\n  }\n  return n * t;\n}\n\nfunction organizeTimeParts(e) {\n  const n = parseInt0(e[3]);\n  return {\n    ...nanoToIsoTimeAndDay(parseSubsecNano(e[4] || \"\"))[0],\n    isoHour: parseInt0(e[1]),\n    isoMinute: parseInt0(e[2]),\n    isoSecond: 60 === n ? 59 : n\n  };\n}\n\nfunction organizeAnnotationParts(e) {\n  let n, t;\n  const o = [];\n  if (e.replace(Ra, ((e, r, i) => {\n    const a = Boolean(r), [s, c] = i.split(\"=\").reverse();\n    if (c) {\n      if (\"u-ca\" === c) {\n        o.push(s), n || (n = a);\n      } else if (a || /[A-Z]/.test(c)) {\n        throw new RangeError(invalidSubstring(e));\n      }\n    } else {\n      if (t) {\n        throw new RangeError(invalidSubstring(e));\n      }\n      t = s;\n    }\n    return \"\";\n  })), o.length > 1 && n) {\n    throw new RangeError(invalidSubstring(e));\n  }\n  return {\n    timeZone: t,\n    calendar: o[0] || X\n  };\n}\n\nfunction parseSubsecNano(e) {\n  return parseInt(e.padEnd(9, \"0\"));\n}\n\nfunction createRegExp(e) {\n  return new RegExp(`^${e}$`, \"i\");\n}\n\nfunction parseSign(e) {\n  return e && \"+\" !== e ? -1 : 1;\n}\n\nfunction parseInt0(e) {\n  return void 0 === e ? 0 : parseInt(e);\n}\n\nfunction Me(e) {\n  return ye(m(e));\n}\n\nfunction ye(e) {\n  const n = getTimeZoneEssence(e);\n  return \"number\" == typeof n ? Fe(n) : n ? (e => {\n    if (Ua.test(e)) {\n      throw new RangeError(br);\n    }\n    return e.toLowerCase().split(\"/\").map(((e, n) => (e.length <= 3 || /\\d/.test(e)) && !/etc|yap/.test(e) ? e.toUpperCase() : e.replace(/baja|dumont|[a-z]+/g, ((e, t) => e.length <= 2 && !n || \"in\" === e || \"chat\" === e ? e.toUpperCase() : e.length > 2 || !t ? capitalize(e).replace(/island|noronha|murdo|rivadavia|urville/, capitalize) : e)))).join(\"/\");\n  })(e) : Ta;\n}\n\nfunction getTimeZoneAtomic(e) {\n  const n = getTimeZoneEssence(e);\n  return \"number\" == typeof n ? n : n ? n.resolvedOptions().timeZone : Ta;\n}\n\nfunction getTimeZoneEssence(e) {\n  const n = parseOffsetNanoMaybe(e = e.toUpperCase(), 1);\n  return void 0 !== n ? n : e !== Ta ? qa(e) : void 0;\n}\n\nfunction Ze(e, n) {\n  return te(e.epochNanoseconds, n.epochNanoseconds);\n}\n\nfunction yn(e, n) {\n  return te(e.epochNanoseconds, n.epochNanoseconds);\n}\n\nfunction $t(e, n, t, o, r, i) {\n  const a = e(normalizeOptions(i).relativeTo), s = Math.max(getMaxDurationUnit(o), getMaxDurationUnit(r));\n  if (allPropsEqual(F, o, r)) {\n    return 0;\n  }\n  if (isUniformUnit(s, a)) {\n    return te(durationFieldsToBigNano(o), durationFieldsToBigNano(r));\n  }\n  if (!a) {\n    throw new RangeError(zr);\n  }\n  const [c, u, l] = createMarkerSystem(n, t, a), f = createMarkerToEpochNano(l), d = createMoveMarker(l);\n  return te(f(d(u, c, o)), f(d(u, c, r)));\n}\n\nfunction gt(e, n) {\n  return rt(e, n) || He(e, n);\n}\n\nfunction rt(e, n) {\n  return compareNumbers(isoToEpochMilli(e), isoToEpochMilli(n));\n}\n\nfunction He(e, n) {\n  return compareNumbers(isoTimeFieldsToNano(e), isoTimeFieldsToNano(n));\n}\n\nfunction ue(e, n) {\n  return !Ze(e, n);\n}\n\nfunction gn(e, n) {\n  return !yn(e, n) && !!je(e.timeZone, n.timeZone) && isIdLikeEqual(e.calendar, n.calendar);\n}\n\nfunction ft(e, n) {\n  return !gt(e, n) && isIdLikeEqual(e.calendar, n.calendar);\n}\n\nfunction It(e, n) {\n  return !rt(e, n) && isIdLikeEqual(e.calendar, n.calendar);\n}\n\nfunction $e(e, n) {\n  return !rt(e, n) && isIdLikeEqual(e.calendar, n.calendar);\n}\n\nfunction x(e, n) {\n  return !rt(e, n) && isIdLikeEqual(e.calendar, n.calendar);\n}\n\nfunction Ve(e, n) {\n  return !He(e, n);\n}\n\nfunction je(e, n) {\n  if (e === n) {\n    return 1;\n  }\n  const t = I(e), o = I(n);\n  if (t === o) {\n    return 1;\n  }\n  try {\n    return getTimeZoneAtomic(t) === getTimeZoneAtomic(o);\n  } catch (e) {}\n}\n\nfunction le(e, n, t, o) {\n  const r = refineDiffOptions(e, U(o), 3, 5), i = diffEpochNanos(n.epochNanoseconds, t.epochNanoseconds, ...r);\n  return Vt(e ? negateDurationFields(i) : i);\n}\n\nfunction Dn(e, n, t, o, r, i) {\n  const a = getCommonCalendarSlot(o.calendar, r.calendar), s = U(i), [c, u, l, f] = refineDiffOptions(t, s, 5), d = o.epochNanoseconds, m = r.epochNanoseconds, p = te(m, d);\n  let h;\n  if (p) {\n    if (c < 6) {\n      h = diffEpochNanos(d, m, c, u, l, f);\n    } else {\n      const t = n(((e, n) => {\n        if (!je(e, n)) {\n          throw new RangeError(Fr);\n        }\n        return e;\n      })(o.timeZone, r.timeZone)), i = e(a);\n      h = diffZonedEpochsBig(i, t, o, r, p, c, s), h = roundRelativeDuration(h, m, c, u, l, f, i, o, extractEpochNano, E(moveZonedEpochs, t));\n    }\n  } else {\n    h = Si;\n  }\n  return Vt(t ? negateDurationFields(h) : h);\n}\n\nfunction ut(e, n, t, o, r) {\n  const i = getCommonCalendarSlot(t.calendar, o.calendar), a = U(r), [s, c, u, l] = refineDiffOptions(n, a, 6), f = isoToEpochNano(t), d = isoToEpochNano(o), m = te(d, f);\n  let p;\n  if (m) {\n    if (s <= 6) {\n      p = diffEpochNanos(f, d, s, c, u, l);\n    } else {\n      const n = e(i);\n      p = diffDateTimesBig(n, t, o, m, s, a), p = roundRelativeDuration(p, d, s, c, u, l, n, t, isoToEpochNano, moveDateTime);\n    }\n  } else {\n    p = Si;\n  }\n  return Vt(n ? negateDurationFields(p) : p);\n}\n\nfunction Ft(e, n, t, o, r) {\n  const i = getCommonCalendarSlot(t.calendar, o.calendar), a = U(r);\n  return diffDateLike(n, (() => e(i)), t, o, ...refineDiffOptions(n, a, 6, 9, 6), a);\n}\n\nfunction Xe(e, n, t, o, r) {\n  const i = getCommonCalendarSlot(t.calendar, o.calendar), a = U(r), s = refineDiffOptions(n, a, 9, 9, 8), c = e(i);\n  return diffDateLike(n, (() => c), moveToDayOfMonthUnsafe(c, t), moveToDayOfMonthUnsafe(c, o), ...s, a);\n}\n\nfunction diffDateLike(e, n, t, o, r, i, a, s, c) {\n  const u = isoToEpochNano(t), l = isoToEpochNano(o);\n  let f;\n  if (te(l, u)) {\n    if (6 === r) {\n      f = diffEpochNanos(u, l, r, i, a, s);\n    } else {\n      const e = n();\n      f = e.dateUntil(t, o, r, c), 6 === i && 1 === a || (f = roundRelativeDuration(f, l, r, i, a, s, e, t, isoToEpochNano, moveDate));\n    }\n  } else {\n    f = Si;\n  }\n  return Vt(e ? negateDurationFields(f) : f);\n}\n\nfunction Ae(e, n, t, o) {\n  const r = U(o), [i, a, s, c] = refineDiffOptions(e, r, 5, 5), u = roundByInc(diffTimes(n, t), computeNanoInc(a, s), c), l = {\n    ...Si,\n    ...nanoToDurationTimeFields(u, i)\n  };\n  return Vt(e ? negateDurationFields(l) : l);\n}\n\nfunction diffZonedEpochsExact(e, n, t, o, r, i) {\n  const a = te(o.epochNanoseconds, t.epochNanoseconds);\n  return a ? r < 6 ? diffEpochNanosExact(t.epochNanoseconds, o.epochNanoseconds, r) : diffZonedEpochsBig(n, e, t, o, a, r, i) : Si;\n}\n\nfunction diffDateTimesExact(e, n, t, o, r) {\n  const i = isoToEpochNano(n), a = isoToEpochNano(t), s = te(a, i);\n  return s ? o <= 6 ? diffEpochNanosExact(i, a, o) : diffDateTimesBig(e, n, t, s, o, r) : Si;\n}\n\nfunction diffZonedEpochsBig(e, n, t, o, r, i, a) {\n  const [s, c, u] = ((e, n, t, o) => {\n    function updateMid() {\n      return l = {\n        ...moveByDays(a, c++ * -o),\n        ...i\n      }, f = we(e, l), te(s, f) === -o;\n    }\n    const r = fn(n, e), i = Vn(j, r), a = fn(t, e), s = t.epochNanoseconds;\n    let c = 0;\n    const u = diffTimes(r, a);\n    let l, f;\n    if (Math.sign(u) === -o && c++, updateMid() && (-1 === o || updateMid())) {\n      throw new RangeError(vr);\n    }\n    const d = oe(re(f, s));\n    return [ r, l, d ];\n  })(n, t, o, r);\n  var l, f;\n  return {\n    ...6 === i ? (l = s, f = c, {\n      ...Si,\n      days: diffDays(l, f)\n    }) : e.dateUntil(s, c, i, a),\n    ...nanoToDurationTimeFields(u)\n  };\n}\n\nfunction diffDateTimesBig(e, n, t, o, r, i) {\n  const [a, s, c] = ((e, n, t) => {\n    let o = n, r = diffTimes(e, n);\n    return Math.sign(r) === -t && (o = moveByDays(n, -t), r += Qr * t), [ e, o, r ];\n  })(n, t, o);\n  return {\n    ...e.dateUntil(a, s, r, i),\n    ...nanoToDurationTimeFields(c)\n  };\n}\n\nfunction diffEpochNanos(e, n, t, o, r, i) {\n  return {\n    ...Si,\n    ...nanoToDurationDayTimeFields(roundBigNano(re(e, n), o, r, i), t)\n  };\n}\n\nfunction diffEpochNanosExact(e, n, t) {\n  return {\n    ...Si,\n    ...nanoToDurationDayTimeFields(re(e, n), t)\n  };\n}\n\nfunction diffDays(e, n) {\n  return diffEpochMilliByDay(isoToEpochMilli(e), isoToEpochMilli(n));\n}\n\nfunction diffEpochMilliByDay(e, n) {\n  return Math.trunc((n - e) / Gr);\n}\n\nfunction diffTimes(e, n) {\n  return isoTimeFieldsToNano(n) - isoTimeFieldsToNano(e);\n}\n\nfunction getCommonCalendarSlot(e, n) {\n  if (!isIdLikeEqual(e, n)) {\n    throw new RangeError(Er);\n  }\n  return e;\n}\n\nfunction createIntlCalendar(e) {\n  function epochMilliToIntlFields(e) {\n    return ((e, n) => ({\n      ...parseIntlYear(e, n),\n      F: e.month,\n      day: parseInt(e.day)\n    }))(hashIntlFormatParts(n, e), t);\n  }\n  const n = La(e), t = computeCalendarIdBase(e);\n  return {\n    id: e,\n    O: createIntlFieldCache(epochMilliToIntlFields),\n    B: createIntlYearDataCache(epochMilliToIntlFields)\n  };\n}\n\nfunction createIntlFieldCache(e) {\n  return Jn((n => {\n    const t = isoToEpochMilli(n);\n    return e(t);\n  }), WeakMap);\n}\n\nfunction createIntlYearDataCache(e) {\n  const n = e(0).year - Wi;\n  return Jn((t => {\n    let o, r = isoArgsToEpochMilli(t - n);\n    const i = [], a = [];\n    do {\n      r += 400 * Gr;\n    } while ((o = e(r)).year <= t);\n    do {\n      r += (1 - o.day) * Gr, o.year === t && (i.push(r), a.push(o.F)), r -= Gr;\n    } while ((o = e(r)).year >= t);\n    return {\n      k: i.reverse(),\n      C: Wr(a.reverse())\n    };\n  }));\n}\n\nfunction parseIntlYear(e, n) {\n  let t, o, r = parseIntlPartsYear(e);\n  if (e.era) {\n    const i = Di[n];\n    void 0 !== i && (t = \"islamic\" === n ? \"ah\" : e.era.normalize(\"NFD\").toLowerCase().replace(/[^a-z0-9]/g, \"\"), \n    \"bc\" === t || \"b\" === t ? t = \"bce\" : \"ad\" !== t && \"a\" !== t || (t = \"ce\"), o = r, \n    r = eraYearToYear(o, i[t] || 0));\n  }\n  return {\n    era: t,\n    eraYear: o,\n    year: r\n  };\n}\n\nfunction parseIntlPartsYear(e) {\n  return parseInt(e.relatedYear || e.year);\n}\n\nfunction computeIntlDateParts(e) {\n  const {year: n, F: t, day: o} = this.O(e), {C: r} = this.B(n);\n  return [ n, r[t] + 1, o ];\n}\n\nfunction computeIntlEpochMilli(e, n = 1, t = 1) {\n  return this.B(e).k[n - 1] + (t - 1) * Gr;\n}\n\nfunction computeIntlLeapMonth(e) {\n  const n = queryMonthStrings(this, e), t = queryMonthStrings(this, e - 1), o = n.length;\n  if (o > t.length) {\n    const e = getCalendarLeapMonthMeta(this);\n    if (e < 0) {\n      return -e;\n    }\n    for (let e = 0; e < o; e++) {\n      if (n[e] !== t[e]) {\n        return e + 1;\n      }\n    }\n  }\n}\n\nfunction computeIntlDaysInYear(e) {\n  return diffEpochMilliByDay(computeIntlEpochMilli.call(this, e), computeIntlEpochMilli.call(this, e + 1));\n}\n\nfunction computeIntlDaysInMonth(e, n) {\n  const {k: t} = this.B(e);\n  let o = n + 1, r = t;\n  return o > t.length && (o = 1, r = this.B(e + 1).k), diffEpochMilliByDay(t[n - 1], r[o - 1]);\n}\n\nfunction computeIntlMonthsInYear(e) {\n  return this.B(e).k.length;\n}\n\nfunction queryMonthStrings(e, n) {\n  return Object.keys(e.B(n).C);\n}\n\nfunction rn(e) {\n  return an(m(e));\n}\n\nfunction an(e) {\n  if ((e = e.toLowerCase()) !== X && e !== gi && computeCalendarIdBase(e) !== computeCalendarIdBase(La(e).resolvedOptions().calendar)) {\n    throw new RangeError(invalidCalendar(e));\n  }\n  return e;\n}\n\nfunction computeCalendarIdBase(e) {\n  return \"islamicc\" === e && (e = \"islamic\"), e.split(\"-\")[0];\n}\n\nfunction computeNativeWeekOfYear(e) {\n  return this.R(e)[0];\n}\n\nfunction computeNativeYearOfWeek(e) {\n  return this.R(e)[1];\n}\n\nfunction computeNativeDayOfYear(e) {\n  const [n] = this.h(e);\n  return diffEpochMilliByDay(this.q(n), isoToEpochMilli(e)) + 1;\n}\n\nfunction parseMonthCode(e) {\n  const n = Wa.exec(e);\n  if (!n) {\n    throw new RangeError(invalidMonthCode(e));\n  }\n  return [ parseInt(n[1]), Boolean(n[2]) ];\n}\n\nfunction monthCodeNumberToMonth(e, n, t) {\n  return e + (n || t && e >= t ? 1 : 0);\n}\n\nfunction monthToMonthCodeNumber(e, n) {\n  return e - (n && e >= n ? 1 : 0);\n}\n\nfunction eraYearToYear(e, n) {\n  return (n + e) * (Math.sign(n) || 1) || 0;\n}\n\nfunction getCalendarEraOrigins(e) {\n  return Di[getCalendarIdBase(e)];\n}\n\nfunction getCalendarLeapMonthMeta(e) {\n  return Ii[getCalendarIdBase(e)];\n}\n\nfunction getCalendarIdBase(e) {\n  return computeCalendarIdBase(e.id || X);\n}\n\nfunction Qt(e, n, t, o) {\n  const r = refineCalendarFields(t, o, en, [], ri);\n  if (void 0 !== r.timeZone) {\n    const o = t.dateFromFields(r), i = refineTimeBag(r), a = e(r.timeZone);\n    return {\n      epochNanoseconds: getMatchingInstantFor(n(a), {\n        ...o,\n        ...i\n      }, void 0 !== r.offset ? parseOffsetNano(r.offset) : void 0),\n      timeZone: a\n    };\n  }\n  return {\n    ...t.dateFromFields(r),\n    ...Dt\n  };\n}\n\nfunction jn(e, n, t, o, r, i) {\n  const a = refineCalendarFields(t, r, en, ti, ri), s = e(a.timeZone), [c, u, l] = wn(i), f = t.dateFromFields(a, overrideOverflowOptions(i, c)), d = refineTimeBag(a, c);\n  return Yn(getMatchingInstantFor(n(s), {\n    ...f,\n    ...d\n  }, void 0 !== a.offset ? parseOffsetNano(a.offset) : void 0, u, l), s, o);\n}\n\nfunction Pt(e, n, t) {\n  const o = refineCalendarFields(e, n, en, [], w), r = H(t);\n  return ee(checkIsoDateTimeInBounds({\n    ...e.dateFromFields(o, overrideOverflowOptions(t, r)),\n    ...refineTimeBag(o, r)\n  }));\n}\n\nfunction Yt(e, n, t, o = []) {\n  const r = refineCalendarFields(e, n, en, o);\n  return e.dateFromFields(r, t);\n}\n\nfunction nt(e, n, t, o) {\n  const r = refineCalendarFields(e, n, fi, o);\n  return e.yearMonthFromFields(r, t);\n}\n\nfunction K(e, n, t, o, r = []) {\n  const i = refineCalendarFields(e, t, en, r);\n  return n && void 0 !== i.month && void 0 === i.monthCode && void 0 === i.year && (i.year = ji), \n  e.monthDayFromFields(i, o);\n}\n\nfunction Ue(e, n) {\n  const t = H(n);\n  return Ge(refineTimeBag(refineFields(e, ei, [], 1), t));\n}\n\nfunction Ht(e) {\n  const n = refineFields(e, Ni);\n  return Vt(checkDurationUnits({\n    ...Si,\n    ...n\n  }));\n}\n\nfunction refineCalendarFields(e, n, t, o = [], r = []) {\n  return refineFields(n, [ ...e.fields(t), ...r ].sort(), o);\n}\n\nfunction refineFields(e, n, t, o = !t) {\n  const r = {};\n  let i, a = 0;\n  for (const o of n) {\n    if (o === i) {\n      throw new RangeError(duplicateFields(o));\n    }\n    if (\"constructor\" === o || \"__proto__\" === o) {\n      throw new RangeError(tn(o));\n    }\n    let n = e[o];\n    if (void 0 !== n) {\n      a = 1, Ga[o] && (n = Ga[o](n, o)), r[o] = n;\n    } else if (t) {\n      if (t.includes(o)) {\n        throw new TypeError(missingField(o));\n      }\n      r[o] = hi[o];\n    }\n    i = o;\n  }\n  if (o && !a) {\n    throw new TypeError(noValidFields(n));\n  }\n  return r;\n}\n\nfunction refineTimeBag(e, n) {\n  return constrainIsoTimeFields(Ha({\n    ...hi,\n    ...e\n  }), n);\n}\n\nfunction Sn(e, n, t, o, r, i) {\n  const a = U(i), {calendar: s, timeZone: c} = t;\n  return Yn(((e, n, t, o, r) => {\n    const i = mergeCalendarFields(e, t, o, en, oi, ni), [a, s, c] = wn(r, 2);\n    return getMatchingInstantFor(n, {\n      ...e.dateFromFields(i, overrideOverflowOptions(r, a)),\n      ...refineTimeBag(i, a)\n    }, parseOffsetNano(i.offset), s, c);\n  })(e(s), n(c), o, r, a), c, s);\n}\n\nfunction at(e, n, t, o, r) {\n  const i = U(r);\n  return ee(((e, n, t, o) => {\n    const r = mergeCalendarFields(e, n, t, en, w), i = H(o);\n    return checkIsoDateTimeInBounds({\n      ...e.dateFromFields(r, overrideOverflowOptions(o, i)),\n      ...refineTimeBag(r, i)\n    });\n  })(e(n.calendar), t, o, i));\n}\n\nfunction Zt(e, n, t, o, r) {\n  const i = U(r);\n  return ((e, n, t, o) => {\n    const r = mergeCalendarFields(e, n, t, en);\n    return e.dateFromFields(r, o);\n  })(e(n.calendar), t, o, i);\n}\n\nfunction Ke(e, n, t, o, r) {\n  const i = U(r);\n  return createPlainYearMonthSlots(((e, n, t, o) => {\n    const r = mergeCalendarFields(e, n, t, fi);\n    return e.yearMonthFromFields(r, o);\n  })(e(n.calendar), t, o, i));\n}\n\nfunction k(e, n, t, o, r) {\n  const i = U(r);\n  return ((e, n, t, o) => {\n    const r = mergeCalendarFields(e, n, t, en);\n    return e.monthDayFromFields(r, o);\n  })(e(n.calendar), t, o, i);\n}\n\nfunction Be(e, n, t) {\n  return Ge(((e, n, t) => {\n    const o = H(t);\n    return refineTimeBag({\n      ...Vn(ei, e),\n      ...refineFields(n, ei)\n    }, o);\n  })(e, n, t));\n}\n\nfunction kt(e, n) {\n  return Vt((t = e, o = n, checkDurationUnits({\n    ...t,\n    ...refineFields(o, Ni)\n  })));\n  var t, o;\n}\n\nfunction mergeCalendarFields(e, n, t, o, r = [], i = []) {\n  const a = [ ...e.fields(o), ...r ].sort();\n  let s = refineFields(n, a, i);\n  const c = refineFields(t, a);\n  return s = e.mergeFields(s, c), refineFields(s, a, []);\n}\n\nfunction convertToPlainMonthDay(e, n) {\n  const t = refineCalendarFields(e, n, pi);\n  return e.monthDayFromFields(t);\n}\n\nfunction convertToPlainYearMonth(e, n, t) {\n  const o = refineCalendarFields(e, n, di);\n  return e.yearMonthFromFields(o, t);\n}\n\nfunction convertToIso(e, n, t, o, r) {\n  n = Vn(t = e.fields(t), n), o = refineFields(o, r = e.fields(r), []);\n  let i = e.mergeFields(n, o);\n  return i = refineFields(i, [ ...t, ...r ].sort(), []), e.dateFromFields(i);\n}\n\nfunction refineYear(e, n) {\n  let {era: t, eraYear: o, year: r} = n;\n  const i = getCalendarEraOrigins(e);\n  if (void 0 !== t || void 0 !== o) {\n    if (void 0 === t || void 0 === o) {\n      throw new TypeError(Dr);\n    }\n    if (!i) {\n      throw new RangeError(gr);\n    }\n    const e = i[t];\n    if (void 0 === e) {\n      throw new RangeError(invalidEra(t));\n    }\n    const n = eraYearToYear(o, e);\n    if (void 0 !== r && r !== n) {\n      throw new RangeError(Ir);\n    }\n    r = n;\n  } else if (void 0 === r) {\n    throw new TypeError(missingYear(i));\n  }\n  return r;\n}\n\nfunction refineMonth(e, n, t, o) {\n  let {month: r, monthCode: i} = n;\n  if (void 0 !== i) {\n    const n = ((e, n, t, o) => {\n      const r = e.U(t), [i, a] = parseMonthCode(n);\n      let s = monthCodeNumberToMonth(i, a, r);\n      if (a) {\n        const n = getCalendarLeapMonthMeta(e);\n        if (void 0 === n) {\n          throw new RangeError(Pr);\n        }\n        if (n > 0) {\n          if (s > n) {\n            throw new RangeError(Pr);\n          }\n          if (void 0 === r) {\n            if (1 === o) {\n              throw new RangeError(Pr);\n            }\n            s--;\n          }\n        } else {\n          if (s !== -n) {\n            throw new RangeError(Pr);\n          }\n          if (void 0 === r && 1 === o) {\n            throw new RangeError(Pr);\n          }\n        }\n      }\n      return s;\n    })(e, i, t, o);\n    if (void 0 !== r && r !== n) {\n      throw new RangeError(Mr);\n    }\n    r = n, o = 1;\n  } else if (void 0 === r) {\n    throw new TypeError(Nr);\n  }\n  return clampEntity(\"month\", r, 1, e.L(t), o);\n}\n\nfunction refineDay(e, n, t, o, r) {\n  return clampProp(n, \"day\", 1, e.j(o, t), r);\n}\n\nfunction spliceFields(e, n, t, o) {\n  let r = 0;\n  const i = [];\n  for (const e of t) {\n    void 0 !== n[e] ? r = 1 : i.push(e);\n  }\n  if (Object.assign(e, n), r) {\n    for (const n of o || i) {\n      delete e[n];\n    }\n  }\n}\n\nfunction Se(e) {\n  return _(checkEpochNanoInBounds(bigIntToBigNano(toBigInt(e))));\n}\n\nfunction vn(e, n, t, o, r = X) {\n  return Yn(checkEpochNanoInBounds(bigIntToBigNano(toBigInt(t))), n(o), e(r));\n}\n\nfunction pt(e, n, t, o, r = 0, i = 0, a = 0, s = 0, c = 0, u = 0, l = X) {\n  return ee(checkIsoDateTimeInBounds(checkIsoDateTimeFields(T(toInteger, zipProps(wi, [ n, t, o, r, i, a, s, c, u ])))), e(l));\n}\n\nfunction Nt(e, n, t, o, r = X) {\n  return v(checkIsoDateInBounds(checkIsoDateFields(T(toInteger, {\n    isoYear: n,\n    isoMonth: t,\n    isoDay: o\n  }))), e(r));\n}\n\nfunction tt(e, n, t, o = X, r = 1) {\n  const i = toInteger(n), a = toInteger(t), s = e(o);\n  return createPlainYearMonthSlots(checkIsoYearMonthInBounds(checkIsoDateFields({\n    isoYear: i,\n    isoMonth: a,\n    isoDay: toInteger(r)\n  })), s);\n}\n\nfunction G(e, n, t, o = X, r = ji) {\n  const i = toInteger(n), a = toInteger(t), s = e(o);\n  return createPlainMonthDaySlots(checkIsoDateInBounds(checkIsoDateFields({\n    isoYear: toInteger(r),\n    isoMonth: i,\n    isoDay: a\n  })), s);\n}\n\nfunction ke(e = 0, n = 0, t = 0, o = 0, r = 0, i = 0) {\n  return Ge(constrainIsoTimeFields(T(toInteger, zipProps(j, [ e, n, t, o, r, i ])), 1));\n}\n\nfunction Lt(e = 0, n = 0, t = 0, o = 0, r = 0, i = 0, a = 0, s = 0, c = 0, u = 0) {\n  return Vt(checkDurationUnits(T(toStrictInteger, zipProps(F, [ e, n, t, o, r, i, a, s, c, u ]))));\n}\n\nfunction fe(e, n, t = X) {\n  return Yn(e.epochNanoseconds, n, t);\n}\n\nfunction Zn(e) {\n  return _(e.epochNanoseconds);\n}\n\nfunction ht(e, n) {\n  return ee(fn(n, e));\n}\n\nfunction Bt(e, n) {\n  return v(fn(n, e));\n}\n\nfunction bn(e, n, t) {\n  return convertToPlainYearMonth(e(n.calendar), t);\n}\n\nfunction Fn(e, n, t) {\n  return convertToPlainMonthDay(e(n.calendar), t);\n}\n\nfunction Re(e, n) {\n  return Ge(fn(n, e));\n}\n\nfunction mt(e, n, t, o) {\n  const r = ((e, n, t, o) => {\n    const r = ve(o);\n    return we(e(n), t, r);\n  })(e, t, n, o);\n  return Yn(checkEpochNanoInBounds(r), t, n.calendar);\n}\n\nfunction St(e, n, t) {\n  const o = e(n.calendar);\n  return createPlainYearMonthSlots({\n    ...n,\n    ...convertToPlainYearMonth(o, t)\n  });\n}\n\nfunction Ot(e, n, t) {\n  return convertToPlainMonthDay(e(n.calendar), t);\n}\n\nfunction vt(e, n, t, o, r) {\n  const i = e(r.timeZone), a = r.plainTime, s = void 0 !== a ? n(a) : Dt;\n  return Yn(we(t(i), {\n    ...o,\n    ...s\n  }), i, o.calendar);\n}\n\nfunction wt(e, n = Dt) {\n  return ee(checkIsoDateTimeInBounds({\n    ...e,\n    ...n\n  }));\n}\n\nfunction jt(e, n, t) {\n  return convertToPlainYearMonth(e(n.calendar), t);\n}\n\nfunction Mt(e, n, t) {\n  return convertToPlainMonthDay(e(n.calendar), t);\n}\n\nfunction _e(e, n, t, o) {\n  return ((e, n, t) => convertToIso(e, n, di, de(t), li))(e(n.calendar), t, o);\n}\n\nfunction R(e, n, t, o) {\n  return ((e, n, t) => convertToIso(e, n, pi, de(t), si))(e(n.calendar), t, o);\n}\n\nfunction Je(e, n, t, o, r) {\n  const i = de(r), a = n(i.plainDate), s = e(i.timeZone);\n  return Yn(we(t(s), {\n    ...a,\n    ...o\n  }), s, a.calendar);\n}\n\nfunction Le(e, n) {\n  return ee(checkIsoDateTimeInBounds({\n    ...e,\n    ...n\n  }));\n}\n\nfunction De(e) {\n  return _(checkEpochNanoInBounds(he(e, _r)));\n}\n\nfunction Pe(e) {\n  return _(checkEpochNanoInBounds(he(e, be)));\n}\n\nfunction Ce(e) {\n  return _(checkEpochNanoInBounds(bigIntToBigNano(toBigInt(e), Vr)));\n}\n\nfunction ge(e) {\n  return _(checkEpochNanoInBounds(bigIntToBigNano(toBigInt(e))));\n}\n\nfunction pn(e, n, t = Dt) {\n  const o = n.timeZone, r = e(o), i = {\n    ...fn(n, r),\n    ...t\n  };\n  return Yn(getMatchingInstantFor(r, i, i.offsetNanoseconds, 2), o, n.calendar);\n}\n\nfunction Tn(e, n, t) {\n  const o = n.timeZone, r = e(o), i = {\n    ...fn(n, r),\n    ...t\n  }, a = getPreferredCalendarSlot(n.calendar, t.calendar);\n  return Yn(getMatchingInstantFor(r, i, i.offsetNanoseconds, 2), o, a);\n}\n\nfunction lt(e, n = Dt) {\n  return ee({\n    ...e,\n    ...n\n  });\n}\n\nfunction st(e, n) {\n  return ee({\n    ...e,\n    ...n\n  }, getPreferredCalendarSlot(e.calendar, n.calendar));\n}\n\nfunction it(e, n) {\n  return {\n    ...e,\n    calendar: n\n  };\n}\n\nfunction On(e, n) {\n  return {\n    ...e,\n    timeZone: n\n  };\n}\n\nfunction getPreferredCalendarSlot(e, n) {\n  if (e === n) {\n    return e;\n  }\n  const t = I(e), o = I(n);\n  if (t === o || t === X) {\n    return n;\n  }\n  if (o === X) {\n    return e;\n  }\n  throw new RangeError(Er);\n}\n\nfunction createNativeOpsCreator(e, n) {\n  return t => t === X ? e : t === gi || t === Ti ? Object.assign(Object.create(e), {\n    id: t\n  }) : Object.assign(Object.create(n), Aa(t));\n}\n\nfunction createOptionsTransformer(e, n, t) {\n  const o = new Set(t);\n  return r => (((e, n) => {\n    for (const t of n) {\n      if (t in e) {\n        return 1;\n      }\n    }\n    return 0;\n  })(r = V(o, r), e) || Object.assign(r, n), t && (r.timeZone = Ta, [ \"full\", \"long\" ].includes(r.timeStyle) && (r.timeStyle = \"medium\")), \n  r);\n}\n\nfunction e(e, n = qn) {\n  const [t, , , o] = e;\n  return (r, i = Ns, ...a) => {\n    const s = n(o && o(...a), r, i, t), c = s.resolvedOptions();\n    return [ s, ...toEpochMillis(e, c, a) ];\n  };\n}\n\nfunction qn(e, n, t, o) {\n  if (t = o(t), e) {\n    if (void 0 !== t.timeZone) {\n      throw new TypeError(Lr);\n    }\n    t.timeZone = e;\n  }\n  return new En(n, t);\n}\n\nfunction toEpochMillis(e, n, t) {\n  const [, o, r] = e;\n  return t.map((e => (e.calendar && ((e, n, t) => {\n    if ((t || e !== X) && e !== n) {\n      throw new RangeError(Er);\n    }\n  })(I(e.calendar), n.calendar, r), o(e, n))));\n}\n\nfunction An(e) {\n  const n = Bn();\n  return Ie(n, e.getOffsetNanosecondsFor(n));\n}\n\nfunction Bn() {\n  return he(Date.now(), be);\n}\n\nfunction Nn() {\n  return ys || (ys = (new En).resolvedOptions().timeZone);\n}\n\nconst expectedInteger = (e, n) => `Non-integer ${e}: ${n}`, expectedPositive = (e, n) => `Non-positive ${e}: ${n}`, expectedFinite = (e, n) => `Non-finite ${e}: ${n}`, forbiddenBigIntToNumber = e => `Cannot convert bigint to ${e}`, invalidBigInt = e => `Invalid bigint: ${e}`, pr = \"Cannot convert Symbol to string\", hr = \"Invalid object\", numberOutOfRange = (e, n, t, o, r) => r ? numberOutOfRange(e, r[n], r[t], r[o]) : invalidEntity(e, n) + `; must be between ${t}-${o}`, invalidEntity = (e, n) => `Invalid ${e}: ${n}`, missingField = e => `Missing ${e}`, tn = e => `Invalid field ${e}`, duplicateFields = e => `Duplicate field ${e}`, noValidFields = e => \"No valid fields: \" + e.join(), Z = \"Invalid bag\", invalidChoice = (e, n, t) => invalidEntity(e, n) + \"; must be \" + Object.keys(t).join(), A = \"Cannot use valueOf\", P = \"Invalid calling context\", gr = \"Forbidden era/eraYear\", Dr = \"Mismatching era/eraYear\", Ir = \"Mismatching year/eraYear\", invalidEra = e => `Invalid era: ${e}`, missingYear = e => \"Missing year\" + (e ? \"/era/eraYear\" : \"\"), invalidMonthCode = e => `Invalid monthCode: ${e}`, Mr = \"Mismatching month/monthCode\", Nr = \"Missing month/monthCode\", yr = \"Cannot guess year\", Pr = \"Invalid leap month\", g = \"Invalid protocol\", vr = \"Invalid protocol results\", Er = \"Mismatching Calendars\", invalidCalendar = e => `Invalid Calendar: ${e}`, Fr = \"Mismatching TimeZones\", br = \"Forbidden ICU TimeZone\", wr = \"Out-of-bounds offset\", Br = \"Out-of-bounds TimeZone gap\", kr = \"Invalid TimeZone offset\", Yr = \"Ambiguous offset\", Cr = \"Out-of-bounds date\", Zr = \"Out-of-bounds duration\", Rr = \"Cannot mix duration signs\", zr = \"Missing relativeTo\", qr = \"Cannot use large units\", Ur = \"Required smallestUnit or largestUnit\", Ar = \"smallestUnit > largestUnit\", failedParse = e => `Cannot parse: ${e}`, invalidSubstring = e => `Invalid substring: ${e}`, Ln = e => `Cannot format ${e}`, kn = \"Mismatching types for formatting\", Lr = \"Cannot specify TimeZone\", Wr = /*@__PURE__*/ E(b, ((e, n) => n)), jr = /*@__PURE__*/ E(b, ((e, n, t) => t)), xr = /*@__PURE__*/ E(padNumber, 2), $r = {\n  nanosecond: 0,\n  microsecond: 1,\n  millisecond: 2,\n  second: 3,\n  minute: 4,\n  hour: 5,\n  day: 6,\n  week: 7,\n  month: 8,\n  year: 9\n}, Et = /*@__PURE__*/ Object.keys($r), Gr = 864e5, Hr = 1e3, Vr = 1e3, be = 1e6, _r = 1e9, Jr = 6e10, Kr = 36e11, Qr = 864e11, Xr = [ 1, Vr, be, _r, Jr, Kr, Qr ], w = /*@__PURE__*/ Et.slice(0, 6), ei = /*@__PURE__*/ sortStrings(w), ni = [ \"offset\" ], ti = [ \"timeZone\" ], oi = /*@__PURE__*/ w.concat(ni), ri = /*@__PURE__*/ oi.concat(ti), ii = [ \"era\", \"eraYear\" ], ai = /*@__PURE__*/ ii.concat([ \"year\" ]), si = [ \"year\" ], ci = [ \"monthCode\" ], ui = /*@__PURE__*/ [ \"month\" ].concat(ci), li = [ \"day\" ], fi = /*@__PURE__*/ ui.concat(si), di = /*@__PURE__*/ ci.concat(si), en = /*@__PURE__*/ li.concat(fi), mi = /*@__PURE__*/ li.concat(ui), pi = /*@__PURE__*/ li.concat(ci), hi = /*@__PURE__*/ jr(w, 0), X = \"iso8601\", gi = \"gregory\", Ti = \"japanese\", Di = {\n  [gi]: {\n    bce: -1,\n    ce: 0\n  },\n  [Ti]: {\n    bce: -1,\n    ce: 0,\n    meiji: 1867,\n    taisho: 1911,\n    showa: 1925,\n    heisei: 1988,\n    reiwa: 2018\n  },\n  ethioaa: {\n    era0: 0\n  },\n  ethiopic: {\n    era0: 0,\n    era1: 5500\n  },\n  coptic: {\n    era0: -1,\n    era1: 0\n  },\n  roc: {\n    beforeroc: -1,\n    minguo: 0\n  },\n  buddhist: {\n    be: 0\n  },\n  islamic: {\n    ah: 0\n  },\n  indian: {\n    saka: 0\n  },\n  persian: {\n    ap: 0\n  }\n}, Ii = {\n  chinese: 13,\n  dangi: 13,\n  hebrew: -6\n}, m = /*@__PURE__*/ E(requireType, \"string\"), f = /*@__PURE__*/ E(requireType, \"boolean\"), Mi = /*@__PURE__*/ E(requireType, \"number\"), $ = /*@__PURE__*/ E(requireType, \"function\"), F = /*@__PURE__*/ Et.map((e => e + \"s\")), Ni = /*@__PURE__*/ sortStrings(F), yi = /*@__PURE__*/ F.slice(0, 6), Pi = /*@__PURE__*/ F.slice(6), vi = /*@__PURE__*/ Pi.slice(1), Ei = /*@__PURE__*/ Wr(F), Si = /*@__PURE__*/ jr(F, 0), Fi = /*@__PURE__*/ jr(yi, 0), bi = /*@__PURE__*/ E(zeroOutProps, F), j = [ \"isoNanosecond\", \"isoMicrosecond\", \"isoMillisecond\", \"isoSecond\", \"isoMinute\", \"isoHour\" ], Oi = [ \"isoDay\", \"isoMonth\", \"isoYear\" ], wi = /*@__PURE__*/ j.concat(Oi), Bi = /*@__PURE__*/ sortStrings(Oi), ki = /*@__PURE__*/ sortStrings(j), Yi = /*@__PURE__*/ sortStrings(wi), Dt = /*@__PURE__*/ jr(ki, 0), Ci = /*@__PURE__*/ E(zeroOutProps, wi), En = Intl.DateTimeFormat, Zi = \"en-GB\", Ri = 1e8, zi = Ri * Gr, qi = [ Ri, 0 ], Ui = [ -Ri, 0 ], Ai = 275760, Li = -271821, Wi = 1970, ji = 1972, xi = 12, $i = /*@__PURE__*/ isoArgsToEpochMilli(1868, 9, 8), Gi = /*@__PURE__*/ Jn(computeJapaneseEraParts, WeakMap), Hi = \"smallestUnit\", Vi = \"unit\", _i = \"roundingIncrement\", Ji = \"fractionalSecondDigits\", Ki = \"relativeTo\", Qi = {\n  constrain: 0,\n  reject: 1\n}, Xi = /*@__PURE__*/ Object.keys(Qi), ea = {\n  compatible: 0,\n  reject: 1,\n  earlier: 2,\n  later: 3\n}, na = {\n  reject: 0,\n  use: 1,\n  prefer: 2,\n  ignore: 3\n}, ta = {\n  auto: 0,\n  never: 1,\n  critical: 2,\n  always: 3\n}, oa = {\n  auto: 0,\n  never: 1,\n  critical: 2\n}, ra = {\n  auto: 0,\n  never: 1\n}, ia = {\n  floor: 0,\n  halfFloor: 1,\n  ceil: 2,\n  halfCeil: 3,\n  trunc: 4,\n  halfTrunc: 5,\n  expand: 6,\n  halfExpand: 7,\n  halfEven: 8\n}, aa = /*@__PURE__*/ E(refineUnitOption, Hi), sa = /*@__PURE__*/ E(refineUnitOption, \"largestUnit\"), ca = /*@__PURE__*/ E(refineUnitOption, Vi), ua = /*@__PURE__*/ E(refineChoiceOption, \"overflow\", Qi), la = /*@__PURE__*/ E(refineChoiceOption, \"disambiguation\", ea), fa = /*@__PURE__*/ E(refineChoiceOption, \"offset\", na), da = /*@__PURE__*/ E(refineChoiceOption, \"calendarName\", ta), ma = /*@__PURE__*/ E(refineChoiceOption, \"timeZoneName\", oa), pa = /*@__PURE__*/ E(refineChoiceOption, \"offset\", ra), ha = /*@__PURE__*/ E(refineChoiceOption, \"roundingMode\", ia), L = \"PlainYearMonth\", q = \"PlainMonthDay\", J = \"PlainDate\", We = \"PlainDateTime\", xe = \"PlainTime\", Te = \"ZonedDateTime\", Oe = \"Instant\", qt = \"Duration\", ga = [ Math.floor, e => hasHalf(e) ? Math.floor(e) : Math.round(e), Math.ceil, e => hasHalf(e) ? Math.ceil(e) : Math.round(e), Math.trunc, e => hasHalf(e) ? Math.trunc(e) || 0 : Math.round(e), e => e < 0 ? Math.floor(e) : Math.ceil(e), e => Math.sign(e) * Math.round(Math.abs(e)) || 0, e => hasHalf(e) ? (e = Math.trunc(e) || 0) + e % 2 : Math.round(e) ], Ta = \"UTC\", Da = 5184e3, Ia = /*@__PURE__*/ isoArgsToEpochSec(1847), Ma = /*@__PURE__*/ isoArgsToEpochSec(/*@__PURE__*/ (/*@__PURE__*/ new Date).getUTCFullYear() + 10), Na = /0+$/, fn = /*@__PURE__*/ Jn(_zonedEpochSlotsToIso, WeakMap), ya = 2 ** 32 - 1, ie = /*@__PURE__*/ Jn((e => {\n  const n = getTimeZoneEssence(e);\n  return \"object\" == typeof n ? new IntlTimeZone(n) : new FixedTimeZone(n || 0);\n}));\n\nclass FixedTimeZone {\n  constructor(e) {\n    this.v = e;\n  }\n  getOffsetNanosecondsFor() {\n    return this.v;\n  }\n  getPossibleInstantsFor(e) {\n    return [ isoToEpochNanoWithOffset(e, this.v) ];\n  }\n  l() {}\n}\n\nclass IntlTimeZone {\n  constructor(e) {\n    this.$ = (e => {\n      function getOffsetSec(e) {\n        const i = clampNumber(e, o, r), [a, s] = computePeriod(i), c = n(a), u = n(s);\n        return c === u ? c : pinch(t(a, s), c, u, e);\n      }\n      function pinch(n, t, o, r) {\n        let i, a;\n        for (;(void 0 === r || void 0 === (i = r < n[0] ? t : r >= n[1] ? o : void 0)) && (a = n[1] - n[0]); ) {\n          const t = n[0] + Math.floor(a / 2);\n          e(t) === o ? n[1] = t : n[0] = t + 1;\n        }\n        return i;\n      }\n      const n = Jn(e), t = Jn(createSplitTuple);\n      let o = Ia, r = Ma;\n      return {\n        G(e) {\n          const n = getOffsetSec(e - 86400), t = getOffsetSec(e + 86400), o = e - n, r = e - t;\n          if (n === t) {\n            return [ o ];\n          }\n          const i = getOffsetSec(o);\n          return i === getOffsetSec(r) ? [ e - i ] : n > t ? [ o, r ] : [];\n        },\n        V: getOffsetSec,\n        l(e, i) {\n          const a = clampNumber(e, o, r);\n          let [s, c] = computePeriod(a);\n          const u = Da * i, l = i < 0 ? () => c > o || (o = a, 0) : () => s < r || (r = a, \n          0);\n          for (;l(); ) {\n            const o = n(s), r = n(c);\n            if (o !== r) {\n              const n = t(s, c);\n              pinch(n, o, r);\n              const a = n[0];\n              if ((compareNumbers(a, e) || 1) === i) {\n                return a;\n              }\n            }\n            s += u, c += u;\n          }\n        }\n      };\n    })((e => n => {\n      const t = hashIntlFormatParts(e, n * Hr);\n      return isoArgsToEpochSec(parseIntlPartsYear(t), parseInt(t.month), parseInt(t.day), parseInt(t.hour), parseInt(t.minute), parseInt(t.second)) - n;\n    })(e));\n  }\n  getOffsetNanosecondsFor(e) {\n    return this.$.V(epochNanoToSec(e)) * _r;\n  }\n  getPossibleInstantsFor(e) {\n    const [n, t] = [ isoArgsToEpochSec((o = e).isoYear, o.isoMonth, o.isoDay, o.isoHour, o.isoMinute, o.isoSecond), o.isoMillisecond * be + o.isoMicrosecond * Vr + o.isoNanosecond ];\n    var o;\n    return this.$.G(n).map((e => checkEpochNanoInBounds(moveBigNano(he(e, _r), t))));\n  }\n  l(e, n) {\n    const [t, o] = epochNanoToSecMod(e), r = this.$.l(t + (n > 0 || o ? 1 : 0), n);\n    if (void 0 !== r) {\n      return he(r, _r);\n    }\n  }\n}\n\nconst Pa = \"([+\u2212-])\", va = \"(?:[.,](\\\\d{1,9}))?\", Ea = `(?:(?:${Pa}(\\\\d{6}))|(\\\\d{4}))-?(\\\\d{2})`, Sa = \"(\\\\d{2})(?::?(\\\\d{2})(?::?(\\\\d{2})\" + va + \")?)?\", Fa = Pa + Sa, ba = Ea + \"-?(\\\\d{2})(?:[T ]\" + Sa + \"(Z|\" + Fa + \")?)?\", Oa = \"\\\\[(!?)([^\\\\]]*)\\\\]\", wa = `((?:${Oa}){0,9})`, Ba = /*@__PURE__*/ createRegExp(Ea + wa), ka = /*@__PURE__*/ createRegExp(\"(?:--)?(\\\\d{2})-?(\\\\d{2})\" + wa), Ya = /*@__PURE__*/ createRegExp(ba + wa), Ca = /*@__PURE__*/ createRegExp(\"T?\" + Sa + \"(?:\" + Fa + \")?\" + wa), Za = /*@__PURE__*/ createRegExp(Fa), Ra = /*@__PURE__*/ new RegExp(Oa, \"g\"), za = /*@__PURE__*/ createRegExp(`${Pa}?P(\\\\d+Y)?(\\\\d+M)?(\\\\d+W)?(\\\\d+D)?(?:T(?:(\\\\d+)${va}H)?(?:(\\\\d+)${va}M)?(?:(\\\\d+)${va}S)?)?`), qa = /*@__PURE__*/ Jn((e => new En(Zi, {\n  timeZone: e,\n  era: \"short\",\n  year: \"numeric\",\n  month: \"numeric\",\n  day: \"numeric\",\n  hour: \"numeric\",\n  minute: \"numeric\",\n  second: \"numeric\"\n}))), Ua = /^(AC|AE|AG|AR|AS|BE|BS|CA|CN|CS|CT|EA|EC|IE|IS|JS|MI|NE|NS|PL|PN|PR|PS|SS|VS)T$/, Aa = /*@__PURE__*/ Jn(createIntlCalendar), La = /*@__PURE__*/ Jn((e => new En(Zi, {\n  calendar: e,\n  timeZone: Ta,\n  era: \"short\",\n  year: \"numeric\",\n  month: \"short\",\n  day: \"numeric\"\n}))), Wa = /^M(\\d{2})(L?)$/, ja = {\n  era: toStringViaPrimitive,\n  eraYear: toInteger,\n  year: toInteger,\n  month: toPositiveInteger,\n  monthCode: toStringViaPrimitive,\n  day: toPositiveInteger\n}, xa = /*@__PURE__*/ jr(w, toInteger), $a = /*@__PURE__*/ jr(F, toStrictInteger), Ga = /*@__PURE__*/ Object.assign({}, ja, xa, $a, {\n  offset: toStringViaPrimitive\n}), Ha = /*@__PURE__*/ E(remapProps, w, j), Va = {\n  dateAdd(e, n, t) {\n    const o = H(t);\n    let r, {years: i, months: a, weeks: s, days: c} = n;\n    if (c += durationFieldsToBigNano(n, 5)[0], i || a) {\n      r = ((e, n, t, o, r) => {\n        let [i, a, s] = e.h(n);\n        if (t) {\n          const [n, o] = e.I(i, a);\n          i += t, a = monthCodeNumberToMonth(n, o, e.U(i)), a = clampEntity(\"month\", a, 1, e.L(i), r);\n        }\n        return o && ([i, a] = e._(i, a, o)), s = clampEntity(\"day\", s, 1, e.j(i, a), r), \n        e.q(i, a, s);\n      })(this, e, i, a, o);\n    } else {\n      if (!s && !c) {\n        return e;\n      }\n      r = isoToEpochMilli(e);\n    }\n    return r += (7 * s + c) * Gr, checkIsoDateInBounds(epochMilliToIso(r));\n  },\n  dateUntil(e, n, t) {\n    if (t <= 7) {\n      let o = 0, r = diffDays({\n        ...e,\n        ...Dt\n      }, {\n        ...n,\n        ...Dt\n      });\n      return 7 === t && ([o, r] = divModTrunc(r, 7)), {\n        ...Si,\n        weeks: o,\n        days: r\n      };\n    }\n    const o = this.h(e), r = this.h(n);\n    let [i, a, s] = ((e, n, t, o, r, i, a) => {\n      let s = r - n, c = i - t, u = a - o;\n      if (s || c) {\n        const l = Math.sign(s || c);\n        let f = e.j(r, i), d = 0;\n        if (Math.sign(u) === -l) {\n          const o = f;\n          [r, i] = e._(r, i, -l), s = r - n, c = i - t, f = e.j(r, i), d = l < 0 ? -o : f;\n        }\n        if (u = a - Math.min(o, f) + d, s) {\n          const [o, a] = e.I(n, t), [u, f] = e.I(r, i);\n          if (c = u - o || Number(f) - Number(a), Math.sign(c) === -l) {\n            const t = l < 0 && -e.L(r);\n            s = (r -= l) - n, c = i - monthCodeNumberToMonth(o, a, e.U(r)) + (t || e.L(r));\n          }\n        }\n      }\n      return [ s, c, u ];\n    })(this, ...o, ...r);\n    return 8 === t && (a += this.J(i, o[0]), i = 0), {\n      ...Si,\n      years: i,\n      months: a,\n      days: s\n    };\n  },\n  dateFromFields(e, n) {\n    const t = H(n), o = refineYear(this, e), r = refineMonth(this, e, o, t), i = refineDay(this, e, r, o, t);\n    return v(checkIsoDateInBounds(this.P(o, r, i)), this.id || X);\n  },\n  yearMonthFromFields(e, n) {\n    const t = H(n), o = refineYear(this, e), r = refineMonth(this, e, o, t);\n    return createPlainYearMonthSlots(checkIsoYearMonthInBounds(this.P(o, r, 1)), this.id || X);\n  },\n  monthDayFromFields(e, n) {\n    const t = H(n), o = !this.id, {monthCode: r, year: i, month: a} = e;\n    let s, c, u, l, f;\n    if (void 0 !== r) {\n      [s, c] = parseMonthCode(r), f = getDefinedProp(e, \"day\");\n      const n = this.N(s, c, f);\n      if (!n) {\n        throw new RangeError(yr);\n      }\n      if ([u, l] = n, void 0 !== a && a !== l) {\n        throw new RangeError(Mr);\n      }\n      o && (l = clampEntity(\"month\", l, 1, xi, 1), f = clampEntity(\"day\", f, 1, computeIsoDaysInMonth(void 0 !== i ? i : u, l), t));\n    } else {\n      u = void 0 === i && o ? ji : refineYear(this, e), l = refineMonth(this, e, u, t), \n      f = refineDay(this, e, l, u, t);\n      const n = this.U(u);\n      c = l === n, s = monthToMonthCodeNumber(l, n);\n      const r = this.N(s, c, f);\n      if (!r) {\n        throw new RangeError(yr);\n      }\n      [u, l] = r;\n    }\n    return createPlainMonthDaySlots(checkIsoDateInBounds(this.P(u, l, f)), this.id || X);\n  },\n  fields(e) {\n    return getCalendarEraOrigins(this) && e.includes(\"year\") ? [ ...e, ...ii ] : e;\n  },\n  mergeFields(e, n) {\n    const t = Object.assign(Object.create(null), e);\n    return spliceFields(t, n, ui), getCalendarEraOrigins(this) && (spliceFields(t, n, ai), \n    this.id === Ti && spliceFields(t, n, mi, ii)), t;\n  },\n  inLeapYear(e) {\n    const [n] = this.h(e);\n    return this.K(n);\n  },\n  monthsInYear(e) {\n    const [n] = this.h(e);\n    return this.L(n);\n  },\n  daysInMonth(e) {\n    const [n, t] = this.h(e);\n    return this.j(n, t);\n  },\n  daysInYear(e) {\n    const [n] = this.h(e);\n    return this.X(n);\n  },\n  dayOfYear: computeNativeDayOfYear,\n  era(e) {\n    return this.ee(e)[0];\n  },\n  eraYear(e) {\n    return this.ee(e)[1];\n  },\n  monthCode(e) {\n    const [n, t] = this.h(e), [o, r] = this.I(n, t);\n    return ((e, n) => \"M\" + xr(e) + (n ? \"L\" : \"\"))(o, r);\n  },\n  dayOfWeek: computeIsoDayOfWeek,\n  daysInWeek() {\n    return 7;\n  }\n}, _a = {\n  dayOfYear: computeNativeDayOfYear,\n  h: computeIsoDateParts,\n  q: isoArgsToEpochMilli\n}, Ja = /*@__PURE__*/ Object.assign({}, _a, {\n  weekOfYear: computeNativeWeekOfYear,\n  yearOfWeek: computeNativeYearOfWeek,\n  R(e) {\n    function computeWeekShift(e) {\n      return (7 - e < n ? 7 : 0) - e;\n    }\n    function computeWeeksInYear(e) {\n      const n = computeIsoDaysInYear(l + e), t = e || 1, o = computeWeekShift(modFloor(a + n * t, 7));\n      return c = (n + (o - s) * t) / 7;\n    }\n    const n = this.id ? 1 : 4, t = computeIsoDayOfWeek(e), o = this.dayOfYear(e), r = modFloor(t - 1, 7), i = o - 1, a = modFloor(r - i, 7), s = computeWeekShift(a);\n    let c, u = Math.floor((i - s) / 7) + 1, l = e.isoYear;\n    return u ? u > computeWeeksInYear(0) && (u = 1, l++) : (u = computeWeeksInYear(-1), \n    l--), [ u, l, c ];\n  }\n}), Ka = {\n  dayOfYear: computeNativeDayOfYear,\n  h: computeIntlDateParts,\n  q: computeIntlEpochMilli,\n  weekOfYear: computeNativeWeekOfYear,\n  yearOfWeek: computeNativeYearOfWeek,\n  R() {\n    return [];\n  }\n}, Y = /*@__PURE__*/ createNativeOpsCreator(/*@__PURE__*/ Object.assign({}, Va, Ja, {\n  h: computeIsoDateParts,\n  ee(e) {\n    return this.id === gi ? computeGregoryEraParts(e) : this.id === Ti ? Gi(e) : [];\n  },\n  I: (e, n) => [ n, 0 ],\n  N(e, n) {\n    if (!n) {\n      return [ ji, e ];\n    }\n  },\n  K: computeIsoInLeapYear,\n  U() {},\n  L: computeIsoMonthsInYear,\n  J: e => e * xi,\n  j: computeIsoDaysInMonth,\n  X: computeIsoDaysInYear,\n  P: (e, n, t) => ({\n    isoYear: e,\n    isoMonth: n,\n    isoDay: t\n  }),\n  q: isoArgsToEpochMilli,\n  _: (e, n, t) => (e += divTrunc(t, xi), (n += modTrunc(t, xi)) < 1 ? (e--, n += xi) : n > xi && (e++, \n  n -= xi), [ e, n ]),\n  year(e) {\n    return e.isoYear;\n  },\n  month(e) {\n    return e.isoMonth;\n  },\n  day: e => e.isoDay\n}), /*@__PURE__*/ Object.assign({}, Va, Ka, {\n  h: computeIntlDateParts,\n  ee(e) {\n    const n = this.O(e);\n    return [ n.era, n.eraYear ];\n  },\n  I(e, n) {\n    const t = computeIntlLeapMonth.call(this, e);\n    return [ monthToMonthCodeNumber(n, t), t === n ];\n  },\n  N(e, n, t) {\n    let [o, r, i] = computeIntlDateParts.call(this, {\n      isoYear: ji,\n      isoMonth: xi,\n      isoDay: 31\n    });\n    const a = computeIntlLeapMonth.call(this, o), s = r === a;\n    1 === (compareNumbers(e, monthToMonthCodeNumber(r, a)) || compareNumbers(Number(n), Number(s)) || compareNumbers(t, i)) && o--;\n    for (let r = 0; r < 100; r++) {\n      const i = o - r, a = computeIntlLeapMonth.call(this, i), s = monthCodeNumberToMonth(e, n, a);\n      if (n === (s === a) && t <= computeIntlDaysInMonth.call(this, i, s)) {\n        return [ i, s ];\n      }\n    }\n  },\n  K(e) {\n    const n = computeIntlDaysInYear.call(this, e);\n    return n > computeIntlDaysInYear.call(this, e - 1) && n > computeIntlDaysInYear.call(this, e + 1);\n  },\n  U: computeIntlLeapMonth,\n  L: computeIntlMonthsInYear,\n  J(e, n) {\n    const t = n + e, o = Math.sign(e), r = o < 0 ? -1 : 0;\n    let i = 0;\n    for (let e = n; e !== t; e += o) {\n      i += computeIntlMonthsInYear.call(this, e + r);\n    }\n    return i;\n  },\n  j: computeIntlDaysInMonth,\n  X: computeIntlDaysInYear,\n  P(e, n, t) {\n    return epochMilliToIso(computeIntlEpochMilli.call(this, e, n, t));\n  },\n  q: computeIntlEpochMilli,\n  _(e, n, t) {\n    if (t) {\n      if (n += t, !Number.isSafeInteger(n)) {\n        throw new RangeError(Cr);\n      }\n      if (t < 0) {\n        for (;n < 1; ) {\n          n += computeIntlMonthsInYear.call(this, --e);\n        }\n      } else {\n        let t;\n        for (;n > (t = computeIntlMonthsInYear.call(this, e)); ) {\n          n -= t, e++;\n        }\n      }\n    }\n    return [ e, n ];\n  },\n  year(e) {\n    return this.O(e).year;\n  },\n  month(e) {\n    const {year: n, F: t} = this.O(e), {C: o} = this.B(n);\n    return o[t] + 1;\n  },\n  day(e) {\n    return this.O(e).day;\n  }\n})), Qa = \"numeric\", Xa = [ \"timeZoneName\" ], es = {\n  month: Qa,\n  day: Qa\n}, ns = {\n  year: Qa,\n  month: Qa\n}, ts = /*@__PURE__*/ Object.assign({}, ns, {\n  day: Qa\n}), os = {\n  hour: Qa,\n  minute: Qa,\n  second: Qa\n}, rs = /*@__PURE__*/ Object.assign({}, ts, os), is = /*@__PURE__*/ Object.assign({}, rs, {\n  timeZoneName: \"short\"\n}), as = /*@__PURE__*/ Object.keys(ns), ss = /*@__PURE__*/ Object.keys(es), cs = /*@__PURE__*/ Object.keys(ts), us = /*@__PURE__*/ Object.keys(os), ls = [ \"dateStyle\" ], fs = /*@__PURE__*/ as.concat(ls), ds = /*@__PURE__*/ ss.concat(ls), ms = /*@__PURE__*/ cs.concat(ls, [ \"weekday\" ]), ps = /*@__PURE__*/ us.concat([ \"dayPeriod\", \"timeStyle\" ]), hs = /*@__PURE__*/ ms.concat(ps), gs = /*@__PURE__*/ hs.concat(Xa), Ts = /*@__PURE__*/ Xa.concat(ps), Ds = /*@__PURE__*/ Xa.concat(ms), Is = /*@__PURE__*/ Xa.concat([ \"day\", \"weekday\" ], ps), Ms = /*@__PURE__*/ Xa.concat([ \"year\", \"weekday\" ], ps), Ns = {}, t = [ /*@__PURE__*/ createOptionsTransformer(hs, rs), y ], s = [ /*@__PURE__*/ createOptionsTransformer(gs, is), y, 0, (e, n) => {\n  const t = I(e.timeZone);\n  if (n && I(n.timeZone) !== t) {\n    throw new RangeError(Fr);\n  }\n  return t;\n} ], n = [ /*@__PURE__*/ createOptionsTransformer(hs, rs, Xa), isoToEpochMilli ], o = [ /*@__PURE__*/ createOptionsTransformer(ms, ts, Ts), isoToEpochMilli ], r = [ /*@__PURE__*/ createOptionsTransformer(ps, os, Ds), e => isoTimeFieldsToNano(e) / be ], a = [ /*@__PURE__*/ createOptionsTransformer(fs, ns, Is), isoToEpochMilli, 1 ], i = [ /*@__PURE__*/ createOptionsTransformer(ds, es, Ms), isoToEpochMilli, 1 ];\n\nlet ys;\n\nexport { qt as DurationBranding, Oe as InstantBranding, J as PlainDateBranding, We as PlainDateTimeBranding, q as PlainMonthDayBranding, xe as PlainTimeBranding, L as PlainYearMonthBranding, En as RawDateTimeFormat, Te as ZonedDateTimeBranding, Rt as absDuration, Wt as addDurations, oe as bigNanoToNumber, E as bindArgs, mn as buildZonedIsoFields, te as compareBigNanos, $t as compareDurations, Ze as compareInstants, rt as compareIsoDateFields, gt as compareIsoDateTimeFields, He as compareIsoTimeFields, yn as compareZonedDateTimes, dn as computeZonedHoursInDay, Cn as computeZonedStartOfDay, Lt as constructDurationSlots, Se as constructInstantSlots, Nt as constructPlainDateSlots, pt as constructPlainDateTimeSlots, G as constructPlainMonthDaySlots, ke as constructPlainTimeSlots, tt as constructPlainYearMonthSlots, vn as constructZonedDateTimeSlots, U as copyOptions, Vt as createDurationSlots, qn as createFormatForPrep, e as createFormatPrepper, O as createGetterDescriptors, _ as createInstantSlots, D as createNameDescriptors, Y as createNativeStandardOps, v as createPlainDateSlots, ee as createPlainDateTimeSlots, Ge as createPlainTimeSlots, p as createPropDescriptors, h as createStringTagDescriptors, Yn as createZonedDateTimeSlots, o as dateConfig, en as dateFieldNamesAlpha, n as dateTimeConfig, re as diffBigNanos, le as diffInstants, ut as diffPlainDateTimes, Ft as diffPlainDates, Ae as diffPlainTimes, Xe as diffPlainYearMonth, Dn as diffZonedDateTimes, F as durationFieldNamesAsc, kt as durationWithFields, Ce as epochMicroToInstant, Pe as epochMilliToInstant, ge as epochNanoToInstant, Ie as epochNanoToIso, De as epochSecToInstant, V as excludePropsByName, nn as excludeUndefinedProps, tn as forbiddenField, A as forbiddenValueOf, zt as formatDurationIso, me as formatInstantIso, Fe as formatOffsetNano, yt as formatPlainDateIso, Tt as formatPlainDateTimeIso, W as formatPlainMonthDayIso, qe as formatPlainTimeIso, et as formatPlainYearMonthIso, In as formatZonedDateTimeIso, Bn as getCurrentEpochNano, An as getCurrentIsoDateTime, Nn as getCurrentTimeZoneId, Jt as getDurationBlank, N as getEpochMicro, y as getEpochMilli, B as getEpochNano, M as getEpochSec, I as getId, ln as getRequiredDateFields, cn as getRequiredMonthDayFields, un as getRequiredYearMonthFields, we as getSingleInstantFor, C as hasAllPropsByName, t as instantConfig, fe as instantToZonedDateTime, ue as instantsEqual, Z as invalidBag, P as invalidCallingContext, Ln as invalidFormatType, g as invalidProtocol, z as isObjectLike, je as isTimeZoneSlotsEqual, X as isoCalendarId, Dt as isoTimeFieldDefaults, j as isoTimeFieldNamesAsc, b as mapPropNames, T as mapProps, Jn as memoize, kn as mismatchingFormatTypes, i as monthDayConfig, se as moveInstant, bt as movePlainDate, ct as movePlainDateTime, Ye as movePlainTime, Qe as movePlainYearMonth, hn as moveZonedDateTime, be as nanoInMilli, xt as negateDuration, he as numberToBigNano, sn as parseCalendarId, Kt as parseDuration, pe as parseInstant, At as parsePlainDate, Ct as parsePlainDateTime, Q as parsePlainMonthDay, ze as parsePlainTime, ot as parsePlainYearMonth, Xt as parseRelativeToSlots, Ne as parseTimeZoneId, Mn as parseZonedDateTime, Ot as plainDateTimeToPlainMonthDay, St as plainDateTimeToPlainYearMonth, mt as plainDateTimeToZonedDateTime, at as plainDateTimeWithFields, st as plainDateTimeWithPlainDate, lt as plainDateTimeWithPlainTime, ft as plainDateTimesEqual, wt as plainDateToPlainDateTime, Mt as plainDateToPlainMonthDay, jt as plainDateToPlainYearMonth, vt as plainDateToZonedDateTime, Zt as plainDateWithFields, It as plainDatesEqual, R as plainMonthDayToPlainDate, k as plainMonthDayWithFields, x as plainMonthDaysEqual, Le as plainTimeToPlainDateTime, Je as plainTimeToZonedDateTime, Be as plainTimeWithFields, Ve as plainTimesEqual, _e as plainYearMonthToPlainDate, Ke as plainYearMonthWithFields, $e as plainYearMonthsEqual, Vn as pluckProps, ie as queryNativeTimeZone, rn as refineCalendarId, _t as refineDateDiffOptions, Ht as refineDurationBag, ve as refineEpochDisambigOptions, Qt as refineMaybeZonedDateTimeBag, H as refineOverflowOptions, Yt as refinePlainDateBag, Pt as refinePlainDateTimeBag, K as refinePlainMonthDayBag, Ue as refinePlainTimeBag, nt as refinePlainYearMonthBag, Me as refineTimeZoneId, jn as refineZonedDateTimeBag, wn as refineZonedFieldOptions, f as requireBoolean, $ as requireFunction, u as requireInteger, c as requireIntegerOrUndefined, on as requireNonNullish, de as requireObjectLike, d as requirePositiveInteger, S as requirePositiveIntegerOrUndefined, m as requireString, l as requireStringOrUndefined, an as resolveCalendarId, ye as resolveTimeZoneId, Gt as roundDuration, ce as roundInstant, dt as roundPlainDateTime, Ee as roundPlainTime, Pn as roundZonedDateTime, it as slotsWithCalendar, On as slotsWithTimeZone, r as timeConfig, w as timeFieldNamesAsc, Ut as totalDuration, Et as unitNamesAsc, ne as validateTimeZoneGap, ae as validateTimeZoneOffset, a as yearMonthConfig, s as zonedConfig, Zn as zonedDateTimeToInstant, Bt as zonedDateTimeToPlainDate, ht as zonedDateTimeToPlainDateTime, Fn as zonedDateTimeToPlainMonthDay, Re as zonedDateTimeToPlainTime, bn as zonedDateTimeToPlainYearMonth, Sn as zonedDateTimeWithFields, Tn as zonedDateTimeWithPlainDate, pn as zonedDateTimeWithPlainTime, gn as zonedDateTimesEqual, fn as zonedEpochSlotsToIso };\n", "function createSlotClass(e, t, n, o, r) {\n  function Class(...e) {\n    if (!(this instanceof Class)) {\n      throw new TypeError(P);\n    }\n    oo(this, t(...e));\n  }\n  function bindMethod(e, t) {\n    return Object.defineProperties((function(...t) {\n      return e.call(this, getSpecificSlots(this), ...t);\n    }), D(t));\n  }\n  function getSpecificSlots(t) {\n    const n = no(t);\n    if (!n || n.branding !== e) {\n      throw new TypeError(P);\n    }\n    return n;\n  }\n  return Object.defineProperties(Class.prototype, {\n    ...O(T(bindMethod, n)),\n    ...p(T(bindMethod, o)),\n    ...h(\"Temporal.\" + e)\n  }), Object.defineProperties(Class, {\n    ...p(r),\n    ...D(e)\n  }), [ Class, e => {\n    const t = Object.create(Class.prototype);\n    return oo(t, e), t;\n  }, getSpecificSlots ];\n}\n\nfunction createProtocolValidator(e) {\n  return e = e.concat(\"id\").sort(), t => {\n    if (!C(t, e)) {\n      throw new TypeError(g);\n    }\n    return t;\n  };\n}\n\nfunction rejectInvalidBag(e) {\n  if (no(e) || void 0 !== e.calendar || void 0 !== e.timeZone) {\n    throw new TypeError(Z);\n  }\n  return e;\n}\n\nfunction createCalendarFieldMethods(e, t) {\n  const n = {};\n  for (const o in e) {\n    n[o] = ({o: e}, n) => {\n      const r = no(n) || {}, {branding: a} = r, i = a === J || t.includes(a) ? r : toPlainDateSlots(n);\n      return e[o](i);\n    };\n  }\n  return n;\n}\n\nfunction createCalendarGetters(e) {\n  const t = {};\n  for (const n in e) {\n    t[n] = e => {\n      const {calendar: t} = e;\n      return (o = t, \"string\" == typeof o ? Y(o) : (r = o, Object.assign(Object.create(co), {\n        i: r\n      })))[n](e);\n      var o, r;\n    };\n  }\n  return t;\n}\n\nfunction neverValueOf() {\n  throw new TypeError(A);\n}\n\nfunction createCalendarFromSlots({calendar: e}) {\n  return \"string\" == typeof e ? new lr(e) : e;\n}\n\nfunction toPlainMonthDaySlots(e, t) {\n  if (t = U(t), z(e)) {\n    const n = no(e);\n    if (n && n.branding === q) {\n      return H(t), n;\n    }\n    const o = extractCalendarSlotFromBag(e);\n    return K(Qo(o || X), !o, e, t);\n  }\n  const n = Q(Y, e);\n  return H(t), n;\n}\n\nfunction getOffsetNanosecondsForAdapter(e, t, n) {\n  return o = t.call(e, Co(_(n))), ae(u(o));\n  var o;\n}\n\nfunction createAdapterOps(e, t = ho) {\n  const n = Object.keys(t).sort(), o = {};\n  for (const r of n) {\n    o[r] = E(t[r], e, $(e[r]));\n  }\n  return o;\n}\n\nfunction createTimeZoneOps(e, t) {\n  return \"string\" == typeof e ? ie(e) : createAdapterOps(e, t);\n}\n\nfunction createTimeZoneOffsetOps(e) {\n  return createTimeZoneOps(e, Do);\n}\n\nfunction toInstantSlots(e) {\n  if (z(e)) {\n    const t = no(e);\n    if (t) {\n      switch (t.branding) {\n       case Oe:\n        return t;\n\n       case Te:\n        return _(t.epochNanoseconds);\n      }\n    }\n  }\n  return pe(e);\n}\n\nfunction toTemporalInstant() {\n  return Co(_(he(this.valueOf(), be)));\n}\n\nfunction getImplTransition(e, t, n) {\n  const o = t.l(toInstantSlots(n).epochNanoseconds, e);\n  return o ? Co(_(o)) : null;\n}\n\nfunction refineTimeZoneSlot(e) {\n  return z(e) ? (no(e) || {}).timeZone || Fo(e) : (e => ye(Ne(m(e))))(e);\n}\n\nfunction toPlainTimeSlots(e, t) {\n  if (z(e)) {\n    const n = no(e) || {};\n    switch (n.branding) {\n     case xe:\n      return H(t), n;\n\n     case We:\n      return H(t), Ge(n);\n\n     case Te:\n      return H(t), Re(createTimeZoneOffsetOps, n);\n    }\n    return Ue(e, t);\n  }\n  return H(t), ze(e);\n}\n\nfunction optionalToPlainTimeFields(e) {\n  return void 0 === e ? void 0 : toPlainTimeSlots(e);\n}\n\nfunction toPlainYearMonthSlots(e, t) {\n  if (t = U(t), z(e)) {\n    const n = no(e);\n    return n && n.branding === L ? (H(t), n) : nt(Ho(getCalendarSlotFromBag(e)), e, t);\n  }\n  const n = ot(Y, e);\n  return H(t), n;\n}\n\nfunction toPlainDateTimeSlots(e, t) {\n  if (t = U(t), z(e)) {\n    const n = no(e) || {};\n    switch (n.branding) {\n     case We:\n      return H(t), n;\n\n     case J:\n      return H(t), ee({\n        ...n,\n        ...Dt\n      });\n\n     case Te:\n      return H(t), ht(createTimeZoneOffsetOps, n);\n    }\n    return Pt(Ko(getCalendarSlotFromBag(e)), e, t);\n  }\n  const n = Ct(e);\n  return H(t), n;\n}\n\nfunction toPlainDateSlots(e, t) {\n  if (t = U(t), z(e)) {\n    const n = no(e) || {};\n    switch (n.branding) {\n     case J:\n      return H(t), n;\n\n     case We:\n      return H(t), v(n);\n\n     case Te:\n      return H(t), Bt(createTimeZoneOffsetOps, n);\n    }\n    return Yt(Ko(getCalendarSlotFromBag(e)), e, t);\n  }\n  const n = At(e);\n  return H(t), n;\n}\n\nfunction dayAdapter(e, t, n) {\n  return d(t.call(e, Yo(v(n, e))));\n}\n\nfunction createCompoundOpsCreator(e) {\n  return t => \"string\" == typeof t ? Y(t) : ((e, t) => {\n    const n = Object.keys(t).sort(), o = {};\n    for (const r of n) {\n      o[r] = E(t[r], e, e[r]);\n    }\n    return o;\n  })(t, e);\n}\n\nfunction toDurationSlots(e) {\n  if (z(e)) {\n    const t = no(e);\n    return t && t.branding === qt ? t : Ht(e);\n  }\n  return Kt(e);\n}\n\nfunction refinePublicRelativeTo(e) {\n  if (void 0 !== e) {\n    if (z(e)) {\n      const t = no(e) || {};\n      switch (t.branding) {\n       case Te:\n       case J:\n        return t;\n\n       case We:\n        return v(t);\n      }\n      const n = getCalendarSlotFromBag(e);\n      return {\n        ...Qt(refineTimeZoneSlot, createTimeZoneOps, Ko(n), e),\n        calendar: n\n      };\n    }\n    return Xt(e);\n  }\n}\n\nfunction getCalendarSlotFromBag(e) {\n  return extractCalendarSlotFromBag(e) || X;\n}\n\nfunction extractCalendarSlotFromBag(e) {\n  const {calendar: t} = e;\n  if (void 0 !== t) {\n    return refineCalendarSlot(t);\n  }\n}\n\nfunction refineCalendarSlot(e) {\n  return z(e) ? (no(e) || {}).calendar || cr(e) : (e => an(sn(m(e))))(e);\n}\n\nfunction toZonedDateTimeSlots(e, t) {\n  if (t = U(t), z(e)) {\n    const n = no(e);\n    if (n && n.branding === Te) {\n      return wn(t), n;\n    }\n    const o = getCalendarSlotFromBag(e);\n    return jn(refineTimeZoneSlot, createTimeZoneOps, Ko(o), o, e, t);\n  }\n  return Mn(e, t);\n}\n\nfunction adaptDateMethods(e) {\n  return T((e => t => e(slotsToIso(t))), e);\n}\n\nfunction slotsToIso(e) {\n  return fn(e, createTimeZoneOffsetOps);\n}\n\nfunction createDateTimeFormatClass() {\n  const e = En.prototype, t = Object.getOwnPropertyDescriptors(e), n = Object.getOwnPropertyDescriptors(En), DateTimeFormat = function(e, t = {}) {\n    if (!(this instanceof DateTimeFormat)) {\n      return new DateTimeFormat(e, t);\n    }\n    Or.set(this, ((e, t = {}) => {\n      const n = new En(e, t), o = n.resolvedOptions(), r = o.locale, a = Vn(Object.keys(t), o), i = Jn(createFormatPrepperForBranding), prepFormat = (...e) => {\n        let t;\n        const o = e.map(((e, n) => {\n          const o = no(e), r = (o || {}).branding;\n          if (n && t && t !== r) {\n            throw new TypeError(kn);\n          }\n          return t = r, o;\n        }));\n        return t ? i(t)(r, a, ...o) : [ n, ...e ];\n      };\n      return prepFormat.u = n, prepFormat;\n    })(e, t));\n  };\n  for (const e in t) {\n    const n = t[e], o = e.startsWith(\"format\") && createFormatMethod(e);\n    \"function\" == typeof n.value ? n.value = \"constructor\" === e ? DateTimeFormat : o || createProxiedMethod(e) : o && (n.get = function() {\n      return o.bind(this);\n    });\n  }\n  return n.prototype.value = Object.create(e, t), Object.defineProperties(DateTimeFormat, n), \n  DateTimeFormat;\n}\n\nfunction createFormatMethod(e) {\n  return function(...t) {\n    const n = Or.get(this), [o, ...r] = n(...t);\n    return o[e](...r);\n  };\n}\n\nfunction createProxiedMethod(e) {\n  return function(...t) {\n    return Or.get(this).u[e](...t);\n  };\n}\n\nfunction createFormatPrepperForBranding(t) {\n  const n = xn[t];\n  if (!n) {\n    throw new TypeError(Ln(t));\n  }\n  return e(n, Jn(qn));\n}\n\nimport { createFormatPrepper as e, instantConfig as t, dateTimeConfig as n, dateConfig as o, timeConfig as r, yearMonthConfig as a, monthDayConfig as i, zonedConfig as s, requireStringOrUndefined as l, requireIntegerOrUndefined as c, requireInteger as u, requirePositiveInteger as d, requireBoolean as f, requireString as m, requirePositiveIntegerOrUndefined as S, createGetterDescriptors as O, mapProps as T, createPropDescriptors as p, createStringTagDescriptors as h, createNameDescriptors as D, invalidCallingContext as P, hasAllPropsByName as C, invalidProtocol as g, invalidBag as Z, mapPropNames as b, durationFieldNamesAsc as F, getId as I, createPlainDateSlots as v, timeFieldNamesAsc as w, isoTimeFieldNamesAsc as j, getEpochSec as M, getEpochMilli as y, getEpochMicro as N, getEpochNano as B, createNativeStandardOps as Y, forbiddenValueOf as A, bindArgs as E, excludePropsByName as V, PlainDateBranding as J, PlainYearMonthBranding as L, PlainMonthDayBranding as q, plainMonthDayWithFields as k, plainMonthDaysEqual as x, plainMonthDayToPlainDate as R, formatPlainMonthDayIso as W, constructPlainMonthDaySlots as G, copyOptions as U, isObjectLike as z, refineOverflowOptions as H, refinePlainMonthDayBag as K, parsePlainMonthDay as Q, isoCalendarId as X, requireFunction as $, createInstantSlots as _, createPlainDateTimeSlots as ee, compareBigNanos as te, validateTimeZoneGap as ne, bigNanoToNumber as oe, diffBigNanos as re, validateTimeZoneOffset as ae, queryNativeTimeZone as ie, moveInstant as se, diffInstants as le, roundInstant as ce, instantsEqual as ue, requireObjectLike as de, instantToZonedDateTime as fe, formatInstantIso as me, constructInstantSlots as Se, InstantBranding as Oe, ZonedDateTimeBranding as Te, parseInstant as pe, numberToBigNano as he, epochSecToInstant as De, epochMilliToInstant as Pe, epochMicroToInstant as Ce, epochNanoToInstant as ge, compareInstants as Ze, nanoInMilli as be, formatOffsetNano as Fe, epochNanoToIso as Ie, refineEpochDisambigOptions as ve, getSingleInstantFor as we, isTimeZoneSlotsEqual as je, refineTimeZoneId as Me, resolveTimeZoneId as ye, parseTimeZoneId as Ne, plainTimeWithFields as Be, movePlainTime as Ye, diffPlainTimes as Ae, roundPlainTime as Ee, plainTimesEqual as Ve, plainTimeToZonedDateTime as Je, plainTimeToPlainDateTime as Le, formatPlainTimeIso as qe, constructPlainTimeSlots as ke, PlainTimeBranding as xe, zonedDateTimeToPlainTime as Re, PlainDateTimeBranding as We, createPlainTimeSlots as Ge, refinePlainTimeBag as Ue, parsePlainTime as ze, compareIsoTimeFields as He, plainYearMonthWithFields as Ke, movePlainYearMonth as Qe, diffPlainYearMonth as Xe, plainYearMonthsEqual as $e, plainYearMonthToPlainDate as _e, formatPlainYearMonthIso as et, constructPlainYearMonthSlots as tt, refinePlainYearMonthBag as nt, parsePlainYearMonth as ot, compareIsoDateFields as rt, plainDateTimeWithFields as at, slotsWithCalendar as it, plainDateTimeWithPlainDate as st, plainDateTimeWithPlainTime as lt, movePlainDateTime as ct, diffPlainDateTimes as ut, roundPlainDateTime as dt, plainDateTimesEqual as ft, plainDateTimeToZonedDateTime as mt, plainDateTimeToPlainYearMonth as St, plainDateTimeToPlainMonthDay as Ot, formatPlainDateTimeIso as Tt, constructPlainDateTimeSlots as pt, zonedDateTimeToPlainDateTime as ht, isoTimeFieldDefaults as Dt, refinePlainDateTimeBag as Pt, parsePlainDateTime as Ct, compareIsoDateTimeFields as gt, plainDateWithFields as Zt, movePlainDate as bt, diffPlainDates as Ft, plainDatesEqual as It, plainDateToZonedDateTime as vt, plainDateToPlainDateTime as wt, plainDateToPlainYearMonth as jt, plainDateToPlainMonthDay as Mt, formatPlainDateIso as yt, constructPlainDateSlots as Nt, zonedDateTimeToPlainDate as Bt, refinePlainDateBag as Yt, parsePlainDate as At, unitNamesAsc as Et, createDurationSlots as Vt, getDurationBlank as Jt, constructDurationSlots as Lt, DurationBranding as qt, durationWithFields as kt, negateDuration as xt, absDuration as Rt, addDurations as Wt, roundDuration as Gt, totalDuration as Ut, formatDurationIso as zt, refineDurationBag as Ht, parseDuration as Kt, refineMaybeZonedDateTimeBag as Qt, parseRelativeToSlots as Xt, compareDurations as $t, refineDateDiffOptions as _t, dateFieldNamesAlpha as en, forbiddenField as tn, excludeUndefinedProps as nn, requireNonNullish as on, refineCalendarId as rn, resolveCalendarId as an, parseCalendarId as sn, getRequiredDateFields as ln, getRequiredMonthDayFields as cn, getRequiredYearMonthFields as un, computeZonedHoursInDay as dn, zonedEpochSlotsToIso as fn, buildZonedIsoFields as mn, zonedDateTimeWithFields as Sn, slotsWithTimeZone as On, zonedDateTimeWithPlainDate as Tn, zonedDateTimeWithPlainTime as pn, moveZonedDateTime as hn, diffZonedDateTimes as Dn, roundZonedDateTime as Pn, computeZonedStartOfDay as Cn, zonedDateTimesEqual as gn, zonedDateTimeToInstant as Zn, zonedDateTimeToPlainYearMonth as bn, zonedDateTimeToPlainMonthDay as Fn, formatZonedDateTimeIso as In, constructZonedDateTimeSlots as vn, refineZonedFieldOptions as wn, refineZonedDateTimeBag as jn, parseZonedDateTime as Mn, compareZonedDateTimes as yn, getCurrentTimeZoneId as Nn, getCurrentEpochNano as Bn, createZonedDateTimeSlots as Yn, getCurrentIsoDateTime as An, RawDateTimeFormat as En, pluckProps as Vn, memoize as Jn, invalidFormatType as Ln, createFormatForPrep as qn, mismatchingFormatTypes as kn } from \"./internal.js\";\n\nconst xn = {\n  Instant: t,\n  PlainDateTime: n,\n  PlainDate: o,\n  PlainTime: r,\n  PlainYearMonth: a,\n  PlainMonthDay: i\n}, Rn = /*@__PURE__*/ e(t), Wn = /*@__PURE__*/ e(s), Gn = /*@__PURE__*/ e(n), Un = /*@__PURE__*/ e(o), zn = /*@__PURE__*/ e(r), Hn = /*@__PURE__*/ e(a), Kn = /*@__PURE__*/ e(i), Qn = {\n  era: l,\n  eraYear: c,\n  year: u,\n  month: d,\n  daysInMonth: d,\n  daysInYear: d,\n  inLeapYear: f,\n  monthsInYear: d\n}, Xn = {\n  monthCode: m\n}, $n = {\n  day: d\n}, _n = {\n  dayOfWeek: d,\n  dayOfYear: d,\n  weekOfYear: S,\n  yearOfWeek: c,\n  daysInWeek: d\n}, eo = /*@__PURE__*/ Object.assign({}, Qn, Xn, $n, _n), to = /*@__PURE__*/ new WeakMap, no = /*@__PURE__*/ to.get.bind(to), oo = /*@__PURE__*/ to.set.bind(to), ro = {\n  ...createCalendarFieldMethods(Qn, [ L ]),\n  ...createCalendarFieldMethods(_n, []),\n  ...createCalendarFieldMethods(Xn, [ L, q ]),\n  ...createCalendarFieldMethods($n, [ q ])\n}, ao = /*@__PURE__*/ createCalendarGetters(eo), io = /*@__PURE__*/ createCalendarGetters({\n  ...Qn,\n  ...Xn\n}), so = /*@__PURE__*/ createCalendarGetters({\n  ...Xn,\n  ...$n\n}), lo = {\n  calendarId: e => I(e.calendar)\n}, co = /*@__PURE__*/ T(((e, t) => function(n) {\n  const {i: o} = this;\n  return e(o[t](Yo(v(n, o))));\n}), eo), uo = /*@__PURE__*/ b((e => t => t[e]), F.concat(\"sign\")), fo = /*@__PURE__*/ b(((e, t) => e => e[j[t]]), w), mo = {\n  epochSeconds: M,\n  epochMilliseconds: y,\n  epochMicroseconds: N,\n  epochNanoseconds: B\n}, So = /*@__PURE__*/ E(V, new Set([ \"branding\" ])), [Oo, To, po] = createSlotClass(q, E(G, refineCalendarSlot), {\n  ...lo,\n  ...so\n}, {\n  getISOFields: So,\n  getCalendar: createCalendarFromSlots,\n  with(e, t, n) {\n    return To(k(_o, e, this, rejectInvalidBag(t), n));\n  },\n  equals: (e, t) => x(e, toPlainMonthDaySlots(t)),\n  toPlainDate(e, t) {\n    return Yo(R($o, e, this, t));\n  },\n  toLocaleString(e, t, n) {\n    const [o, r] = Kn(t, n, e);\n    return o.format(r);\n  },\n  toString: W,\n  toJSON: e => W(e),\n  valueOf: neverValueOf\n}, {\n  from: (e, t) => To(toPlainMonthDaySlots(e, t))\n}), ho = {\n  getOffsetNanosecondsFor: getOffsetNanosecondsForAdapter,\n  getPossibleInstantsFor(e, t, n) {\n    const o = [ ...t.call(e, No(ee(n, X))) ].map((e => go(e).epochNanoseconds)), r = o.length;\n    return r > 1 && (o.sort(te), ne(oe(re(o[0], o[r - 1])))), o;\n  }\n}, Do = {\n  getOffsetNanosecondsFor: getOffsetNanosecondsForAdapter\n}, [Po, Co, go] = createSlotClass(Oe, Se, mo, {\n  add: (e, t) => Co(se(0, e, toDurationSlots(t))),\n  subtract: (e, t) => Co(se(1, e, toDurationSlots(t))),\n  until: (e, t, n) => ar(le(0, e, toInstantSlots(t), n)),\n  since: (e, t, n) => ar(le(1, e, toInstantSlots(t), n)),\n  round: (e, t) => Co(ce(e, t)),\n  equals: (e, t) => ue(e, toInstantSlots(t)),\n  toZonedDateTime(e, t) {\n    const n = de(t);\n    return dr(fe(e, refineTimeZoneSlot(n.timeZone), refineCalendarSlot(n.calendar)));\n  },\n  toZonedDateTimeISO: (e, t) => dr(fe(e, refineTimeZoneSlot(t))),\n  toLocaleString(e, t, n) {\n    const [o, r] = Rn(t, n, e);\n    return o.format(r);\n  },\n  toString: (e, t) => me(refineTimeZoneSlot, createTimeZoneOffsetOps, e, t),\n  toJSON: e => me(refineTimeZoneSlot, createTimeZoneOffsetOps, e),\n  valueOf: neverValueOf\n}, {\n  from: e => Co(toInstantSlots(e)),\n  fromEpochSeconds: e => Co(De(e)),\n  fromEpochMilliseconds: e => Co(Pe(e)),\n  fromEpochMicroseconds: e => Co(Ce(e)),\n  fromEpochNanoseconds: e => Co(ge(e)),\n  compare: (e, t) => Ze(toInstantSlots(e), toInstantSlots(t))\n}), [Zo, bo] = createSlotClass(\"TimeZone\", (e => {\n  const t = Me(e);\n  return {\n    branding: \"TimeZone\",\n    id: t,\n    o: ie(t)\n  };\n}), {\n  id: e => e.id\n}, {\n  getPossibleInstantsFor: ({o: e}, t) => e.getPossibleInstantsFor(toPlainDateTimeSlots(t)).map((e => Co(_(e)))),\n  getOffsetNanosecondsFor: ({o: e}, t) => e.getOffsetNanosecondsFor(toInstantSlots(t).epochNanoseconds),\n  getOffsetStringFor(e, t) {\n    const n = toInstantSlots(t).epochNanoseconds, o = createAdapterOps(this, Do).getOffsetNanosecondsFor(n);\n    return Fe(o);\n  },\n  getPlainDateTimeFor(e, t, n = X) {\n    const o = toInstantSlots(t).epochNanoseconds, r = createAdapterOps(this, Do).getOffsetNanosecondsFor(o);\n    return No(ee(Ie(o, r), refineCalendarSlot(n)));\n  },\n  getInstantFor(e, t, n) {\n    const o = toPlainDateTimeSlots(t), r = ve(n), a = createAdapterOps(this);\n    return Co(_(we(a, o, r)));\n  },\n  getNextTransition: ({o: e}, t) => getImplTransition(1, e, t),\n  getPreviousTransition: ({o: e}, t) => getImplTransition(-1, e, t),\n  equals(e, t) {\n    return !!je(this, refineTimeZoneSlot(t));\n  },\n  toString: e => e.id,\n  toJSON: e => e.id\n}, {\n  from(e) {\n    const t = refineTimeZoneSlot(e);\n    return \"string\" == typeof t ? new Zo(t) : t;\n  }\n}), Fo = /*@__PURE__*/ createProtocolValidator(Object.keys(ho)), [Io, vo] = createSlotClass(xe, ke, fo, {\n  getISOFields: So,\n  with(e, t, n) {\n    return vo(Be(this, rejectInvalidBag(t), n));\n  },\n  add: (e, t) => vo(Ye(0, e, toDurationSlots(t))),\n  subtract: (e, t) => vo(Ye(1, e, toDurationSlots(t))),\n  until: (e, t, n) => ar(Ae(0, e, toPlainTimeSlots(t), n)),\n  since: (e, t, n) => ar(Ae(1, e, toPlainTimeSlots(t), n)),\n  round: (e, t) => vo(Ee(e, t)),\n  equals: (e, t) => Ve(e, toPlainTimeSlots(t)),\n  toZonedDateTime: (e, t) => dr(Je(refineTimeZoneSlot, toPlainDateSlots, createTimeZoneOps, e, t)),\n  toPlainDateTime: (e, t) => No(Le(e, toPlainDateSlots(t))),\n  toLocaleString(e, t, n) {\n    const [o, r] = zn(t, n, e);\n    return o.format(r);\n  },\n  toString: qe,\n  toJSON: e => qe(e),\n  valueOf: neverValueOf\n}, {\n  from: (e, t) => vo(toPlainTimeSlots(e, t)),\n  compare: (e, t) => He(toPlainTimeSlots(e), toPlainTimeSlots(t))\n}), [wo, jo, Mo] = createSlotClass(L, E(tt, refineCalendarSlot), {\n  ...lo,\n  ...io\n}, {\n  getISOFields: So,\n  getCalendar: createCalendarFromSlots,\n  with(e, t, n) {\n    return jo(Ke(Xo, e, this, rejectInvalidBag(t), n));\n  },\n  add: (e, t, n) => jo(Qe(nr, 0, e, toDurationSlots(t), n)),\n  subtract: (e, t, n) => jo(Qe(nr, 1, e, toDurationSlots(t), n)),\n  until: (e, t, n) => ar(Xe(or, 0, e, toPlainYearMonthSlots(t), n)),\n  since: (e, t, n) => ar(Xe(or, 1, e, toPlainYearMonthSlots(t), n)),\n  equals: (e, t) => $e(e, toPlainYearMonthSlots(t)),\n  toPlainDate(e, t) {\n    return Yo(_e($o, e, this, t));\n  },\n  toLocaleString(e, t, n) {\n    const [o, r] = Hn(t, n, e);\n    return o.format(r);\n  },\n  toString: et,\n  toJSON: e => et(e),\n  valueOf: neverValueOf\n}, {\n  from: (e, t) => jo(toPlainYearMonthSlots(e, t)),\n  compare: (e, t) => rt(toPlainYearMonthSlots(e), toPlainYearMonthSlots(t))\n}), [yo, No] = createSlotClass(We, E(pt, refineCalendarSlot), {\n  ...lo,\n  ...ao,\n  ...fo\n}, {\n  getISOFields: So,\n  getCalendar: createCalendarFromSlots,\n  with(e, t, n) {\n    return No(at($o, e, this, rejectInvalidBag(t), n));\n  },\n  withCalendar: (e, t) => No(it(e, refineCalendarSlot(t))),\n  withPlainDate: (e, t) => No(st(e, toPlainDateSlots(t))),\n  withPlainTime: (e, t) => No(lt(e, optionalToPlainTimeFields(t))),\n  add: (e, t, n) => No(ct(er, 0, e, toDurationSlots(t), n)),\n  subtract: (e, t, n) => No(ct(er, 1, e, toDurationSlots(t), n)),\n  until: (e, t, n) => ar(ut(tr, 0, e, toPlainDateTimeSlots(t), n)),\n  since: (e, t, n) => ar(ut(tr, 1, e, toPlainDateTimeSlots(t), n)),\n  round: (e, t) => No(dt(e, t)),\n  equals: (e, t) => ft(e, toPlainDateTimeSlots(t)),\n  toZonedDateTime: (e, t, n) => dr(mt(createTimeZoneOps, e, refineTimeZoneSlot(t), n)),\n  toPlainDate: e => Yo(v(e)),\n  toPlainTime: e => vo(Ge(e)),\n  toPlainYearMonth(e) {\n    return jo(St(Ho, e, this));\n  },\n  toPlainMonthDay(e) {\n    return To(Ot(Qo, e, this));\n  },\n  toLocaleString(e, t, n) {\n    const [o, r] = Gn(t, n, e);\n    return o.format(r);\n  },\n  toString: Tt,\n  toJSON: e => Tt(e),\n  valueOf: neverValueOf\n}, {\n  from: (e, t) => No(toPlainDateTimeSlots(e, t)),\n  compare: (e, t) => gt(toPlainDateTimeSlots(e), toPlainDateTimeSlots(t))\n}), [Bo, Yo, Ao] = createSlotClass(J, E(Nt, refineCalendarSlot), {\n  ...lo,\n  ...ao\n}, {\n  getISOFields: So,\n  getCalendar: createCalendarFromSlots,\n  with(e, t, n) {\n    return Yo(Zt($o, e, this, rejectInvalidBag(t), n));\n  },\n  withCalendar: (e, t) => Yo(it(e, refineCalendarSlot(t))),\n  add: (e, t, n) => Yo(bt(er, 0, e, toDurationSlots(t), n)),\n  subtract: (e, t, n) => Yo(bt(er, 1, e, toDurationSlots(t), n)),\n  until: (e, t, n) => ar(Ft(tr, 0, e, toPlainDateSlots(t), n)),\n  since: (e, t, n) => ar(Ft(tr, 1, e, toPlainDateSlots(t), n)),\n  equals: (e, t) => It(e, toPlainDateSlots(t)),\n  toZonedDateTime(e, t) {\n    const n = !z(t) || t instanceof Zo ? {\n      timeZone: t\n    } : t;\n    return dr(vt(refineTimeZoneSlot, toPlainTimeSlots, createTimeZoneOps, e, n));\n  },\n  toPlainDateTime: (e, t) => No(wt(e, optionalToPlainTimeFields(t))),\n  toPlainYearMonth(e) {\n    return jo(jt(Ho, e, this));\n  },\n  toPlainMonthDay(e) {\n    return To(Mt(Qo, e, this));\n  },\n  toLocaleString(e, t, n) {\n    const [o, r] = Un(t, n, e);\n    return o.format(r);\n  },\n  toString: yt,\n  toJSON: e => yt(e),\n  valueOf: neverValueOf\n}, {\n  from: (e, t) => Yo(toPlainDateSlots(e, t)),\n  compare: (e, t) => rt(toPlainDateSlots(e), toPlainDateSlots(t))\n}), Eo = {\n  fields(e, t, n) {\n    return [ ...t.call(e, n) ];\n  }\n}, Vo = /*@__PURE__*/ Object.assign({\n  dateFromFields(e, t, n, o) {\n    return Ao(t.call(e, Object.assign(Object.create(null), n), o));\n  }\n}, Eo), Jo = /*@__PURE__*/ Object.assign({\n  yearMonthFromFields(e, t, n, o) {\n    return Mo(t.call(e, Object.assign(Object.create(null), n), o));\n  }\n}, Eo), Lo = /*@__PURE__*/ Object.assign({\n  monthDayFromFields(e, t, n, o) {\n    return po(t.call(e, Object.assign(Object.create(null), n), o));\n  }\n}, Eo), qo = {\n  mergeFields(e, t, n, o) {\n    return de(t.call(e, Object.assign(Object.create(null), n), Object.assign(Object.create(null), o)));\n  }\n}, ko = /*@__PURE__*/ Object.assign({}, Vo, qo), xo = /*@__PURE__*/ Object.assign({}, Jo, qo), Ro = /*@__PURE__*/ Object.assign({}, Lo, qo), Wo = {\n  dateAdd(e, t, n, o, r) {\n    return Ao(t.call(e, Yo(v(n, e)), ar(Vt(o)), r));\n  }\n}, Go = /*@__PURE__*/ Object.assign({}, Wo, {\n  dateUntil(e, t, n, o, r, a) {\n    return ir(t.call(e, Yo(v(n, e)), Yo(v(o, e)), Object.assign(Object.create(null), a, {\n      largestUnit: Et[r]\n    })));\n  }\n}), Uo = /*@__PURE__*/ Object.assign({}, Wo, {\n  day: dayAdapter\n}), zo = /*@__PURE__*/ Object.assign({}, Go, {\n  day: dayAdapter\n}), Ho = /*@__PURE__*/ createCompoundOpsCreator(Jo), Ko = /*@__PURE__*/ createCompoundOpsCreator(Vo), Qo = /*@__PURE__*/ createCompoundOpsCreator(Lo), Xo = /*@__PURE__*/ createCompoundOpsCreator(xo), $o = /*@__PURE__*/ createCompoundOpsCreator(ko), _o = /*@__PURE__*/ createCompoundOpsCreator(Ro), er = /*@__PURE__*/ createCompoundOpsCreator(Wo), tr = /*@__PURE__*/ createCompoundOpsCreator(Go), nr = /*@__PURE__*/ createCompoundOpsCreator(Uo), or = /*@__PURE__*/ createCompoundOpsCreator(zo), [rr, ar, ir] = createSlotClass(qt, Lt, {\n  ...uo,\n  blank: Jt\n}, {\n  with: (e, t) => ar(kt(e, t)),\n  negated: e => ar(xt(e)),\n  abs: e => ar(Rt(e)),\n  add: (e, t, n) => ar(Wt(refinePublicRelativeTo, tr, createTimeZoneOps, 0, e, toDurationSlots(t), n)),\n  subtract: (e, t, n) => ar(Wt(refinePublicRelativeTo, tr, createTimeZoneOps, 1, e, toDurationSlots(t), n)),\n  round: (e, t) => ar(Gt(refinePublicRelativeTo, tr, createTimeZoneOps, e, t)),\n  total: (e, t) => Ut(refinePublicRelativeTo, tr, createTimeZoneOps, e, t),\n  toLocaleString(e, t, n) {\n    return Intl.DurationFormat ? new Intl.DurationFormat(t, n).format(this) : zt(e);\n  },\n  toString: zt,\n  toJSON: e => zt(e),\n  valueOf: neverValueOf\n}, {\n  from: e => ar(toDurationSlots(e)),\n  compare: (e, t, n) => $t(refinePublicRelativeTo, er, createTimeZoneOps, toDurationSlots(e), toDurationSlots(t), n)\n}), sr = {\n  toString: e => e.id,\n  toJSON: e => e.id,\n  ...ro,\n  dateAdd: ({id: e, o: t}, n, o, r) => Yo(v(t.dateAdd(toPlainDateSlots(n), toDurationSlots(o), r), e)),\n  dateUntil: ({o: e}, t, n, o) => ar(Vt(e.dateUntil(toPlainDateSlots(t), toPlainDateSlots(n), _t(o)))),\n  dateFromFields: ({id: e, o: t}, n, o) => Yo(Yt(t, n, o, ln(e))),\n  yearMonthFromFields: ({id: e, o: t}, n, o) => jo(nt(t, n, o, un(e))),\n  monthDayFromFields: ({id: e, o: t}, n, o) => To(K(t, 0, n, o, cn(e))),\n  fields({o: e}, t) {\n    const n = new Set(en), o = [];\n    for (const e of t) {\n      if (m(e), !n.has(e)) {\n        throw new RangeError(tn(e));\n      }\n      n.delete(e), o.push(e);\n    }\n    return e.fields(o);\n  },\n  mergeFields: ({o: e}, t, n) => e.mergeFields(nn(on(t)), nn(on(n)))\n}, [lr] = createSlotClass(\"Calendar\", (e => {\n  const t = rn(e);\n  return {\n    branding: \"Calendar\",\n    id: t,\n    o: Y(t)\n  };\n}), {\n  id: e => e.id\n}, sr, {\n  from(e) {\n    const t = refineCalendarSlot(e);\n    return \"string\" == typeof t ? new lr(t) : t;\n  }\n}), cr = /*@__PURE__*/ createProtocolValidator(Object.keys(sr).slice(4)), [ur, dr] = createSlotClass(Te, E(vn, refineCalendarSlot, refineTimeZoneSlot), {\n  ...mo,\n  ...lo,\n  ...adaptDateMethods(ao),\n  ...adaptDateMethods(fo),\n  offset: e => Fe(slotsToIso(e).offsetNanoseconds),\n  offsetNanoseconds: e => slotsToIso(e).offsetNanoseconds,\n  timeZoneId: e => I(e.timeZone),\n  hoursInDay: e => dn(createTimeZoneOps, e)\n}, {\n  getISOFields: e => mn(createTimeZoneOffsetOps, e),\n  getCalendar: createCalendarFromSlots,\n  getTimeZone: ({timeZone: e}) => \"string\" == typeof e ? new Zo(e) : e,\n  with(e, t, n) {\n    return dr(Sn($o, createTimeZoneOps, e, this, rejectInvalidBag(t), n));\n  },\n  withCalendar: (e, t) => dr(it(e, refineCalendarSlot(t))),\n  withTimeZone: (e, t) => dr(On(e, refineTimeZoneSlot(t))),\n  withPlainDate: (e, t) => dr(Tn(createTimeZoneOps, e, toPlainDateSlots(t))),\n  withPlainTime: (e, t) => dr(pn(createTimeZoneOps, e, optionalToPlainTimeFields(t))),\n  add: (e, t, n) => dr(hn(er, createTimeZoneOps, 0, e, toDurationSlots(t), n)),\n  subtract: (e, t, n) => dr(hn(er, createTimeZoneOps, 1, e, toDurationSlots(t), n)),\n  until: (e, t, n) => ar(Vt(Dn(tr, createTimeZoneOps, 0, e, toZonedDateTimeSlots(t), n))),\n  since: (e, t, n) => ar(Vt(Dn(tr, createTimeZoneOps, 1, e, toZonedDateTimeSlots(t), n))),\n  round: (e, t) => dr(Pn(createTimeZoneOps, e, t)),\n  startOfDay: e => dr(Cn(createTimeZoneOps, e)),\n  equals: (e, t) => gn(e, toZonedDateTimeSlots(t)),\n  toInstant: e => Co(Zn(e)),\n  toPlainDateTime: e => No(ht(createTimeZoneOffsetOps, e)),\n  toPlainDate: e => Yo(Bt(createTimeZoneOffsetOps, e)),\n  toPlainTime: e => vo(Re(createTimeZoneOffsetOps, e)),\n  toPlainYearMonth(e) {\n    return jo(bn(Ho, e, this));\n  },\n  toPlainMonthDay(e) {\n    return To(Fn(Qo, e, this));\n  },\n  toLocaleString(e, t, n = {}) {\n    const [o, r] = Wn(t, n, e);\n    return o.format(r);\n  },\n  toString: (e, t) => In(createTimeZoneOffsetOps, e, t),\n  toJSON: e => In(createTimeZoneOffsetOps, e),\n  valueOf: neverValueOf\n}, {\n  from: (e, t) => dr(toZonedDateTimeSlots(e, t)),\n  compare: (e, t) => yn(toZonedDateTimeSlots(e), toZonedDateTimeSlots(t))\n}), fr = /*@__PURE__*/ Object.defineProperties({}, {\n  ...h(\"Temporal.Now\"),\n  ...p({\n    timeZoneId: () => Nn(),\n    instant: () => Co(_(Bn())),\n    zonedDateTime: (e, t = Nn()) => dr(Yn(Bn(), refineTimeZoneSlot(t), refineCalendarSlot(e))),\n    zonedDateTimeISO: (e = Nn()) => dr(Yn(Bn(), refineTimeZoneSlot(e), X)),\n    plainDateTime: (e, t = Nn()) => No(ee(An(createTimeZoneOffsetOps(refineTimeZoneSlot(t))), refineCalendarSlot(e))),\n    plainDateTimeISO: (e = Nn()) => No(ee(An(createTimeZoneOffsetOps(refineTimeZoneSlot(e))), X)),\n    plainDate: (e, t = Nn()) => Yo(v(An(createTimeZoneOffsetOps(refineTimeZoneSlot(t))), refineCalendarSlot(e))),\n    plainDateISO: (e = Nn()) => Yo(v(An(createTimeZoneOffsetOps(refineTimeZoneSlot(e))), X)),\n    plainTimeISO: (e = Nn()) => vo(Ge(An(createTimeZoneOffsetOps(refineTimeZoneSlot(e)))))\n  })\n}), mr = /*@__PURE__*/ Object.defineProperties({}, {\n  ...h(\"Temporal\"),\n  ...p({\n    PlainYearMonth: wo,\n    PlainMonthDay: Oo,\n    PlainDate: Bo,\n    PlainTime: Io,\n    PlainDateTime: yo,\n    ZonedDateTime: ur,\n    Instant: Po,\n    Calendar: lr,\n    TimeZone: Zo,\n    Duration: rr,\n    Now: fr\n  })\n}), Sr = /*@__PURE__*/ createDateTimeFormatClass(), Or = /*@__PURE__*/ new WeakMap, Tr = /*@__PURE__*/ Object.defineProperties(Object.create(Intl), p({\n  DateTimeFormat: Sr\n}));\n\nexport { Sr as DateTimeFormat, Tr as IntlExtended, mr as Temporal, toTemporalInstant };\n", "import { Temporal as mr, DateTimeFormat as Sr, toTemporalInstant as tm } from \"./chunks/classApi.js\";\n\nimport { createPropDescriptors as p } from \"./chunks/internal.js\";\n\nObject.defineProperties(globalThis, p({\n  Temporal: mr\n})), Object.defineProperties(Intl, p({\n  DateTimeFormat: Sr\n})), Object.defineProperties(Date.prototype, p({\n  toTemporalInstant: tm\n}));\n", "export class MediaClone extends HTMLElement {\n  clone: HTMLCanvasElement;\n  element: HTMLVideoElement | HTMLCanvasElement | undefined;\n  ctx: CanvasRenderingContext2D;\n  nextAnimationFrame?: number;\n  live = false;\n  constructor() {\n    super();\n    this.style.display = 'block';\n    this.clone = document.createElement('canvas');\n    this.clone.style.width = '100%';\n    this.clone.style.height = '100%';\n    this.appendChild(this.clone);\n    const ctx = this.clone.getContext('2d');\n    if (!ctx) {\n      throw new Error('Canvas context 2D is unsupported');\n    }\n    this.ctx = ctx;\n  }\n  setup(element: HTMLVideoElement | HTMLCanvasElement, live?: boolean) {\n    this.element = element;\n    if (live) {\n      this.live = live;\n    }\n\n    if (this.element instanceof HTMLVideoElement) {\n      this.clone.width = this.element.videoWidth;\n      this.clone.height = this.element.videoHeight;\n    } else if (this.element instanceof HTMLCanvasElement) {\n      this.clone.width = this.element.width;\n      this.clone.height = this.element.height;\n    }\n  }\n  connectedCallback() {\n    if (this.live) {\n      this.drawLive();\n    } else {\n      this.draw();\n    }\n  }\n  disconnectedCallback() {\n    if (this.nextAnimationFrame) cancelAnimationFrame(this.nextAnimationFrame);\n  }\n  drawLive() {\n    // Update the canvas live if the image is not static.\n    // Quit when either <video> or <canvas> is removed from the document.\n    if (!this) return;\n    if (!this.element || !document.documentElement.contains(this.element)) {\n      if (this.nextAnimationFrame)\n        cancelAnimationFrame(this.nextAnimationFrame);\n      return;\n    }\n    this.ctx.drawImage(this.element, 0, 0);\n    requestAnimationFrame(() => this.drawLive.call(this));\n  }\n  draw() {\n    if (!this.element) return;\n    return this.ctx.drawImage(this.element, 0, 0);\n  }\n}\ncustomElements.define('view-transition-media', MediaClone);\n", "// CSS Syntax Module Level 3\n// https://www.w3.org/TR/css-syntax-3/\nexport const EOF = 0;                 // <EOF-token>\nexport const Ident = 1;               // <ident-token>\nexport const Function = 2;            // <function-token>\nexport const AtKeyword = 3;           // <at-keyword-token>\nexport const Hash = 4;                // <hash-token>\nexport const String = 5;              // <string-token>\nexport const BadString = 6;           // <bad-string-token>\nexport const Url = 7;                 // <url-token>\nexport const BadUrl = 8;              // <bad-url-token>\nexport const Delim = 9;               // <delim-token>\nexport const Number = 10;             // <number-token>\nexport const Percentage = 11;         // <percentage-token>\nexport const Dimension = 12;          // <dimension-token>\nexport const WhiteSpace = 13;         // <whitespace-token>\nexport const CDO = 14;                // <CDO-token>\nexport const CDC = 15;                // <CDC-token>\nexport const Colon = 16;              // <colon-token>     :\nexport const Semicolon = 17;          // <semicolon-token> ;\nexport const Comma = 18;              // <comma-token>     ,\nexport const LeftSquareBracket = 19;  // <[-token>\nexport const RightSquareBracket = 20; // <]-token>\nexport const LeftParenthesis = 21;    // <(-token>\nexport const RightParenthesis = 22;   // <)-token>\nexport const LeftCurlyBracket = 23;   // <{-token>\nexport const RightCurlyBracket = 24;  // <}-token>\nexport const Comment = 25;\n", "const EOF = 0;\n\n// https://drafts.csswg.org/css-syntax-3/\n// § 4.2. Definitions\n\n// digit\n// A code point between U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9).\nexport function isDigit(code) {\n    return code >= 0x0030 && code <= 0x0039;\n}\n\n// hex digit\n// A digit, or a code point between U+0041 LATIN CAPITAL LETTER A (A) and U+0046 LATIN CAPITAL LETTER F (F),\n// or a code point between U+0061 LATIN SMALL LETTER A (a) and U+0066 LATIN SMALL LETTER F (f).\nexport function isHexDigit(code) {\n    return (\n        isDigit(code) || // 0 .. 9\n        (code >= 0x0041 && code <= 0x0046) || // A .. F\n        (code >= 0x0061 && code <= 0x0066)    // a .. f\n    );\n}\n\n// uppercase letter\n// A code point between U+0041 LATIN CAPITAL LETTER A (A) and U+005A LATIN CAPITAL LETTER Z (Z).\nexport function isUppercaseLetter(code) {\n    return code >= 0x0041 && code <= 0x005A;\n}\n\n// lowercase letter\n// A code point between U+0061 LATIN SMALL LETTER A (a) and U+007A LATIN SMALL LETTER Z (z).\nexport function isLowercaseLetter(code) {\n    return code >= 0x0061 && code <= 0x007A;\n}\n\n// letter\n// An uppercase letter or a lowercase letter.\nexport function isLetter(code) {\n    return isUppercaseLetter(code) || isLowercaseLetter(code);\n}\n\n// non-ASCII code point\n// A code point with a value equal to or greater than U+0080 <control>.\n//\n// 2024-09-02: The latest spec narrows the range for non-ASCII characters (see https://github.com/csstree/csstree/issues/188).\n// However, all modern browsers support a wider range, and strictly following the latest spec could result\n// in some CSS being parsed incorrectly, even though it works in the browser. Therefore, this function adheres\n// to the previous, broader definition of non-ASCII characters.\nexport function isNonAscii(code) {\n    return code >= 0x0080;\n}\n\n// name-start code point\n// A letter, a non-ASCII code point, or U+005F LOW LINE (_).\nexport function isNameStart(code) {\n    return isLetter(code) || isNonAscii(code) || code === 0x005F;\n}\n\n// name code point\n// A name-start code point, a digit, or U+002D HYPHEN-MINUS (-).\nexport function isName(code) {\n    return isNameStart(code) || isDigit(code) || code === 0x002D;\n}\n\n// non-printable code point\n// A code point between U+0000 NULL and U+0008 BACKSPACE, or U+000B LINE TABULATION,\n// or a code point between U+000E SHIFT OUT and U+001F INFORMATION SEPARATOR ONE, or U+007F DELETE.\nexport function isNonPrintable(code) {\n    return (\n        (code >= 0x0000 && code <= 0x0008) ||\n        (code === 0x000B) ||\n        (code >= 0x000E && code <= 0x001F) ||\n        (code === 0x007F)\n    );\n}\n\n// newline\n// U+000A LINE FEED. Note that U+000D CARRIAGE RETURN and U+000C FORM FEED are not included in this definition,\n// as they are converted to U+000A LINE FEED during preprocessing.\n// TODO: we doesn't do a preprocessing, so check a code point for U+000D CARRIAGE RETURN and U+000C FORM FEED\nexport function isNewline(code) {\n    return code === 0x000A || code === 0x000D || code === 0x000C;\n}\n\n// whitespace\n// A newline, U+0009 CHARACTER TABULATION, or U+0020 SPACE.\nexport function isWhiteSpace(code) {\n    return isNewline(code) || code === 0x0020 || code === 0x0009;\n}\n\n// § 4.3.8. Check if two code points are a valid escape\nexport function isValidEscape(first, second) {\n    // If the first code point is not U+005C REVERSE SOLIDUS (\\), return false.\n    if (first !== 0x005C) {\n        return false;\n    }\n\n    // Otherwise, if the second code point is a newline or EOF, return false.\n    if (isNewline(second) || second === EOF) {\n        return false;\n    }\n\n    // Otherwise, return true.\n    return true;\n}\n\n// § 4.3.9. Check if three code points would start an identifier\nexport function isIdentifierStart(first, second, third) {\n    // Look at the first code point:\n\n    // U+002D HYPHEN-MINUS\n    if (first === 0x002D) {\n        // If the second code point is a name-start code point or a U+002D HYPHEN-MINUS,\n        // or the second and third code points are a valid escape, return true. Otherwise, return false.\n        return (\n            isNameStart(second) ||\n            second === 0x002D ||\n            isValidEscape(second, third)\n        );\n    }\n\n    // name-start code point\n    if (isNameStart(first)) {\n        // Return true.\n        return true;\n    }\n\n    // U+005C REVERSE SOLIDUS (\\)\n    if (first === 0x005C) {\n        // If the first and second code points are a valid escape, return true. Otherwise, return false.\n        return isValidEscape(first, second);\n    }\n\n    // anything else\n    // Return false.\n    return false;\n}\n\n// § 4.3.10. Check if three code points would start a number\nexport function isNumberStart(first, second, third) {\n    // Look at the first code point:\n\n    // U+002B PLUS SIGN (+)\n    // U+002D HYPHEN-MINUS (-)\n    if (first === 0x002B || first === 0x002D) {\n        // If the second code point is a digit, return true.\n        if (isDigit(second)) {\n            return 2;\n        }\n\n        // Otherwise, if the second code point is a U+002E FULL STOP (.)\n        // and the third code point is a digit, return true.\n        // Otherwise, return false.\n        return second === 0x002E && isDigit(third) ? 3 : 0;\n    }\n\n    // U+002E FULL STOP (.)\n    if (first === 0x002E) {\n        // If the second code point is a digit, return true. Otherwise, return false.\n        return isDigit(second) ? 2 : 0;\n    }\n\n    // digit\n    if (isDigit(first)) {\n        // Return true.\n        return 1;\n    }\n\n    // anything else\n    // Return false.\n    return 0;\n}\n\n//\n// Misc\n//\n\n// detect BOM (https://en.wikipedia.org/wiki/Byte_order_mark)\nexport function isBOM(code) {\n    // UTF-16BE\n    if (code === 0xFEFF) {\n        return 1;\n    }\n\n    // UTF-16LE\n    if (code === 0xFFFE) {\n        return 1;\n    }\n\n    return 0;\n}\n\n// Fast code category\n// Only ASCII code points has a special meaning, that's why we define a maps for 0..127 codes only\nconst CATEGORY = new Array(0x80);\nexport const EofCategory = 0x80;\nexport const WhiteSpaceCategory = 0x82;\nexport const DigitCategory = 0x83;\nexport const NameStartCategory = 0x84;\nexport const NonPrintableCategory = 0x85;\n\nfor (let i = 0; i < CATEGORY.length; i++) {\n    CATEGORY[i] =\n        isWhiteSpace(i) && WhiteSpaceCategory ||\n        isDigit(i) && DigitCategory ||\n        isNameStart(i) && NameStartCategory ||\n        isNonPrintable(i) && NonPrintableCategory ||\n        i || EofCategory;\n}\n\nexport function charCodeCategory(code) {\n    return code < 0x80 ? CATEGORY[code] : NameStartCategory;\n}\n", "import {\n    isDigit,\n    isHexDigit,\n    isUppercaseLetter,\n    isName,\n    isWhiteSpace,\n    isValidEscape\n} from './char-code-definitions.js';\n\nfunction getCharCode(source, offset) {\n    return offset < source.length ? source.charCodeAt(offset) : 0;\n}\n\nexport function getNewlineLength(source, offset, code) {\n    if (code === 13 /* \\r */ && getCharCode(source, offset + 1) === 10 /* \\n */) {\n        return 2;\n    }\n\n    return 1;\n}\n\nexport function cmpChar(testStr, offset, referenceCode) {\n    let code = testStr.charCodeAt(offset);\n\n    // code.toLowerCase() for A..Z\n    if (isUppercaseLetter(code)) {\n        code = code | 32;\n    }\n\n    return code === referenceCode;\n}\n\nexport function cmpStr(testStr, start, end, referenceStr) {\n    if (end - start !== referenceStr.length) {\n        return false;\n    }\n\n    if (start < 0 || end > testStr.length) {\n        return false;\n    }\n\n    for (let i = start; i < end; i++) {\n        const referenceCode = referenceStr.charCodeAt(i - start);\n        let testCode = testStr.charCodeAt(i);\n\n        // testCode.toLowerCase() for A..Z\n        if (isUppercaseLetter(testCode)) {\n            testCode = testCode | 32;\n        }\n\n        if (testCode !== referenceCode) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nexport function findWhiteSpaceStart(source, offset) {\n    for (; offset >= 0; offset--) {\n        if (!isWhiteSpace(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset + 1;\n}\n\nexport function findWhiteSpaceEnd(source, offset) {\n    for (; offset < source.length; offset++) {\n        if (!isWhiteSpace(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset;\n}\n\nexport function findDecimalNumberEnd(source, offset) {\n    for (; offset < source.length; offset++) {\n        if (!isDigit(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset;\n}\n\n// § 4.3.7. Consume an escaped code point\nexport function consumeEscaped(source, offset) {\n    // It assumes that the U+005C REVERSE SOLIDUS (\\) has already been consumed and\n    // that the next input code point has already been verified to be part of a valid escape.\n    offset += 2;\n\n    // hex digit\n    if (isHexDigit(getCharCode(source, offset - 1))) {\n        // Consume as many hex digits as possible, but no more than 5.\n        // Note that this means 1-6 hex digits have been consumed in total.\n        for (const maxOffset = Math.min(source.length, offset + 5); offset < maxOffset; offset++) {\n            if (!isHexDigit(getCharCode(source, offset))) {\n                break;\n            }\n        }\n\n        // If the next input code point is whitespace, consume it as well.\n        const code = getCharCode(source, offset);\n        if (isWhiteSpace(code)) {\n            offset += getNewlineLength(source, offset, code);\n        }\n    }\n\n    return offset;\n}\n\n// §4.3.11. Consume a name\n// Note: This algorithm does not do the verification of the first few code points that are necessary\n// to ensure the returned code points would constitute an <ident-token>. If that is the intended use,\n// ensure that the stream starts with an identifier before calling this algorithm.\nexport function consumeName(source, offset) {\n    // Let result initially be an empty string.\n    // Repeatedly consume the next input code point from the stream:\n    for (; offset < source.length; offset++) {\n        const code = source.charCodeAt(offset);\n\n        // name code point\n        if (isName(code)) {\n            // Append the code point to result.\n            continue;\n        }\n\n        // the stream starts with a valid escape\n        if (isValidEscape(code, getCharCode(source, offset + 1))) {\n            // Consume an escaped code point. Append the returned code point to result.\n            offset = consumeEscaped(source, offset) - 1;\n            continue;\n        }\n\n        // anything else\n        // Reconsume the current input code point. Return result.\n        break;\n    }\n\n    return offset;\n}\n\n// §4.3.12. Consume a number\nexport function consumeNumber(source, offset) {\n    let code = source.charCodeAt(offset);\n\n    // 2. If the next input code point is U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-),\n    // consume it and append it to repr.\n    if (code === 0x002B || code === 0x002D) {\n        code = source.charCodeAt(offset += 1);\n    }\n\n    // 3. While the next input code point is a digit, consume it and append it to repr.\n    if (isDigit(code)) {\n        offset = findDecimalNumberEnd(source, offset + 1);\n        code = source.charCodeAt(offset);\n    }\n\n    // 4. If the next 2 input code points are U+002E FULL STOP (.) followed by a digit, then:\n    if (code === 0x002E && isDigit(source.charCodeAt(offset + 1))) {\n        // 4.1 Consume them.\n        // 4.2 Append them to repr.\n        offset += 2;\n\n        // 4.3 Set type to \"number\".\n        // TODO\n\n        // 4.4 While the next input code point is a digit, consume it and append it to repr.\n\n        offset = findDecimalNumberEnd(source, offset);\n    }\n\n    // 5. If the next 2 or 3 input code points are U+0045 LATIN CAPITAL LETTER E (E)\n    // or U+0065 LATIN SMALL LETTER E (e), ... , followed by a digit, then:\n    if (cmpChar(source, offset, 101 /* e */)) {\n        let sign = 0;\n        code = source.charCodeAt(offset + 1);\n\n        // ... optionally followed by U+002D HYPHEN-MINUS (-) or U+002B PLUS SIGN (+) ...\n        if (code === 0x002D || code === 0x002B) {\n            sign = 1;\n            code = source.charCodeAt(offset + 2);\n        }\n\n        // ... followed by a digit\n        if (isDigit(code)) {\n            // 5.1 Consume them.\n            // 5.2 Append them to repr.\n\n            // 5.3 Set type to \"number\".\n            // TODO\n\n            // 5.4 While the next input code point is a digit, consume it and append it to repr.\n            offset = findDecimalNumberEnd(source, offset + 1 + sign + 1);\n        }\n    }\n\n    return offset;\n}\n\n// § 4.3.14. Consume the remnants of a bad url\n// ... its sole use is to consume enough of the input stream to reach a recovery point\n// where normal tokenizing can resume.\nexport function consumeBadUrlRemnants(source, offset) {\n    // Repeatedly consume the next input code point from the stream:\n    for (; offset < source.length; offset++) {\n        const code = source.charCodeAt(offset);\n\n        // U+0029 RIGHT PARENTHESIS ())\n        // EOF\n        if (code === 0x0029) {\n            // Return.\n            offset++;\n            break;\n        }\n\n        if (isValidEscape(code, getCharCode(source, offset + 1))) {\n            // Consume an escaped code point.\n            // Note: This allows an escaped right parenthesis (\"\\)\") to be encountered\n            // without ending the <bad-url-token>. This is otherwise identical to\n            // the \"anything else\" clause.\n            offset = consumeEscaped(source, offset);\n        }\n    }\n\n    return offset;\n}\n\n// § 4.3.7. Consume an escaped code point\n// Note: This algorithm assumes that escaped is valid without leading U+005C REVERSE SOLIDUS (\\)\nexport function decodeEscaped(escaped) {\n    // Single char escaped that's not a hex digit\n    if (escaped.length === 1 && !isHexDigit(escaped.charCodeAt(0))) {\n        return escaped[0];\n    }\n\n    // Interpret the hex digits as a hexadecimal number.\n    let code = parseInt(escaped, 16);\n\n    if (\n        (code === 0) ||                       // If this number is zero,\n        (code >= 0xD800 && code <= 0xDFFF) || // or is for a surrogate,\n        (code > 0x10FFFF)                     // or is greater than the maximum allowed code point\n    ) {\n        // ... return U+FFFD REPLACEMENT CHARACTER\n        code = 0xFFFD;\n    }\n\n    // Otherwise, return the code point with that value.\n    return String.fromCodePoint(code);\n}\n", "export default [\n    'EOF-token',\n    'ident-token',\n    'function-token',\n    'at-keyword-token',\n    'hash-token',\n    'string-token',\n    'bad-string-token',\n    'url-token',\n    'bad-url-token',\n    'delim-token',\n    'number-token',\n    'percentage-token',\n    'dimension-token',\n    'whitespace-token',\n    'CDO-token',\n    'CDC-token',\n    'colon-token',\n    'semicolon-token',\n    'comma-token',\n    '[-token',\n    ']-token',\n    '(-token',\n    ')-token',\n    '{-token',\n    '}-token',\n    'comment-token'\n];\n", "const MIN_SIZE = 16 * 1024;\n\nexport function adoptBuffer(buffer = null, size) {\n    if (buffer === null || buffer.length < size) {\n        return new Uint32Array(Math.max(size + 1024, MIN_SIZE));\n    }\n\n    return buffer;\n};\n", "import { adoptBuffer } from './adopt-buffer.js';\nimport { isBOM } from './char-code-definitions.js';\n\nconst N = 10;\nconst F = 12;\nconst R = 13;\n\nfunction computeLinesAndColumns(host) {\n    const source = host.source;\n    const sourceLength = source.length;\n    const startOffset = source.length > 0 ? isBOM(source.charCodeAt(0)) : 0;\n    const lines = adoptBuffer(host.lines, sourceLength);\n    const columns = adoptBuffer(host.columns, sourceLength);\n    let line = host.startLine;\n    let column = host.startColumn;\n\n    for (let i = startOffset; i < sourceLength; i++) {\n        const code = source.charCodeAt(i);\n\n        lines[i] = line;\n        columns[i] = column++;\n\n        if (code === N || code === R || code === F) {\n            if (code === R && i + 1 < sourceLength && source.charCodeAt(i + 1) === N) {\n                i++;\n                lines[i] = line;\n                columns[i] = column;\n            }\n\n            line++;\n            column = 1;\n        }\n    }\n\n    lines[sourceLength] = line;\n    columns[sourceLength] = column;\n\n    host.lines = lines;\n    host.columns = columns;\n    host.computed = true;\n}\n\nexport class OffsetToLocation {\n    constructor() {\n        this.lines = null;\n        this.columns = null;\n        this.computed = false;\n    }\n    setSource(source, startOffset = 0, startLine = 1, startColumn = 1) {\n        this.source = source;\n        this.startOffset = startOffset;\n        this.startLine = startLine;\n        this.startColumn = startColumn;\n        this.computed = false;\n    }\n    getLocation(offset, filename) {\n        if (!this.computed) {\n            computeLinesAndColumns(this);\n        }\n\n        return {\n            source: filename,\n            offset: this.startOffset + offset,\n            line: this.lines[offset],\n            column: this.columns[offset]\n        };\n    }\n    getLocationRange(start, end, filename) {\n        if (!this.computed) {\n            computeLinesAndColumns(this);\n        }\n\n        return {\n            source: filename,\n            start: {\n                offset: this.startOffset + start,\n                line: this.lines[start],\n                column: this.columns[start]\n            },\n            end: {\n                offset: this.startOffset + end,\n                line: this.lines[end],\n                column: this.columns[end]\n            }\n        };\n    }\n};\n", "import { adoptBuffer } from './adopt-buffer.js';\nimport { cmpStr } from './utils.js';\nimport tokenNames from './names.js';\nimport {\n    WhiteSpace,\n    Comment,\n    Delim,\n    EOF,\n    Function as FunctionToken,\n    LeftParenthesis,\n    RightParenthesis,\n    LeftSquareBracket,\n    RightSquareBracket,\n    LeftCurlyBracket,\n    RightCurlyBracket\n} from './types.js';\n\nconst OFFSET_MASK = 0x00FFFFFF;\nconst TYPE_SHIFT = 24;\nconst balancePair = new Map([\n    [FunctionToken, RightParenthesis],\n    [LeftParenthesis, RightParenthesis],\n    [LeftSquareBracket, RightSquareBracket],\n    [LeftCurlyBracket, RightCurlyBracket]\n]);\n\nexport class TokenStream {\n    constructor(source, tokenize) {\n        this.setSource(source, tokenize);\n    }\n    reset() {\n        this.eof = false;\n        this.tokenIndex = -1;\n        this.tokenType = 0;\n        this.tokenStart = this.firstCharOffset;\n        this.tokenEnd = this.firstCharOffset;\n    }\n    setSource(source = '', tokenize = () => {}) {\n        source = String(source || '');\n\n        const sourceLength = source.length;\n        const offsetAndType = adoptBuffer(this.offsetAndType, source.length + 1); // +1 because of eof-token\n        const balance = adoptBuffer(this.balance, source.length + 1);\n        let tokenCount = 0;\n        let balanceCloseType = 0;\n        let balanceStart = 0;\n        let firstCharOffset = -1;\n\n        // capture buffers\n        this.offsetAndType = null;\n        this.balance = null;\n\n        tokenize(source, (type, start, end) => {\n            switch (type) {\n                default:\n                    balance[tokenCount] = sourceLength;\n                    break;\n\n                case balanceCloseType: {\n                    let balancePrev = balanceStart & OFFSET_MASK;\n                    balanceStart = balance[balancePrev];\n                    balanceCloseType = balanceStart >> TYPE_SHIFT;\n                    balance[tokenCount] = balancePrev;\n                    balance[balancePrev++] = tokenCount;\n                    for (; balancePrev < tokenCount; balancePrev++) {\n                        if (balance[balancePrev] === sourceLength) {\n                            balance[balancePrev] = tokenCount;\n                        }\n                    }\n                    break;\n                }\n\n                case LeftParenthesis:\n                case FunctionToken:\n                case LeftSquareBracket:\n                case LeftCurlyBracket:\n                    balance[tokenCount] = balanceStart;\n                    balanceCloseType = balancePair.get(type);\n                    balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                    break;\n            }\n\n            offsetAndType[tokenCount++] = (type << TYPE_SHIFT) | end;\n            if (firstCharOffset === -1) {\n                firstCharOffset = start;\n            }\n        });\n\n        // finalize buffers\n        offsetAndType[tokenCount] = (EOF << TYPE_SHIFT) | sourceLength; // <EOF-token>\n        balance[tokenCount] = sourceLength;\n        balance[sourceLength] = sourceLength; // prevents false positive balance match with any token\n        while (balanceStart !== 0) {\n            const balancePrev = balanceStart & OFFSET_MASK;\n            balanceStart = balance[balancePrev];\n            balance[balancePrev] = sourceLength;\n        }\n\n        this.source = source;\n        this.firstCharOffset = firstCharOffset === -1 ? 0 : firstCharOffset;\n        this.tokenCount = tokenCount;\n        this.offsetAndType = offsetAndType;\n        this.balance = balance;\n\n        this.reset();\n        this.next();\n    }\n\n    lookupType(offset) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return this.offsetAndType[offset] >> TYPE_SHIFT;\n        }\n\n        return EOF;\n    }\n    lookupTypeNonSC(idx) {\n        for (let offset = this.tokenIndex; offset < this.tokenCount; offset++) {\n            const tokenType = this.offsetAndType[offset] >> TYPE_SHIFT;\n\n            if (tokenType !== WhiteSpace && tokenType !== Comment) {\n                if (idx-- === 0) {\n                    return tokenType;\n                }\n            }\n        }\n\n        return EOF;\n    }\n    lookupOffset(offset) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return this.offsetAndType[offset - 1] & OFFSET_MASK;\n        }\n\n        return this.source.length;\n    }\n    lookupOffsetNonSC(idx) {\n        for (let offset = this.tokenIndex; offset < this.tokenCount; offset++) {\n            const tokenType = this.offsetAndType[offset] >> TYPE_SHIFT;\n\n            if (tokenType !== WhiteSpace && tokenType !== Comment) {\n                if (idx-- === 0) {\n                    return offset - this.tokenIndex;\n                }\n            }\n        }\n\n        return EOF;\n    }\n    lookupValue(offset, referenceStr) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return cmpStr(\n                this.source,\n                this.offsetAndType[offset - 1] & OFFSET_MASK,\n                this.offsetAndType[offset] & OFFSET_MASK,\n                referenceStr\n            );\n        }\n\n        return false;\n    }\n    getTokenStart(tokenIndex) {\n        if (tokenIndex === this.tokenIndex) {\n            return this.tokenStart;\n        }\n\n        if (tokenIndex > 0) {\n            return tokenIndex < this.tokenCount\n                ? this.offsetAndType[tokenIndex - 1] & OFFSET_MASK\n                : this.offsetAndType[this.tokenCount] & OFFSET_MASK;\n        }\n\n        return this.firstCharOffset;\n    }\n    substrToCursor(start) {\n        return this.source.substring(start, this.tokenStart);\n    }\n\n    isBalanceEdge(pos) {\n        return this.balance[this.tokenIndex] < pos;\n    }\n    isDelim(code, offset) {\n        if (offset) {\n            return (\n                this.lookupType(offset) === Delim &&\n                this.source.charCodeAt(this.lookupOffset(offset)) === code\n            );\n        }\n\n        return (\n            this.tokenType === Delim &&\n            this.source.charCodeAt(this.tokenStart) === code\n        );\n    }\n\n    skip(tokenCount) {\n        let next = this.tokenIndex + tokenCount;\n\n        if (next < this.tokenCount) {\n            this.tokenIndex = next;\n            this.tokenStart = this.offsetAndType[next - 1] & OFFSET_MASK;\n            next = this.offsetAndType[next];\n            this.tokenType = next >> TYPE_SHIFT;\n            this.tokenEnd = next & OFFSET_MASK;\n        } else {\n            this.tokenIndex = this.tokenCount;\n            this.next();\n        }\n    }\n    next() {\n        let next = this.tokenIndex + 1;\n\n        if (next < this.tokenCount) {\n            this.tokenIndex = next;\n            this.tokenStart = this.tokenEnd;\n            next = this.offsetAndType[next];\n            this.tokenType = next >> TYPE_SHIFT;\n            this.tokenEnd = next & OFFSET_MASK;\n        } else {\n            this.eof = true;\n            this.tokenIndex = this.tokenCount;\n            this.tokenType = EOF;\n            this.tokenStart = this.tokenEnd = this.source.length;\n        }\n    }\n    skipSC() {\n        while (this.tokenType === WhiteSpace || this.tokenType === Comment) {\n            this.next();\n        }\n    }\n    skipUntilBalanced(startToken, stopConsume) {\n        let cursor = startToken;\n        let balanceEnd;\n        let offset;\n\n        loop:\n        for (; cursor < this.tokenCount; cursor++) {\n            balanceEnd = this.balance[cursor];\n\n            // stop scanning on balance edge that points to offset before start token\n            if (balanceEnd < startToken) {\n                break loop;\n            }\n\n            offset = cursor > 0 ? this.offsetAndType[cursor - 1] & OFFSET_MASK : this.firstCharOffset;\n\n            // check stop condition\n            switch (stopConsume(this.source.charCodeAt(offset))) {\n                case 1: // just stop\n                    break loop;\n\n                case 2: // stop & included\n                    cursor++;\n                    break loop;\n\n                default:\n                    // fast forward to the end of balanced block\n                    if (this.balance[balanceEnd] === cursor) {\n                        cursor = balanceEnd;\n                    }\n            }\n        }\n\n        this.skip(cursor - this.tokenIndex);\n    }\n\n    forEachToken(fn) {\n        for (let i = 0, offset = this.firstCharOffset; i < this.tokenCount; i++) {\n            const start = offset;\n            const item = this.offsetAndType[i];\n            const end = item & OFFSET_MASK;\n            const type = item >> TYPE_SHIFT;\n\n            offset = end;\n\n            fn(type, start, end, i);\n        }\n    }\n    dump() {\n        const tokens = new Array(this.tokenCount);\n\n        this.forEachToken((type, start, end, index) => {\n            tokens[index] = {\n                idx: index,\n                type: tokenNames[type],\n                chunk: this.source.substring(start, end),\n                balance: this.balance[index]\n            };\n        });\n\n        return tokens;\n    }\n};\n", "import * as TYPE from './types.js';\nimport {\n    isNewline,\n    isName,\n    isValidEscape,\n    isNumberStart,\n    isIdentifierStart,\n    isBOM,\n    charCodeCategory,\n    WhiteSpaceCategory,\n    DigitCategory,\n    NameStartCategory,\n    NonPrintableCategory\n} from './char-code-definitions.js';\nimport {\n    cmpStr,\n    getNewlineLength,\n    findWhiteSpaceEnd,\n    consumeEscaped,\n    consumeName,\n    consumeNumber,\n    consumeBadUrlRemnants\n} from './utils.js';\n\nexport function tokenize(source, onToken) {\n    function getCharCode(offset) {\n        return offset < sourceLength ? source.charCodeAt(offset) : 0;\n    }\n\n    // § 4.3.3. Consume a numeric token\n    function consumeNumericToken() {\n        // Consume a number and let number be the result.\n        offset = consumeNumber(source, offset);\n\n        // If the next 3 input code points would start an identifier, then:\n        if (isIdentifierStart(getCharCode(offset), getCharCode(offset + 1), getCharCode(offset + 2))) {\n            // Create a <dimension-token> with the same value and type flag as number, and a unit set initially to the empty string.\n            // Consume a name. Set the <dimension-token>’s unit to the returned value.\n            // Return the <dimension-token>.\n            type = TYPE.Dimension;\n            offset = consumeName(source, offset);\n            return;\n        }\n\n        // Otherwise, if the next input code point is U+0025 PERCENTAGE SIGN (%), consume it.\n        if (getCharCode(offset) === 0x0025) {\n            // Create a <percentage-token> with the same value as number, and return it.\n            type = TYPE.Percentage;\n            offset++;\n            return;\n        }\n\n        // Otherwise, create a <number-token> with the same value and type flag as number, and return it.\n        type = TYPE.Number;\n    }\n\n    // § 4.3.4. Consume an ident-like token\n    function consumeIdentLikeToken() {\n        const nameStartOffset = offset;\n\n        // Consume a name, and let string be the result.\n        offset = consumeName(source, offset);\n\n        // If string’s value is an ASCII case-insensitive match for \"url\",\n        // and the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n        if (cmpStr(source, nameStartOffset, offset, 'url') && getCharCode(offset) === 0x0028) {\n            // While the next two input code points are whitespace, consume the next input code point.\n            offset = findWhiteSpaceEnd(source, offset + 1);\n\n            // If the next one or two input code points are U+0022 QUOTATION MARK (\"), U+0027 APOSTROPHE ('),\n            // or whitespace followed by U+0022 QUOTATION MARK (\") or U+0027 APOSTROPHE ('),\n            // then create a <function-token> with its value set to string and return it.\n            if (getCharCode(offset) === 0x0022 ||\n                getCharCode(offset) === 0x0027) {\n                type = TYPE.Function;\n                offset = nameStartOffset + 4;\n                return;\n            }\n\n            // Otherwise, consume a url token, and return it.\n            consumeUrlToken();\n            return;\n        }\n\n        // Otherwise, if the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n        // Create a <function-token> with its value set to string and return it.\n        if (getCharCode(offset) === 0x0028) {\n            type = TYPE.Function;\n            offset++;\n            return;\n        }\n\n        // Otherwise, create an <ident-token> with its value set to string and return it.\n        type = TYPE.Ident;\n    }\n\n    // § 4.3.5. Consume a string token\n    function consumeStringToken(endingCodePoint) {\n        // This algorithm may be called with an ending code point, which denotes the code point\n        // that ends the string. If an ending code point is not specified,\n        // the current input code point is used.\n        if (!endingCodePoint) {\n            endingCodePoint = getCharCode(offset++);\n        }\n\n        // Initially create a <string-token> with its value set to the empty string.\n        type = TYPE.String;\n\n        // Repeatedly consume the next input code point from the stream:\n        for (; offset < source.length; offset++) {\n            const code = source.charCodeAt(offset);\n\n            switch (charCodeCategory(code)) {\n                // ending code point\n                case endingCodePoint:\n                    // Return the <string-token>.\n                    offset++;\n                    return;\n\n                    // EOF\n                    // case EofCategory:\n                    // This is a parse error. Return the <string-token>.\n                    // return;\n\n                // newline\n                case WhiteSpaceCategory:\n                    if (isNewline(code)) {\n                        // This is a parse error. Reconsume the current input code point,\n                        // create a <bad-string-token>, and return it.\n                        offset += getNewlineLength(source, offset, code);\n                        type = TYPE.BadString;\n                        return;\n                    }\n                    break;\n\n                // U+005C REVERSE SOLIDUS (\\)\n                case 0x005C:\n                    // If the next input code point is EOF, do nothing.\n                    if (offset === source.length - 1) {\n                        break;\n                    }\n\n                    const nextCode = getCharCode(offset + 1);\n\n                    // Otherwise, if the next input code point is a newline, consume it.\n                    if (isNewline(nextCode)) {\n                        offset += getNewlineLength(source, offset + 1, nextCode);\n                    } else if (isValidEscape(code, nextCode)) {\n                        // Otherwise, (the stream starts with a valid escape) consume\n                        // an escaped code point and append the returned code point to\n                        // the <string-token>’s value.\n                        offset = consumeEscaped(source, offset) - 1;\n                    }\n                    break;\n\n                // anything else\n                // Append the current input code point to the <string-token>’s value.\n            }\n        }\n    }\n\n    // § 4.3.6. Consume a url token\n    // Note: This algorithm assumes that the initial \"url(\" has already been consumed.\n    // This algorithm also assumes that it’s being called to consume an \"unquoted\" value, like url(foo).\n    // A quoted value, like url(\"foo\"), is parsed as a <function-token>. Consume an ident-like token\n    // automatically handles this distinction; this algorithm shouldn’t be called directly otherwise.\n    function consumeUrlToken() {\n        // Initially create a <url-token> with its value set to the empty string.\n        type = TYPE.Url;\n\n        // Consume as much whitespace as possible.\n        offset = findWhiteSpaceEnd(source, offset);\n\n        // Repeatedly consume the next input code point from the stream:\n        for (; offset < source.length; offset++) {\n            const code = source.charCodeAt(offset);\n\n            switch (charCodeCategory(code)) {\n                // U+0029 RIGHT PARENTHESIS ())\n                case 0x0029:\n                    // Return the <url-token>.\n                    offset++;\n                    return;\n\n                    // EOF\n                    // case EofCategory:\n                    // This is a parse error. Return the <url-token>.\n                    // return;\n\n                // whitespace\n                case WhiteSpaceCategory:\n                    // Consume as much whitespace as possible.\n                    offset = findWhiteSpaceEnd(source, offset);\n\n                    // If the next input code point is U+0029 RIGHT PARENTHESIS ()) or EOF,\n                    // consume it and return the <url-token>\n                    // (if EOF was encountered, this is a parse error);\n                    if (getCharCode(offset) === 0x0029 || offset >= source.length) {\n                        if (offset < source.length) {\n                            offset++;\n                        }\n                        return;\n                    }\n\n                    // otherwise, consume the remnants of a bad url, create a <bad-url-token>,\n                    // and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // U+0022 QUOTATION MARK (\")\n                // U+0027 APOSTROPHE (')\n                // U+0028 LEFT PARENTHESIS (()\n                // non-printable code point\n                case 0x0022:\n                case 0x0027:\n                case 0x0028:\n                case NonPrintableCategory:\n                    // This is a parse error. Consume the remnants of a bad url,\n                    // create a <bad-url-token>, and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // U+005C REVERSE SOLIDUS (\\)\n                case 0x005C:\n                    // If the stream starts with a valid escape, consume an escaped code point and\n                    // append the returned code point to the <url-token>’s value.\n                    if (isValidEscape(code, getCharCode(offset + 1))) {\n                        offset = consumeEscaped(source, offset) - 1;\n                        break;\n                    }\n\n                    // Otherwise, this is a parse error. Consume the remnants of a bad url,\n                    // create a <bad-url-token>, and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // anything else\n                // Append the current input code point to the <url-token>’s value.\n            }\n        }\n    }\n\n    // ensure source is a string\n    source = String(source || '');\n\n    const sourceLength = source.length;\n    let start = isBOM(getCharCode(0));\n    let offset = start;\n    let type;\n\n    // https://drafts.csswg.org/css-syntax-3/#consume-token\n    // § 4.3.1. Consume a token\n    while (offset < sourceLength) {\n        const code = source.charCodeAt(offset);\n\n        switch (charCodeCategory(code)) {\n            // whitespace\n            case WhiteSpaceCategory:\n                // Consume as much whitespace as possible. Return a <whitespace-token>.\n                type = TYPE.WhiteSpace;\n                offset = findWhiteSpaceEnd(source, offset + 1);\n                break;\n\n            // U+0022 QUOTATION MARK (\")\n            case 0x0022:\n                // Consume a string token and return it.\n                consumeStringToken();\n                break;\n\n            // U+0023 NUMBER SIGN (#)\n            case 0x0023:\n                // If the next input code point is a name code point or the next two input code points are a valid escape, then:\n                if (isName(getCharCode(offset + 1)) || isValidEscape(getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // Create a <hash-token>.\n                    type = TYPE.Hash;\n\n                    // If the next 3 input code points would start an identifier, set the <hash-token>’s type flag to \"id\".\n                    // if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {\n                    //     // TODO: set id flag\n                    // }\n\n                    // Consume a name, and set the <hash-token>’s value to the returned string.\n                    offset = consumeName(source, offset + 1);\n\n                    // Return the <hash-token>.\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+0027 APOSTROPHE (')\n            case 0x0027:\n                // Consume a string token and return it.\n                consumeStringToken();\n                break;\n\n            // U+0028 LEFT PARENTHESIS (()\n            case 0x0028:\n                // Return a <(-token>.\n                type = TYPE.LeftParenthesis;\n                offset++;\n                break;\n\n            // U+0029 RIGHT PARENTHESIS ())\n            case 0x0029:\n                // Return a <)-token>.\n                type = TYPE.RightParenthesis;\n                offset++;\n                break;\n\n            // U+002B PLUS SIGN (+)\n            case 0x002B:\n                // If the input stream starts with a number, ...\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // ... reconsume the current input code point, consume a numeric token, and return it.\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+002C COMMA (,)\n            case 0x002C:\n                // Return a <comma-token>.\n                type = TYPE.Comma;\n                offset++;\n                break;\n\n            // U+002D HYPHEN-MINUS (-)\n            case 0x002D:\n                // If the input stream starts with a number, reconsume the current input code point, consume a numeric token, and return it.\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, if the next 2 input code points are U+002D HYPHEN-MINUS U+003E GREATER-THAN SIGN (->), consume them and return a <CDC-token>.\n                    if (getCharCode(offset + 1) === 0x002D &&\n                        getCharCode(offset + 2) === 0x003E) {\n                        type = TYPE.CDC;\n                        offset = offset + 3;\n                    } else {\n                        // Otherwise, if the input stream starts with an identifier, ...\n                        if (isIdentifierStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                            // ... reconsume the current input code point, consume an ident-like token, and return it.\n                            consumeIdentLikeToken();\n                        } else {\n                            // Otherwise, return a <delim-token> with its value set to the current input code point.\n                            type = TYPE.Delim;\n                            offset++;\n                        }\n                    }\n                }\n                break;\n\n            // U+002E FULL STOP (.)\n            case 0x002E:\n                // If the input stream starts with a number, ...\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // ... reconsume the current input code point, consume a numeric token, and return it.\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+002F SOLIDUS (/)\n            case 0x002F:\n                // If the next two input code point are U+002F SOLIDUS (/) followed by a U+002A ASTERISK (*),\n                if (getCharCode(offset + 1) === 0x002A) {\n                    // ... consume them and all following code points up to and including the first U+002A ASTERISK (*)\n                    // followed by a U+002F SOLIDUS (/), or up to an EOF code point.\n                    type = TYPE.Comment;\n                    offset = source.indexOf('*/', offset + 2);\n                    offset = offset === -1 ? source.length : offset + 2;\n                } else {\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+003A COLON (:)\n            case 0x003A:\n                // Return a <colon-token>.\n                type = TYPE.Colon;\n                offset++;\n                break;\n\n            // U+003B SEMICOLON (;)\n            case 0x003B:\n                // Return a <semicolon-token>.\n                type = TYPE.Semicolon;\n                offset++;\n                break;\n\n            // U+003C LESS-THAN SIGN (<)\n            case 0x003C:\n                // If the next 3 input code points are U+0021 EXCLAMATION MARK U+002D HYPHEN-MINUS U+002D HYPHEN-MINUS (!--), ...\n                if (getCharCode(offset + 1) === 0x0021 &&\n                    getCharCode(offset + 2) === 0x002D &&\n                    getCharCode(offset + 3) === 0x002D) {\n                    // ... consume them and return a <CDO-token>.\n                    type = TYPE.CDO;\n                    offset = offset + 4;\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+0040 COMMERCIAL AT (@)\n            case 0x0040:\n                // If the next 3 input code points would start an identifier, ...\n                if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {\n                    // ... consume a name, create an <at-keyword-token> with its value set to the returned value, and return it.\n                    type = TYPE.AtKeyword;\n                    offset = consumeName(source, offset + 1);\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+005B LEFT SQUARE BRACKET ([)\n            case 0x005B:\n                // Return a <[-token>.\n                type = TYPE.LeftSquareBracket;\n                offset++;\n                break;\n\n            // U+005C REVERSE SOLIDUS (\\)\n            case 0x005C:\n                // If the input stream starts with a valid escape, ...\n                if (isValidEscape(code, getCharCode(offset + 1))) {\n                    // ... reconsume the current input code point, consume an ident-like token, and return it.\n                    consumeIdentLikeToken();\n                } else {\n                    // Otherwise, this is a parse error. Return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+005D RIGHT SQUARE BRACKET (])\n            case 0x005D:\n                // Return a <]-token>.\n                type = TYPE.RightSquareBracket;\n                offset++;\n                break;\n\n            // U+007B LEFT CURLY BRACKET ({)\n            case 0x007B:\n                // Return a <{-token>.\n                type = TYPE.LeftCurlyBracket;\n                offset++;\n                break;\n\n            // U+007D RIGHT CURLY BRACKET (})\n            case 0x007D:\n                // Return a <}-token>.\n                type = TYPE.RightCurlyBracket;\n                offset++;\n                break;\n\n            // digit\n            case DigitCategory:\n                // Reconsume the current input code point, consume a numeric token, and return it.\n                consumeNumericToken();\n                break;\n\n            // name-start code point\n            case NameStartCategory:\n                // Reconsume the current input code point, consume an ident-like token, and return it.\n                consumeIdentLikeToken();\n                break;\n\n                // EOF\n                // case EofCategory:\n                // Return an <EOF-token>.\n                // break;\n\n            // anything else\n            default:\n                // Return a <delim-token> with its value set to the current input code point.\n                type = TYPE.Delim;\n                offset++;\n        }\n\n        // put token to stream\n        onToken(type, start, start = offset);\n    }\n}\n\nexport * from './types.js';\nexport * as tokenTypes from './types.js';\nexport { default as tokenNames } from './names.js';\nexport * from './char-code-definitions.js';\nexport * from './utils.js';\nexport * from './OffsetToLocation.js';\nexport * from './TokenStream.js';\n", "//\n//                              list\n//                            ┌──────┐\n//             ┌──────────────┼─head │\n//             │              │ tail─┼──────────────┐\n//             │              └──────┘              │\n//             ▼                                    ▼\n//            item        item        item        item\n//          ┌──────┐    ┌──────┐    ┌──────┐    ┌──────┐\n//  null ◀──┼─prev │◀───┼─prev │◀───┼─prev │◀───┼─prev │\n//          │ next─┼───▶│ next─┼───▶│ next─┼───▶│ next─┼──▶ null\n//          ├──────┤    ├──────┤    ├──────┤    ├──────┤\n//          │ data │    │ data │    │ data │    │ data │\n//          └──────┘    └──────┘    └──────┘    └──────┘\n//\n\nlet releasedCursors = null;\n\nexport class List {\n    static createItem(data) {\n        return {\n            prev: null,\n            next: null,\n            data\n        };\n    }\n\n    constructor() {\n        this.head = null;\n        this.tail = null;\n        this.cursor = null;\n    }\n    createItem(data) {\n        return List.createItem(data);\n    }\n\n    // cursor helpers\n    allocateCursor(prev, next) {\n        let cursor;\n\n        if (releasedCursors !== null) {\n            cursor = releasedCursors;\n            releasedCursors = releasedCursors.cursor;\n            cursor.prev = prev;\n            cursor.next = next;\n            cursor.cursor = this.cursor;\n        } else {\n            cursor = {\n                prev,\n                next,\n                cursor: this.cursor\n            };\n        }\n\n        this.cursor = cursor;\n\n        return cursor;\n    }\n    releaseCursor() {\n        const { cursor } = this;\n\n        this.cursor = cursor.cursor;\n        cursor.prev = null;\n        cursor.next = null;\n        cursor.cursor = releasedCursors;\n        releasedCursors = cursor;\n    }\n    updateCursors(prevOld, prevNew, nextOld, nextNew) {\n        let { cursor } = this;\n\n        while (cursor !== null) {\n            if (cursor.prev === prevOld) {\n                cursor.prev = prevNew;\n            }\n\n            if (cursor.next === nextOld) {\n                cursor.next = nextNew;\n            }\n\n            cursor = cursor.cursor;\n        }\n    }\n    *[Symbol.iterator]() {\n        for (let cursor = this.head; cursor !== null; cursor = cursor.next) {\n            yield cursor.data;\n        }\n    }\n\n    // getters\n    get size() {\n        let size = 0;\n\n        for (let cursor = this.head; cursor !== null; cursor = cursor.next) {\n            size++;\n        }\n\n        return size;\n    }\n    get isEmpty() {\n        return this.head === null;\n    }\n    get first() {\n        return this.head && this.head.data;\n    }\n    get last() {\n        return this.tail && this.tail.data;\n    }\n\n    // convertors\n    fromArray(array) {\n        let cursor = null;\n        this.head = null;\n\n        for (let data of array) {\n            const item = List.createItem(data);\n\n            if (cursor !== null) {\n                cursor.next = item;\n            } else {\n                this.head = item;\n            }\n\n            item.prev = cursor;\n            cursor = item;\n        }\n\n        this.tail = cursor;\n        return this;\n    }\n    toArray() {\n        return [...this];\n    }\n    toJSON() {\n        return [...this];\n    }\n\n    // array-like methods\n    forEach(fn, thisArg = this) {\n        // push cursor\n        const cursor = this.allocateCursor(null, this.head);\n\n        while (cursor.next !== null) {\n            const item = cursor.next;\n            cursor.next = item.next;\n            fn.call(thisArg, item.data, item, this);\n        }\n\n        // pop cursor\n        this.releaseCursor();\n    }\n    forEachRight(fn, thisArg = this) {\n        // push cursor\n        const cursor = this.allocateCursor(this.tail, null);\n\n        while (cursor.prev !== null) {\n            const item = cursor.prev;\n            cursor.prev = item.prev;\n            fn.call(thisArg, item.data, item, this);\n        }\n\n        // pop cursor\n        this.releaseCursor();\n    }\n    reduce(fn, initialValue, thisArg = this) {\n        // push cursor\n        let cursor = this.allocateCursor(null, this.head);\n        let acc = initialValue;\n        let item;\n\n        while (cursor.next !== null) {\n            item = cursor.next;\n            cursor.next = item.next;\n\n            acc = fn.call(thisArg, acc, item.data, item, this);\n        }\n\n        // pop cursor\n        this.releaseCursor();\n\n        return acc;\n    }\n    reduceRight(fn, initialValue, thisArg = this) {\n        // push cursor\n        let cursor = this.allocateCursor(this.tail, null);\n        let acc = initialValue;\n        let item;\n\n        while (cursor.prev !== null) {\n            item = cursor.prev;\n            cursor.prev = item.prev;\n\n            acc = fn.call(thisArg, acc, item.data, item, this);\n        }\n\n        // pop cursor\n        this.releaseCursor();\n\n        return acc;\n    }\n    some(fn, thisArg = this) {\n        for (let cursor = this.head; cursor !== null; cursor = cursor.next) {\n            if (fn.call(thisArg, cursor.data, cursor, this)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n    map(fn, thisArg = this) {\n        const result = new List();\n\n        for (let cursor = this.head; cursor !== null; cursor = cursor.next) {\n            result.appendData(fn.call(thisArg, cursor.data, cursor, this));\n        }\n\n        return result;\n    }\n    filter(fn, thisArg = this) {\n        const result = new List();\n\n        for (let cursor = this.head; cursor !== null; cursor = cursor.next) {\n            if (fn.call(thisArg, cursor.data, cursor, this)) {\n                result.appendData(cursor.data);\n            }\n        }\n\n        return result;\n    }\n\n    nextUntil(start, fn, thisArg = this) {\n        if (start === null) {\n            return;\n        }\n\n        // push cursor\n        const cursor = this.allocateCursor(null, start);\n\n        while (cursor.next !== null) {\n            const item = cursor.next;\n            cursor.next = item.next;\n            if (fn.call(thisArg, item.data, item, this)) {\n                break;\n            }\n        }\n\n        // pop cursor\n        this.releaseCursor();\n    }\n    prevUntil(start, fn, thisArg = this) {\n        if (start === null) {\n            return;\n        }\n\n        // push cursor\n        const cursor = this.allocateCursor(start, null);\n\n        while (cursor.prev !== null) {\n            const item = cursor.prev;\n            cursor.prev = item.prev;\n            if (fn.call(thisArg, item.data, item, this)) {\n                break;\n            }\n        }\n\n        // pop cursor\n        this.releaseCursor();\n    }\n\n    // mutation\n    clear() {\n        this.head = null;\n        this.tail = null;\n    }\n    copy() {\n        const result = new List();\n\n        for (let data of this) {\n            result.appendData(data);\n        }\n\n        return result;\n    }\n    prepend(item) {\n        //      head\n        //    ^\n        // item\n        this.updateCursors(null, item, this.head, item);\n\n        // insert to the beginning of the list\n        if (this.head !== null) {\n            // new item <- first item\n            this.head.prev = item;\n            // new item -> first item\n            item.next = this.head;\n        } else {\n            // if list has no head, then it also has no tail\n            // in this case tail points to the new item\n            this.tail = item;\n        }\n\n        // head always points to new item\n        this.head = item;\n        return this;\n    }\n    prependData(data) {\n        return this.prepend(List.createItem(data));\n    }\n    append(item) {\n        return this.insert(item);\n    }\n    appendData(data) {\n        return this.insert(List.createItem(data));\n    }\n    insert(item, before = null) {\n        if (before !== null) {\n            // prev   before\n            //      ^\n            //     item\n            this.updateCursors(before.prev, item, before, item);\n\n            if (before.prev === null) {\n                // insert to the beginning of list\n                if (this.head !== before) {\n                    throw new Error('before doesn\\'t belong to list');\n                }\n                // since head points to before therefore list doesn't empty\n                // no need to check tail\n                this.head = item;\n                before.prev = item;\n                item.next = before;\n                this.updateCursors(null, item);\n            } else {\n                // insert between two items\n                before.prev.next = item;\n                item.prev = before.prev;\n                before.prev = item;\n                item.next = before;\n            }\n        } else {\n            // tail\n            //      ^\n            //      item\n            this.updateCursors(this.tail, item, null, item);\n\n            // insert to the ending of the list\n            if (this.tail !== null) {\n                // last item -> new item\n                this.tail.next = item;\n                // last item <- new item\n                item.prev = this.tail;\n            } else {\n                // if list has no tail, then it also has no head\n                // in this case head points to new item\n                this.head = item;\n            }\n\n            // tail always points to new item\n            this.tail = item;\n        }\n\n        return this;\n    }\n    insertData(data, before) {\n        return this.insert(List.createItem(data), before);\n    }\n    remove(item) {\n        //      item\n        //       ^\n        // prev     next\n        this.updateCursors(item, item.prev, item, item.next);\n\n        if (item.prev !== null) {\n            item.prev.next = item.next;\n        } else {\n            if (this.head !== item) {\n                throw new Error('item doesn\\'t belong to list');\n            }\n\n            this.head = item.next;\n        }\n\n        if (item.next !== null) {\n            item.next.prev = item.prev;\n        } else {\n            if (this.tail !== item) {\n                throw new Error('item doesn\\'t belong to list');\n            }\n\n            this.tail = item.prev;\n        }\n\n        item.prev = null;\n        item.next = null;\n\n        return item;\n    }\n    push(data) {\n        this.insert(List.createItem(data));\n    }\n    pop() {\n        return this.tail !== null ? this.remove(this.tail) : null;\n    }\n    unshift(data) {\n        this.prepend(List.createItem(data));\n    }\n    shift() {\n        return this.head !== null ? this.remove(this.head) : null;\n    }\n    prependList(list) {\n        return this.insertList(list, this.head);\n    }\n    appendList(list) {\n        return this.insertList(list);\n    }\n    insertList(list, before) {\n        // ignore empty lists\n        if (list.head === null) {\n            return this;\n        }\n\n        if (before !== undefined && before !== null) {\n            this.updateCursors(before.prev, list.tail, before, list.head);\n\n            // insert in the middle of dist list\n            if (before.prev !== null) {\n                // before.prev <-> list.head\n                before.prev.next = list.head;\n                list.head.prev = before.prev;\n            } else {\n                this.head = list.head;\n            }\n\n            before.prev = list.tail;\n            list.tail.next = before;\n        } else {\n            this.updateCursors(this.tail, list.tail, null, list.head);\n\n            // insert to end of the list\n            if (this.tail !== null) {\n                // if destination list has a tail, then it also has a head,\n                // but head doesn't change\n                // dest tail -> source head\n                this.tail.next = list.head;\n                // dest tail <- source head\n                list.head.prev = this.tail;\n            } else {\n                // if list has no a tail, then it also has no a head\n                // in this case points head to new item\n                this.head = list.head;\n            }\n\n            // tail always start point to new item\n            this.tail = list.tail;\n        }\n\n        list.head = null;\n        list.tail = null;\n        return this;\n    }\n    replace(oldItem, newItemOrList) {\n        if ('head' in newItemOrList) {\n            this.insertList(newItemOrList, oldItem);\n        } else {\n            this.insert(newItemOrList, oldItem);\n        }\n\n        this.remove(oldItem);\n    }\n}\n", "export function createCustomError(name, message) {\n    // use Object.create(), because some VMs prevent setting line/column otherwise\n    // (iOS Safari 10 even throws an exception)\n    const error = Object.create(SyntaxError.prototype);\n    const errorStack = new Error();\n\n    return Object.assign(error, {\n        name,\n        message,\n        get stack() {\n            return (errorStack.stack || '').replace(/^(.+\\n){1,3}/, `${name}: ${message}\\n`);\n        }\n    });\n};\n", "import { createCustomError } from '../utils/create-custom-error.js';\n\nconst MAX_LINE_LENGTH = 100;\nconst OFFSET_CORRECTION = 60;\nconst TAB_REPLACEMENT = '    ';\n\nfunction sourceFragment({ source, line, column, baseLine, baseColumn }, extraLines) {\n    function processLines(start, end) {\n        return lines\n            .slice(start, end)\n            .map((line, idx) =>\n                String(start + idx + 1).padStart(maxNumLength) + ' |' + line\n            ).join('\\n');\n    }\n\n    const prelines = '\\n'.repeat(Math.max(baseLine - 1, 0));\n    const precolumns = ' '.repeat(Math.max(baseColumn - 1, 0));\n    const lines = (prelines + precolumns + source).split(/\\r\\n?|\\n|\\f/);\n    const startLine = Math.max(1, line - extraLines) - 1;\n    const endLine = Math.min(line + extraLines, lines.length + 1);\n    const maxNumLength = Math.max(4, String(endLine).length) + 1;\n    let cutLeft = 0;\n\n    // column correction according to replaced tab before column\n    column += (TAB_REPLACEMENT.length - 1) * (lines[line - 1].substr(0, column - 1).match(/\\t/g) || []).length;\n\n    if (column > MAX_LINE_LENGTH) {\n        cutLeft = column - OFFSET_CORRECTION + 3;\n        column = OFFSET_CORRECTION - 2;\n    }\n\n    for (let i = startLine; i <= endLine; i++) {\n        if (i >= 0 && i < lines.length) {\n            lines[i] = lines[i].replace(/\\t/g, TAB_REPLACEMENT);\n            lines[i] =\n                (cutLeft > 0 && lines[i].length > cutLeft ? '\\u2026' : '') +\n                lines[i].substr(cutLeft, MAX_LINE_LENGTH - 2) +\n                (lines[i].length > cutLeft + MAX_LINE_LENGTH - 1 ? '\\u2026' : '');\n        }\n    }\n\n    return [\n        processLines(startLine, line),\n        new Array(column + maxNumLength + 2).join('-') + '^',\n        processLines(line, endLine)\n    ].filter(Boolean)\n        .join('\\n')\n        .replace(/^(\\s+\\d+\\s+\\|\\n)+/, '')\n        .replace(/\\n(\\s+\\d+\\s+\\|)+$/, '');\n}\n\nexport function SyntaxError(message, source, offset, line, column, baseLine = 1, baseColumn = 1) {\n    const error = Object.assign(createCustomError('SyntaxError', message), {\n        source,\n        offset,\n        line,\n        column,\n        sourceFragment(extraLines) {\n            return sourceFragment({ source, line, column, baseLine, baseColumn }, isNaN(extraLines) ? 0 : extraLines);\n        },\n        get formattedMessage() {\n            return (\n                `Parse error: ${message}\\n` +\n                sourceFragment({ source, line, column, baseLine, baseColumn }, 2)\n            );\n        }\n    });\n\n    return error;\n}\n", "import { WhiteSpace, Comment } from '../tokenizer/index.js';\n\nexport function readSequence(recognizer) {\n    const children = this.createList();\n    let space = false;\n    const context = {\n        recognizer\n    };\n\n    while (!this.eof) {\n        switch (this.tokenType) {\n            case Comment:\n                this.next();\n                continue;\n\n            case WhiteSpace:\n                space = true;\n                this.next();\n                continue;\n        }\n\n        let child = recognizer.getNode.call(this, context);\n\n        if (child === undefined) {\n            break;\n        }\n\n        if (space) {\n            if (recognizer.onWhiteSpace) {\n                recognizer.onWhiteSpace.call(this, child, children, context);\n            }\n            space = false;\n        }\n\n        children.push(child);\n    }\n\n    if (space && recognizer.onWhiteSpace) {\n        recognizer.onWhiteSpace.call(this, null, children, context);\n    }\n\n    return children;\n};\n", "import { List } from '../utils/List.js';\nimport { SyntaxError } from './SyntaxError.js';\nimport {\n    tokenize,\n    OffsetToLocation,\n    TokenStream,\n    tokenNames,\n\n    consumeNumber,\n    findWhiteSpaceStart,\n    cmpChar,\n    cmpStr,\n\n    WhiteSpace,\n    Comment,\n    Ident,\n    Function as FunctionToken,\n    Url,\n    Hash,\n    Percentage,\n    Number as NumberToken\n} from '../tokenizer/index.js';\nimport { readSequence } from './sequence.js';\n\nconst NOOP = () => {};\nconst EXCLAMATIONMARK = 0x0021;  // U+0021 EXCLAMATION MARK (!)\nconst NUMBERSIGN = 0x0023;       // U+0023 NUMBER SIGN (#)\nconst SEMICOLON = 0x003B;        // U+003B SEMICOLON (;)\nconst LEFTCURLYBRACKET = 0x007B; // U+007B LEFT CURLY BRACKET ({)\nconst NULL = 0;\n\nfunction createParseContext(name) {\n    return function() {\n        return this[name]();\n    };\n}\n\nfunction fetchParseValues(dict) {\n    const result = Object.create(null);\n\n    for (const name of Object.keys(dict)) {\n        const item = dict[name];\n        const fn = item.parse || item;\n\n        if (fn) {\n            result[name] = fn;\n        }\n    }\n\n    return result;\n}\n\nfunction processConfig(config) {\n    const parseConfig = {\n        context: Object.create(null),\n        features: Object.assign(Object.create(null), config.features),\n        scope: Object.assign(Object.create(null), config.scope),\n        atrule: fetchParseValues(config.atrule),\n        pseudo: fetchParseValues(config.pseudo),\n        node: fetchParseValues(config.node)\n    };\n\n    for (const [name, context] of Object.entries(config.parseContext)) {\n        switch (typeof context) {\n            case 'function':\n                parseConfig.context[name] = context;\n                break;\n\n            case 'string':\n                parseConfig.context[name] = createParseContext(context);\n                break;\n        }\n    }\n\n    return {\n        config: parseConfig,\n        ...parseConfig,\n        ...parseConfig.node\n    };\n}\n\nexport function createParser(config) {\n    let source = '';\n    let filename = '<unknown>';\n    let needPositions = false;\n    let onParseError = NOOP;\n    let onParseErrorThrow = false;\n\n    const locationMap = new OffsetToLocation();\n    const parser = Object.assign(new TokenStream(), processConfig(config || {}), {\n        parseAtrulePrelude: true,\n        parseRulePrelude: true,\n        parseValue: true,\n        parseCustomProperty: false,\n\n        readSequence,\n\n        consumeUntilBalanceEnd: () => 0,\n        consumeUntilLeftCurlyBracket(code) {\n            return code === LEFTCURLYBRACKET ? 1 : 0;\n        },\n        consumeUntilLeftCurlyBracketOrSemicolon(code) {\n            return code === LEFTCURLYBRACKET || code === SEMICOLON ? 1 : 0;\n        },\n        consumeUntilExclamationMarkOrSemicolon(code) {\n            return code === EXCLAMATIONMARK || code === SEMICOLON ? 1 : 0;\n        },\n        consumeUntilSemicolonIncluded(code) {\n            return code === SEMICOLON ? 2 : 0;\n        },\n\n        createList() {\n            return new List();\n        },\n        createSingleNodeList(node) {\n            return new List().appendData(node);\n        },\n        getFirstListNode(list) {\n            return list && list.first;\n        },\n        getLastListNode(list) {\n            return list && list.last;\n        },\n\n        parseWithFallback(consumer, fallback) {\n            const startIndex = this.tokenIndex;\n\n            try {\n                return consumer.call(this);\n            } catch (e) {\n                if (onParseErrorThrow) {\n                    throw e;\n                }\n\n                this.skip(startIndex - this.tokenIndex);\n                const fallbackNode = fallback.call(this);\n\n                onParseErrorThrow = true;\n                onParseError(e, fallbackNode);\n                onParseErrorThrow = false;\n\n                return fallbackNode;\n            }\n        },\n\n        lookupNonWSType(offset) {\n            let type;\n\n            do {\n                type = this.lookupType(offset++);\n                if (type !== WhiteSpace && type !== Comment) {\n                    return type;\n                }\n            } while (type !== NULL);\n\n            return NULL;\n        },\n\n        charCodeAt(offset) {\n            return offset >= 0 && offset < source.length ? source.charCodeAt(offset) : 0;\n        },\n        substring(offsetStart, offsetEnd) {\n            return source.substring(offsetStart, offsetEnd);\n        },\n        substrToCursor(start) {\n            return this.source.substring(start, this.tokenStart);\n        },\n\n        cmpChar(offset, charCode) {\n            return cmpChar(source, offset, charCode);\n        },\n        cmpStr(offsetStart, offsetEnd, str) {\n            return cmpStr(source, offsetStart, offsetEnd, str);\n        },\n\n        consume(tokenType) {\n            const start = this.tokenStart;\n\n            this.eat(tokenType);\n\n            return this.substrToCursor(start);\n        },\n        consumeFunctionName() {\n            const name = source.substring(this.tokenStart, this.tokenEnd - 1);\n\n            this.eat(FunctionToken);\n\n            return name;\n        },\n        consumeNumber(type) {\n            const number = source.substring(this.tokenStart, consumeNumber(source, this.tokenStart));\n\n            this.eat(type);\n\n            return number;\n        },\n\n        eat(tokenType) {\n            if (this.tokenType !== tokenType) {\n                const tokenName = tokenNames[tokenType].slice(0, -6).replace(/-/g, ' ').replace(/^./, m => m.toUpperCase());\n                let message = `${/[[\\](){}]/.test(tokenName) ? `\"${tokenName}\"` : tokenName} is expected`;\n                let offset = this.tokenStart;\n\n                // tweak message and offset\n                switch (tokenType) {\n                    case Ident:\n                        // when identifier is expected but there is a function or url\n                        if (this.tokenType === FunctionToken || this.tokenType === Url) {\n                            offset = this.tokenEnd - 1;\n                            message = 'Identifier is expected but function found';\n                        } else {\n                            message = 'Identifier is expected';\n                        }\n                        break;\n\n                    case Hash:\n                        if (this.isDelim(NUMBERSIGN)) {\n                            this.next();\n                            offset++;\n                            message = 'Name is expected';\n                        }\n                        break;\n\n                    case Percentage:\n                        if (this.tokenType === NumberToken) {\n                            offset = this.tokenEnd;\n                            message = 'Percent sign is expected';\n                        }\n                        break;\n                }\n\n                this.error(message, offset);\n            }\n\n            this.next();\n        },\n        eatIdent(name) {\n            if (this.tokenType !== Ident || this.lookupValue(0, name) === false) {\n                this.error(`Identifier \"${name}\" is expected`);\n            }\n\n            this.next();\n        },\n        eatDelim(code) {\n            if (!this.isDelim(code)) {\n                this.error(`Delim \"${String.fromCharCode(code)}\" is expected`);\n            }\n\n            this.next();\n        },\n\n        getLocation(start, end) {\n            if (needPositions) {\n                return locationMap.getLocationRange(\n                    start,\n                    end,\n                    filename\n                );\n            }\n\n            return null;\n        },\n        getLocationFromList(list) {\n            if (needPositions) {\n                const head = this.getFirstListNode(list);\n                const tail = this.getLastListNode(list);\n                return locationMap.getLocationRange(\n                    head !== null ? head.loc.start.offset - locationMap.startOffset : this.tokenStart,\n                    tail !== null ? tail.loc.end.offset - locationMap.startOffset : this.tokenStart,\n                    filename\n                );\n            }\n\n            return null;\n        },\n\n        error(message, offset) {\n            const location = typeof offset !== 'undefined' && offset < source.length\n                ? locationMap.getLocation(offset)\n                : this.eof\n                    ? locationMap.getLocation(findWhiteSpaceStart(source, source.length - 1))\n                    : locationMap.getLocation(this.tokenStart);\n\n            throw new SyntaxError(\n                message || 'Unexpected input',\n                source,\n                location.offset,\n                location.line,\n                location.column,\n                locationMap.startLine,\n                locationMap.startColumn\n            );\n        }\n    });\n\n    const parse = function(source_, options) {\n        source = source_;\n        options = options || {};\n\n        parser.setSource(source, tokenize);\n        locationMap.setSource(\n            source,\n            options.offset,\n            options.line,\n            options.column\n        );\n\n        filename = options.filename || '<unknown>';\n        needPositions = Boolean(options.positions);\n        onParseError = typeof options.onParseError === 'function' ? options.onParseError : NOOP;\n        onParseErrorThrow = false;\n\n        parser.parseAtrulePrelude = 'parseAtrulePrelude' in options ? Boolean(options.parseAtrulePrelude) : true;\n        parser.parseRulePrelude = 'parseRulePrelude' in options ? Boolean(options.parseRulePrelude) : true;\n        parser.parseValue = 'parseValue' in options ? Boolean(options.parseValue) : true;\n        parser.parseCustomProperty = 'parseCustomProperty' in options ? Boolean(options.parseCustomProperty) : false;\n\n        const { context = 'default', onComment } = options;\n\n        if (context in parser.context === false) {\n            throw new Error('Unknown context `' + context + '`');\n        }\n\n        if (typeof onComment === 'function') {\n            parser.forEachToken((type, start, end) => {\n                if (type === Comment) {\n                    const loc = parser.getLocation(start, end);\n                    const value = cmpStr(source, end - 2, end, '*/')\n                        ? source.slice(start + 2, end - 2)\n                        : source.slice(start + 2, end);\n\n                    onComment(value, loc);\n                }\n            });\n        }\n\n        const ast = parser.context[context].call(parser, options);\n\n        if (!parser.eof) {\n            parser.error();\n        }\n\n        return ast;\n    };\n\n    return Object.assign(parse, {\n        SyntaxError,\n        config: parser.config\n    });\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\nvar MAX_CACHED_INPUTS = 32;\n\n/**\n * Takes some function `f(input) -> result` and returns a memoized version of\n * `f`.\n *\n * We keep at most `MAX_CACHED_INPUTS` memoized results of `f` alive. The\n * memoization is a dumb-simple, linear least-recently-used cache.\n */\nfunction lruMemoize(f) {\n  var cache = [];\n\n  return function(input) {\n    for (var i = 0; i < cache.length; i++) {\n      if (cache[i].input === input) {\n        var temp = cache[0];\n        cache[0] = cache[i];\n        cache[i] = temp;\n        return cache[0].result;\n      }\n    }\n\n    var result = f(input);\n\n    cache.unshift({\n      input,\n      result,\n    });\n\n    if (cache.length > MAX_CACHED_INPUTS) {\n      cache.pop();\n    }\n\n    return result;\n  };\n}\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nvar normalize = lruMemoize(function normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n  // Split the path into parts between `/` characters. This is much faster than\n  // using `.split(/\\/+/g)`.\n  var parts = [];\n  var start = 0;\n  var i = 0;\n  while (true) {\n    start = i;\n    i = path.indexOf(\"/\", start);\n    if (i === -1) {\n      parts.push(path.slice(start));\n      break;\n    } else {\n      parts.push(path.slice(start, i));\n      while (i < path.length && path[i] === \"/\") {\n        i++;\n      }\n    }\n  }\n\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n});\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\nfunction compareByOriginalPositionsNoSource(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositionsNoSource = compareByOriginalPositionsNoSource;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction compareByGeneratedPositionsDeflatedNoLine(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflatedNoLine = compareByGeneratedPositionsDeflatedNoLine;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   “sources” entry.  This value is prepended to the individual\n    //   entries in the “source” field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   “sourceRoot”, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._ignoreInvalidMapping = util.getArg(aArgs, 'ignoreInvalidMapping', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer, generatorOps) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator(Object.assign(generatorOps || {}, {\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    }));\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      if (this._validateMapping(generated, original, source, name) === false) {\n        return;\n      }\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n      var message = 'original.line and original.column are not numbers -- you probably meant to omit ' +\n      'the original mapping entirely and only map the generated position. If so, pass ' +\n      'null for the original mapping instead of an object with empty or null values.'\n\n      if (this._ignoreInvalidMapping) {\n        if (typeof console !== 'undefined' && console.warn) {\n          console.warn(message);\n        }\n        return false;\n      } else {\n        throw new Error(message);\n      }\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      var message = 'Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      });\n\n      if (this._ignoreInvalidMapping) {\n        if (typeof console !== 'undefined' && console.warn) {\n          console.warn(message);\n        }\n        return false;\n      } else {\n        throw new Error(message)\n      }\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n", "import { SourceMapGenerator } from 'source-map-js/lib/source-map-generator.js';\n\nconst trackNodes = new Set(['Atrule', 'Selector', 'Declaration']);\n\nexport function generateSourceMap(handlers) {\n    const map = new SourceMapGenerator();\n    const generated = {\n        line: 1,\n        column: 0\n    };\n    const original = {\n        line: 0, // should be zero to add first mapping\n        column: 0\n    };\n    const activatedGenerated = {\n        line: 1,\n        column: 0\n    };\n    const activatedMapping = {\n        generated: activatedGenerated\n    };\n    let line = 1;\n    let column = 0;\n    let sourceMappingActive = false;\n\n    const origHandlersNode = handlers.node;\n    handlers.node = function(node) {\n        if (node.loc && node.loc.start && trackNodes.has(node.type)) {\n            const nodeLine = node.loc.start.line;\n            const nodeColumn = node.loc.start.column - 1;\n\n            if (original.line !== nodeLine ||\n                original.column !== nodeColumn) {\n                original.line = nodeLine;\n                original.column = nodeColumn;\n\n                generated.line = line;\n                generated.column = column;\n\n                if (sourceMappingActive) {\n                    sourceMappingActive = false;\n                    if (generated.line !== activatedGenerated.line ||\n                        generated.column !== activatedGenerated.column) {\n                        map.addMapping(activatedMapping);\n                    }\n                }\n\n                sourceMappingActive = true;\n                map.addMapping({\n                    source: node.loc.source,\n                    original,\n                    generated\n                });\n            }\n        }\n\n        origHandlersNode.call(this, node);\n\n        if (sourceMappingActive && trackNodes.has(node.type)) {\n            activatedGenerated.line = line;\n            activatedGenerated.column = column;\n        }\n    };\n\n    const origHandlersEmit = handlers.emit;\n    handlers.emit = function(value, type, auto) {\n        for (let i = 0; i < value.length; i++) {\n            if (value.charCodeAt(i) === 10) { // \\n\n                line++;\n                column = 0;\n            } else {\n                column++;\n            }\n        }\n\n        origHandlersEmit(value, type, auto);\n    };\n\n    const origHandlersResult = handlers.result;\n    handlers.result = function() {\n        if (sourceMappingActive) {\n            map.addMapping(activatedMapping);\n        }\n\n        return {\n            css: origHandlersResult(),\n            map\n        };\n    };\n\n    return handlers;\n};\n", "import {\n    WhiteSpace,\n    Delim,\n    Ident,\n    Function as FunctionToken,\n    Url,\n    BadUrl,\n    AtKeyword,\n    Hash,\n    Percentage,\n    Dimension,\n    Number as NumberToken,\n    String as StringToken,\n    Colon,\n    LeftParenthesis,\n    RightParenthesis,\n    CDC\n} from '../tokenizer/index.js';\n\nconst PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nconst HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\n\nconst code = (type, value) => {\n    if (type === Delim) {\n        type = value;\n    }\n\n    if (typeof type === 'string') {\n        const charCode = type.charCodeAt(0);\n        return charCode > 0x7F ? 0x8000 : charCode << 8;\n    }\n\n    return type;\n};\n\n// https://www.w3.org/TR/css-syntax-3/#serialization\n// The only requirement for serialization is that it must \"round-trip\" with parsing,\n// that is, parsing the stylesheet must produce the same data structures as parsing,\n// serializing, and parsing again, except for consecutive <whitespace-token>s,\n// which may be collapsed into a single token.\n\nconst specPairs = [\n    [Ident, Ident],\n    [Ident, FunctionToken],\n    [Ident, Url],\n    [Ident, BadUrl],\n    [Ident, '-'],\n    [Ident, NumberToken],\n    [Ident, Percentage],\n    [Ident, Dimension],\n    [Ident, CDC],\n    [Ident, LeftParenthesis],\n\n    [AtKeyword, Ident],\n    [AtKeyword, FunctionToken],\n    [AtKeyword, Url],\n    [AtKeyword, BadUrl],\n    [AtKeyword, '-'],\n    [AtKeyword, NumberToken],\n    [AtKeyword, Percentage],\n    [AtKeyword, Dimension],\n    [AtKeyword, CDC],\n\n    [Hash, Ident],\n    [Hash, FunctionToken],\n    [Hash, Url],\n    [Hash, BadUrl],\n    [Hash, '-'],\n    [Hash, NumberToken],\n    [Hash, Percentage],\n    [Hash, Dimension],\n    [Hash, CDC],\n\n    [Dimension, Ident],\n    [Dimension, FunctionToken],\n    [Dimension, Url],\n    [Dimension, BadUrl],\n    [Dimension, '-'],\n    [Dimension, NumberToken],\n    [Dimension, Percentage],\n    [Dimension, Dimension],\n    [Dimension, CDC],\n\n    ['#', Ident],\n    ['#', FunctionToken],\n    ['#', Url],\n    ['#', BadUrl],\n    ['#', '-'],\n    ['#', NumberToken],\n    ['#', Percentage],\n    ['#', Dimension],\n    ['#', CDC], // https://github.com/w3c/csswg-drafts/pull/6874\n\n    ['-', Ident],\n    ['-', FunctionToken],\n    ['-', Url],\n    ['-', BadUrl],\n    ['-', '-'],\n    ['-', NumberToken],\n    ['-', Percentage],\n    ['-', Dimension],\n    ['-', CDC], // https://github.com/w3c/csswg-drafts/pull/6874\n\n    [NumberToken, Ident],\n    [NumberToken, FunctionToken],\n    [NumberToken, Url],\n    [NumberToken, BadUrl],\n    [NumberToken, NumberToken],\n    [NumberToken, Percentage],\n    [NumberToken, Dimension],\n    [NumberToken, '%'],\n    [NumberToken, CDC], // https://github.com/w3c/csswg-drafts/pull/6874\n\n    ['@', Ident],\n    ['@', FunctionToken],\n    ['@', Url],\n    ['@', BadUrl],\n    ['@', '-'],\n    ['@', CDC], // https://github.com/w3c/csswg-drafts/pull/6874\n\n    ['.', NumberToken],\n    ['.', Percentage],\n    ['.', Dimension],\n\n    ['+', NumberToken],\n    ['+', Percentage],\n    ['+', Dimension],\n\n    ['/', '*']\n];\n// validate with scripts/generate-safe\nconst safePairs = specPairs.concat([\n    [Ident, Hash],\n\n    [Dimension, Hash],\n\n    [Hash, Hash],\n\n    [AtKeyword, LeftParenthesis],\n    [AtKeyword, StringToken],\n    [AtKeyword, Colon],\n\n    [Percentage, Percentage],\n    [Percentage, Dimension],\n    [Percentage, FunctionToken],\n    [Percentage, '-'],\n\n    [RightParenthesis, Ident],\n    [RightParenthesis, FunctionToken],\n    [RightParenthesis, Percentage],\n    [RightParenthesis, Dimension],\n    [RightParenthesis, Hash],\n    [RightParenthesis, '-']\n]);\n\nfunction createMap(pairs) {\n    const isWhiteSpaceRequired = new Set(\n        pairs.map(([prev, next]) => (code(prev) << 16 | code(next)))\n    );\n\n    return function(prevCode, type, value) {\n        const nextCode = code(type, value);\n        const nextCharCode = value.charCodeAt(0);\n        const emitWs =\n            (nextCharCode === HYPHENMINUS &&\n                type !== Ident &&\n                type !== FunctionToken &&\n                type !== CDC) ||\n            (nextCharCode === PLUSSIGN)\n                ? isWhiteSpaceRequired.has(prevCode << 16 | nextCharCode << 8)\n                : isWhiteSpaceRequired.has(prevCode << 16 | nextCode);\n\n        if (emitWs) {\n            this.emit(' ', WhiteSpace, true);\n        }\n\n        return nextCode;\n    };\n}\n\nexport const spec = createMap(specPairs);\nexport const safe = createMap(safePairs);\n", "import { tokenize, Delim, WhiteSpace } from '../tokenizer/index.js';\nimport { generateSourceMap } from './sourceMap.js';\nimport * as tokenBefore from './token-before.js';\n\nconst REVERSESOLIDUS = 0x005c; // U+005C REVERSE SOLIDUS (\\)\n\nfunction processChildren(node, delimeter) {\n    if (typeof delimeter === 'function') {\n        let prev = null;\n\n        node.children.forEach(node => {\n            if (prev !== null) {\n                delimeter.call(this, prev);\n            }\n\n            this.node(node);\n            prev = node;\n        });\n\n        return;\n    }\n\n    node.children.forEach(this.node, this);\n}\n\nfunction processChunk(chunk) {\n    tokenize(chunk, (type, start, end) => {\n        this.token(type, chunk.slice(start, end));\n    });\n}\n\nexport function createGenerator(config) {\n    const types = new Map();\n\n    for (let [name, item] of Object.entries(config.node)) {\n        const fn = item.generate || item;\n\n        if (typeof fn === 'function') {\n            types.set(name, item.generate || item);\n        }\n    }\n\n    return function(node, options) {\n        let buffer = '';\n        let prevCode = 0;\n        let handlers = {\n            node(node) {\n                if (types.has(node.type)) {\n                    types.get(node.type).call(publicApi, node);\n                } else {\n                    throw new Error('Unknown node type: ' + node.type);\n                }\n            },\n            tokenBefore: tokenBefore.safe,\n            token(type, value) {\n                prevCode = this.tokenBefore(prevCode, type, value);\n\n                this.emit(value, type, false);\n\n                if (type === Delim && value.charCodeAt(0) === REVERSESOLIDUS) {\n                    this.emit('\\n', WhiteSpace, true);\n                }\n            },\n            emit(value) {\n                buffer += value;\n            },\n            result() {\n                return buffer;\n            }\n        };\n\n        if (options) {\n            if (typeof options.decorator === 'function') {\n                handlers = options.decorator(handlers);\n            }\n\n            if (options.sourceMap) {\n                handlers = generateSourceMap(handlers);\n            }\n\n            if (options.mode in tokenBefore) {\n                handlers.tokenBefore = tokenBefore[options.mode];\n            }\n        }\n\n        const publicApi = {\n            node: (node) => handlers.node(node),\n            children: processChildren,\n            token: (type, value) => handlers.token(type, value),\n            tokenize: processChunk\n        };\n\n        handlers.node(node);\n\n        return handlers.result();\n    };\n};\n", "import { List } from '../utils/List.js';\n\nexport function createConvertor(walk) {\n    return {\n        fromPlainObject(ast) {\n            walk(ast, {\n                enter(node) {\n                    if (node.children && node.children instanceof List === false) {\n                        node.children = new List().fromArray(node.children);\n                    }\n                }\n            });\n\n            return ast;\n        },\n        toPlainObject(ast) {\n            walk(ast, {\n                leave(node) {\n                    if (node.children && node.children instanceof List) {\n                        node.children = node.children.toArray();\n                    }\n                }\n            });\n\n            return ast;\n        }\n    };\n};\n", "const { hasOwnProperty } = Object.prototype;\nconst noop = function() {};\n\nfunction ensureFunction(value) {\n    return typeof value === 'function' ? value : noop;\n}\n\nfunction invokeForType(fn, type) {\n    return function(node, item, list) {\n        if (node.type === type) {\n            fn.call(this, node, item, list);\n        }\n    };\n}\n\nfunction getWalkersFromStructure(name, nodeType) {\n    const structure = nodeType.structure;\n    const walkers = [];\n\n    for (const key in structure) {\n        if (hasOwnProperty.call(structure, key) === false) {\n            continue;\n        }\n\n        let fieldTypes = structure[key];\n        const walker = {\n            name: key,\n            type: false,\n            nullable: false\n        };\n\n        if (!Array.isArray(fieldTypes)) {\n            fieldTypes = [fieldTypes];\n        }\n\n        for (const fieldType of fieldTypes) {\n            if (fieldType === null) {\n                walker.nullable = true;\n            } else if (typeof fieldType === 'string') {\n                walker.type = 'node';\n            } else if (Array.isArray(fieldType)) {\n                walker.type = 'list';\n            }\n        }\n\n        if (walker.type) {\n            walkers.push(walker);\n        }\n    }\n\n    if (walkers.length) {\n        return {\n            context: nodeType.walkContext,\n            fields: walkers\n        };\n    }\n\n    return null;\n}\n\nfunction getTypesFromConfig(config) {\n    const types = {};\n\n    for (const name in config.node) {\n        if (hasOwnProperty.call(config.node, name)) {\n            const nodeType = config.node[name];\n\n            if (!nodeType.structure) {\n                throw new Error('Missed `structure` field in `' + name + '` node type definition');\n            }\n\n            types[name] = getWalkersFromStructure(name, nodeType);\n        }\n    }\n\n    return types;\n}\n\nfunction createTypeIterator(config, reverse) {\n    const fields = config.fields.slice();\n    const contextName = config.context;\n    const useContext = typeof contextName === 'string';\n\n    if (reverse) {\n        fields.reverse();\n    }\n\n    return function(node, context, walk, walkReducer) {\n        let prevContextValue;\n\n        if (useContext) {\n            prevContextValue = context[contextName];\n            context[contextName] = node;\n        }\n\n        for (const field of fields) {\n            const ref = node[field.name];\n\n            if (!field.nullable || ref) {\n                if (field.type === 'list') {\n                    const breakWalk = reverse\n                        ? ref.reduceRight(walkReducer, false)\n                        : ref.reduce(walkReducer, false);\n\n                    if (breakWalk) {\n                        return true;\n                    }\n                } else if (walk(ref)) {\n                    return true;\n                }\n            }\n        }\n\n        if (useContext) {\n            context[contextName] = prevContextValue;\n        }\n    };\n}\n\nfunction createFastTraveralMap({\n    StyleSheet,\n    Atrule,\n    Rule,\n    Block,\n    DeclarationList\n}) {\n    return {\n        Atrule: {\n            StyleSheet,\n            Atrule,\n            Rule,\n            Block\n        },\n        Rule: {\n            StyleSheet,\n            Atrule,\n            Rule,\n            Block\n        },\n        Declaration: {\n            StyleSheet,\n            Atrule,\n            Rule,\n            Block,\n            DeclarationList\n        }\n    };\n}\n\nexport function createWalker(config) {\n    const types = getTypesFromConfig(config);\n    const iteratorsNatural = {};\n    const iteratorsReverse = {};\n    const breakWalk = Symbol('break-walk');\n    const skipNode = Symbol('skip-node');\n\n    for (const name in types) {\n        if (hasOwnProperty.call(types, name) && types[name] !== null) {\n            iteratorsNatural[name] = createTypeIterator(types[name], false);\n            iteratorsReverse[name] = createTypeIterator(types[name], true);\n        }\n    }\n\n    const fastTraversalIteratorsNatural = createFastTraveralMap(iteratorsNatural);\n    const fastTraversalIteratorsReverse = createFastTraveralMap(iteratorsReverse);\n\n    const walk = function(root, options) {\n        function walkNode(node, item, list) {\n            const enterRet = enter.call(context, node, item, list);\n\n            if (enterRet === breakWalk) {\n                return true;\n            }\n\n            if (enterRet === skipNode) {\n                return false;\n            }\n\n            if (iterators.hasOwnProperty(node.type)) {\n                if (iterators[node.type](node, context, walkNode, walkReducer)) {\n                    return true;\n                }\n            }\n\n            if (leave.call(context, node, item, list) === breakWalk) {\n                return true;\n            }\n\n            return false;\n        }\n\n        let enter = noop;\n        let leave = noop;\n        let iterators = iteratorsNatural;\n        let walkReducer = (ret, data, item, list) => ret || walkNode(data, item, list);\n        const context = {\n            break: breakWalk,\n            skip: skipNode,\n\n            root,\n            stylesheet: null,\n            atrule: null,\n            atrulePrelude: null,\n            rule: null,\n            selector: null,\n            block: null,\n            declaration: null,\n            function: null\n        };\n\n        if (typeof options === 'function') {\n            enter = options;\n        } else if (options) {\n            enter = ensureFunction(options.enter);\n            leave = ensureFunction(options.leave);\n\n            if (options.reverse) {\n                iterators = iteratorsReverse;\n            }\n\n            if (options.visit) {\n                if (fastTraversalIteratorsNatural.hasOwnProperty(options.visit)) {\n                    iterators = options.reverse\n                        ? fastTraversalIteratorsReverse[options.visit]\n                        : fastTraversalIteratorsNatural[options.visit];\n                } else if (!types.hasOwnProperty(options.visit)) {\n                    throw new Error('Bad value `' + options.visit + '` for `visit` option (should be: ' + Object.keys(types).sort().join(', ') + ')');\n                }\n\n                enter = invokeForType(enter, options.visit);\n                leave = invokeForType(leave, options.visit);\n            }\n        }\n\n        if (enter === noop && leave === noop) {\n            throw new Error('Neither `enter` nor `leave` walker handler is set or both aren\\'t a function');\n        }\n\n        walkNode(root);\n    };\n\n    walk.break = breakWalk;\n    walk.skip = skipNode;\n\n    walk.find = function(ast, fn) {\n        let found = null;\n\n        walk(ast, function(node, item, list) {\n            if (fn.call(this, node, item, list)) {\n                found = node;\n                return breakWalk;\n            }\n        });\n\n        return found;\n    };\n\n    walk.findLast = function(ast, fn) {\n        let found = null;\n\n        walk(ast, {\n            reverse: true,\n            enter(node, item, list) {\n                if (fn.call(this, node, item, list)) {\n                    found = node;\n                    return breakWalk;\n                }\n            }\n        });\n\n        return found;\n    };\n\n    walk.findAll = function(ast, fn) {\n        const found = [];\n\n        walk(ast, function(node, item, list) {\n            if (fn.call(this, node, item, list)) {\n                found.push(node);\n            }\n        });\n\n        return found;\n    };\n\n    return walk;\n};\n", "function noop(value) {\n    return value;\n}\n\nfunction generateMultiplier(multiplier) {\n    const { min, max, comma } = multiplier;\n\n    if (min === 0 && max === 0) {\n        return comma ? '#?' : '*';\n    }\n\n    if (min === 0 && max === 1) {\n        return '?';\n    }\n\n    if (min === 1 && max === 0) {\n        return comma ? '#' : '+';\n    }\n\n    if (min === 1 && max === 1) {\n        return '';\n    }\n\n    return (\n        (comma ? '#' : '') +\n        (min === max\n            ? '{' + min + '}'\n            : '{' + min + ',' + (max !== 0 ? max : '') + '}'\n        )\n    );\n}\n\nfunction generateTypeOpts(node) {\n    switch (node.type) {\n        case 'Range':\n            return (\n                ' [' +\n                (node.min === null ? '-∞' : node.min) +\n                ',' +\n                (node.max === null ? '∞' : node.max) +\n                ']'\n            );\n\n        default:\n            throw new Error('Unknown node type `' + node.type + '`');\n    }\n}\n\nfunction generateSequence(node, decorate, forceBraces, compact) {\n    const combinator = node.combinator === ' ' || compact ? node.combinator : ' ' + node.combinator + ' ';\n    const result = node.terms\n        .map(term => internalGenerate(term, decorate, forceBraces, compact))\n        .join(combinator);\n\n    if (node.explicit || forceBraces) {\n        return (compact || result[0] === ',' ? '[' : '[ ') + result + (compact ? ']' : ' ]');\n    }\n\n    return result;\n}\n\nfunction internalGenerate(node, decorate, forceBraces, compact) {\n    let result;\n\n    switch (node.type) {\n        case 'Group':\n            result =\n                generateSequence(node, decorate, forceBraces, compact) +\n                (node.disallowEmpty ? '!' : '');\n            break;\n\n        case 'Multiplier':\n            // return since node is a composition\n            return (\n                internalGenerate(node.term, decorate, forceBraces, compact) +\n                decorate(generateMultiplier(node), node)\n            );\n\n        case 'Type':\n            result = '<' + node.name + (node.opts ? decorate(generateTypeOpts(node.opts), node.opts) : '') + '>';\n            break;\n\n        case 'Property':\n            result = '<\\'' + node.name + '\\'>';\n            break;\n\n        case 'Keyword':\n            result = node.name;\n            break;\n\n        case 'AtKeyword':\n            result = '@' + node.name;\n            break;\n\n        case 'Function':\n            result = node.name + '(';\n            break;\n\n        case 'String':\n        case 'Token':\n            result = node.value;\n            break;\n\n        case 'Comma':\n            result = ',';\n            break;\n\n        default:\n            throw new Error('Unknown node type `' + node.type + '`');\n    }\n\n    return decorate(result, node);\n}\n\nexport function generate(node, options) {\n    let decorate = noop;\n    let forceBraces = false;\n    let compact = false;\n\n    if (typeof options === 'function') {\n        decorate = options;\n    } else if (options) {\n        forceBraces = Boolean(options.forceBraces);\n        compact = Boolean(options.compact);\n        if (typeof options.decorate === 'function') {\n            decorate = options.decorate;\n        }\n    }\n\n    return internalGenerate(node, decorate, forceBraces, compact);\n};\n", "import { createCustomError } from '../utils/create-custom-error.js';\nimport { generate } from '../definition-syntax/generate.js';\n\nconst defaultLoc = { offset: 0, line: 1, column: 1 };\n\nfunction locateMismatch(matchResult, node) {\n    const tokens = matchResult.tokens;\n    const longestMatch = matchResult.longestMatch;\n    const mismatchNode = longestMatch < tokens.length ? tokens[longestMatch].node || null : null;\n    const badNode = mismatchNode !== node ? mismatchNode : null;\n    let mismatchOffset = 0;\n    let mismatchLength = 0;\n    let entries = 0;\n    let css = '';\n    let start;\n    let end;\n\n    for (let i = 0; i < tokens.length; i++) {\n        const token = tokens[i].value;\n\n        if (i === longestMatch) {\n            mismatchLength = token.length;\n            mismatchOffset = css.length;\n        }\n\n        if (badNode !== null && tokens[i].node === badNode) {\n            if (i <= longestMatch) {\n                entries++;\n            } else {\n                entries = 0;\n            }\n        }\n\n        css += token;\n    }\n\n    if (longestMatch === tokens.length || entries > 1) { // last\n        start = fromLoc(badNode || node, 'end') || buildLoc(defaultLoc, css);\n        end = buildLoc(start);\n    } else {\n        start = fromLoc(badNode, 'start') ||\n            buildLoc(fromLoc(node, 'start') || defaultLoc, css.slice(0, mismatchOffset));\n        end = fromLoc(badNode, 'end') ||\n            buildLoc(start, css.substr(mismatchOffset, mismatchLength));\n    }\n\n    return {\n        css,\n        mismatchOffset,\n        mismatchLength,\n        start,\n        end\n    };\n}\n\nfunction fromLoc(node, point) {\n    const value = node && node.loc && node.loc[point];\n\n    if (value) {\n        return 'line' in value ? buildLoc(value) : value;\n    }\n\n    return null;\n}\n\nfunction buildLoc({ offset, line, column }, extra) {\n    const loc = {\n        offset,\n        line,\n        column\n    };\n\n    if (extra) {\n        const lines = extra.split(/\\n|\\r\\n?|\\f/);\n\n        loc.offset += extra.length;\n        loc.line += lines.length - 1;\n        loc.column = lines.length === 1 ? loc.column + extra.length : lines.pop().length + 1;\n    }\n\n    return loc;\n}\n\nexport const SyntaxReferenceError = function(type, referenceName) {\n    const error = createCustomError(\n        'SyntaxReferenceError',\n        type + (referenceName ? ' `' + referenceName + '`' : '')\n    );\n\n    error.reference = referenceName;\n\n    return error;\n};\n\nexport const SyntaxMatchError = function(message, syntax, node, matchResult) {\n    const error = createCustomError('SyntaxMatchError', message);\n    const {\n        css,\n        mismatchOffset,\n        mismatchLength,\n        start,\n        end\n    } = locateMismatch(matchResult, node);\n\n    error.rawMessage = message;\n    error.syntax = syntax ? generate(syntax) : '<generic>';\n    error.css = css;\n    error.mismatchOffset = mismatchOffset;\n    error.mismatchLength = mismatchLength;\n    error.message = message + '\\n' +\n        '  syntax: ' + error.syntax + '\\n' +\n        '   value: ' + (css || '<empty string>') + '\\n' +\n        '  --------' + new Array(error.mismatchOffset + 1).join('-') + '^';\n\n    Object.assign(error, start);\n    error.loc = {\n        source: (node && node.loc && node.loc.source) || '<unknown>',\n        start,\n        end\n    };\n\n    return error;\n};\n", "const keywords = new Map();\nconst properties = new Map();\nconst HYPHENMINUS = 45; // '-'.charCodeAt()\n\nexport const keyword = getKeywordDescriptor;\nexport const property = getPropertyDescriptor;\nexport const vendorPrefix = getVendorPrefix;\nexport function isCustomProperty(str, offset) {\n    offset = offset || 0;\n\n    return str.length - offset >= 2 &&\n           str.charCodeAt(offset) === HYPHENMINUS &&\n           str.charCodeAt(offset + 1) === HYPHENMINUS;\n}\n\nfunction getVendorPrefix(str, offset) {\n    offset = offset || 0;\n\n    // verdor prefix should be at least 3 chars length\n    if (str.length - offset >= 3) {\n        // vendor prefix starts with hyper minus following non-hyper minus\n        if (str.charCodeAt(offset) === HYPHENMINUS &&\n            str.charCodeAt(offset + 1) !== HYPHENMINUS) {\n            // vendor prefix should contain a hyper minus at the ending\n            const secondDashIndex = str.indexOf('-', offset + 2);\n\n            if (secondDashIndex !== -1) {\n                return str.substring(offset, secondDashIndex + 1);\n            }\n        }\n    }\n\n    return '';\n}\n\nfunction getKeywordDescriptor(keyword) {\n    if (keywords.has(keyword)) {\n        return keywords.get(keyword);\n    }\n\n    const name = keyword.toLowerCase();\n    let descriptor = keywords.get(name);\n\n    if (descriptor === undefined) {\n        const custom = isCustomProperty(name, 0);\n        const vendor = !custom ? getVendorPrefix(name, 0) : '';\n        descriptor = Object.freeze({\n            basename: name.substr(vendor.length),\n            name,\n            prefix: vendor,\n            vendor,\n            custom\n        });\n    }\n\n    keywords.set(keyword, descriptor);\n\n    return descriptor;\n}\n\nfunction getPropertyDescriptor(property) {\n    if (properties.has(property)) {\n        return properties.get(property);\n    }\n\n    let name = property;\n    let hack = property[0];\n\n    if (hack === '/') {\n        hack = property[1] === '/' ? '//' : '/';\n    } else if (hack !== '_' &&\n               hack !== '*' &&\n               hack !== '$' &&\n               hack !== '#' &&\n               hack !== '+' &&\n               hack !== '&') {\n        hack = '';\n    }\n\n    const custom = isCustomProperty(name, hack.length);\n\n    // re-use result when possible (the same as for lower case)\n    if (!custom) {\n        name = name.toLowerCase();\n        if (properties.has(name)) {\n            const descriptor = properties.get(name);\n            properties.set(property, descriptor);\n            return descriptor;\n        }\n    }\n\n    const vendor = !custom ? getVendorPrefix(name, hack.length) : '';\n    const prefix = name.substr(0, hack.length + vendor.length);\n    const descriptor = Object.freeze({\n        basename: name.substr(prefix.length),\n        name: name.substr(hack.length),\n        hack,\n        vendor,\n        prefix,\n        custom\n    });\n\n    properties.set(property, descriptor);\n\n    return descriptor;\n}\n", "// https://drafts.csswg.org/css-cascade-5/\nexport const cssWideKeywords = [\n    'initial',\n    'inherit',\n    'unset',\n    'revert',\n    'revert-layer'\n];\n", "import {\n    isDigit,\n    cmpChar,\n    Delim,\n    WhiteSpace,\n    Comment,\n    Ident,\n    Number as NumberToken,\n    Dimension\n} from '../tokenizer/index.js';\n\nconst PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nconst HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nconst N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nconst DISALLOW_SIGN = true;\nconst ALLOW_SIGN = false;\n\nfunction isDelim(token, code) {\n    return token !== null && token.type === Delim && token.value.charCodeAt(0) === code;\n}\n\nfunction skipSC(token, offset, getNextToken) {\n    while (token !== null && (token.type === WhiteSpace || token.type === Comment)) {\n        token = getNextToken(++offset);\n    }\n\n    return offset;\n}\n\nfunction checkInteger(token, valueOffset, disallowSign, offset) {\n    if (!token) {\n        return 0;\n    }\n\n    const code = token.value.charCodeAt(valueOffset);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            // Number sign is not allowed\n            return 0;\n        }\n        valueOffset++;\n    }\n\n    for (; valueOffset < token.value.length; valueOffset++) {\n        if (!isDigit(token.value.charCodeAt(valueOffset))) {\n            // Integer is expected\n            return 0;\n        }\n    }\n\n    return offset + 1;\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB(token, offset_, getNextToken) {\n    let sign = false;\n    let offset = skipSC(token, offset_, getNextToken);\n\n    token = getNextToken(offset);\n\n    if (token === null) {\n        return offset_;\n    }\n\n    if (token.type !== NumberToken) {\n        if (isDelim(token, PLUSSIGN) || isDelim(token, HYPHENMINUS)) {\n            sign = true;\n            offset = skipSC(getNextToken(++offset), offset, getNextToken);\n            token = getNextToken(offset);\n\n            if (token === null || token.type !== NumberToken) {\n                return 0;\n            }\n        } else {\n            return offset_;\n        }\n    }\n\n    if (!sign) {\n        const code = token.value.charCodeAt(0);\n        if (code !== PLUSSIGN && code !== HYPHENMINUS) {\n            // Number sign is expected\n            return 0;\n        }\n    }\n\n    return checkInteger(token, sign ? 0 : 1, sign, offset);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nexport default function anPlusB(token, getNextToken) {\n    /* eslint-disable brace-style*/\n    let offset = 0;\n\n    if (!token) {\n        return 0;\n    }\n\n    // <integer>\n    if (token.type === NumberToken) {\n        return checkInteger(token, 0, ALLOW_SIGN, offset); // b\n    }\n\n    // -n\n    // -n <signed-integer>\n    // -n ['+' | '-'] <signless-integer>\n    // -n- <signless-integer>\n    // <dashndashdigit-ident>\n    else if (token.type === Ident && token.value.charCodeAt(0) === HYPHENMINUS) {\n        // expect 1st char is N\n        if (!cmpChar(token.value, 1, N)) {\n            return 0;\n        }\n\n        switch (token.value.length) {\n            // -n\n            // -n <signed-integer>\n            // -n ['+' | '-'] <signless-integer>\n            case 2:\n                return consumeB(getNextToken(++offset), offset, getNextToken);\n\n            // -n- <signless-integer>\n            case 3:\n                if (token.value.charCodeAt(2) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n\n            // <dashndashdigit-ident>\n            default:\n                if (token.value.charCodeAt(2) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                return checkInteger(token, 3, DISALLOW_SIGN, offset);\n        }\n    }\n\n    // '+'? n\n    // '+'? n <signed-integer>\n    // '+'? n ['+' | '-'] <signless-integer>\n    // '+'? n- <signless-integer>\n    // '+'? <ndashdigit-ident>\n    else if (token.type === Ident || (isDelim(token, PLUSSIGN) && getNextToken(offset + 1).type === Ident)) {\n        // just ignore a plus\n        if (token.type !== Ident) {\n            token = getNextToken(++offset);\n        }\n\n        if (token === null || !cmpChar(token.value, 0, N)) {\n            return 0;\n        }\n\n        switch (token.value.length) {\n            // '+'? n\n            // '+'? n <signed-integer>\n            // '+'? n ['+' | '-'] <signless-integer>\n            case 1:\n                return consumeB(getNextToken(++offset), offset, getNextToken);\n\n            // '+'? n- <signless-integer>\n            case 2:\n                if (token.value.charCodeAt(1) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n\n            // '+'? <ndashdigit-ident>\n            default:\n                if (token.value.charCodeAt(1) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                return checkInteger(token, 2, DISALLOW_SIGN, offset);\n        }\n    }\n\n    // <ndashdigit-dimension>\n    // <ndash-dimension> <signless-integer>\n    // <n-dimension>\n    // <n-dimension> <signed-integer>\n    // <n-dimension> ['+' | '-'] <signless-integer>\n    else if (token.type === Dimension) {\n        let code = token.value.charCodeAt(0);\n        let sign = code === PLUSSIGN || code === HYPHENMINUS ? 1 : 0;\n        let i = sign;\n\n        for (; i < token.value.length; i++) {\n            if (!isDigit(token.value.charCodeAt(i))) {\n                break;\n            }\n        }\n\n        if (i === sign) {\n            // Integer is expected\n            return 0;\n        }\n\n        if (!cmpChar(token.value, i, N)) {\n            return 0;\n        }\n\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        if (i + 1 === token.value.length) {\n            return consumeB(getNextToken(++offset), offset, getNextToken);\n        } else {\n            if (token.value.charCodeAt(i + 1) !== HYPHENMINUS) {\n                return 0;\n            }\n\n            // <ndash-dimension> <signless-integer>\n            if (i + 2 === token.value.length) {\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n            }\n            // <ndashdigit-dimension>\n            else {\n                return checkInteger(token, i + 2, DISALLOW_SIGN, offset);\n            }\n        }\n    }\n\n    return 0;\n};\n", "import {\n    isHexDigit,\n    cmpChar,\n    Ident,\n    Delim,\n    Number as NumberToken,\n    Dimension\n} from '../tokenizer/index.js';\n\nconst PLUSSIGN = 0x002B;     // U+002B PLUS SIGN (+)\nconst HYPHENMINUS = 0x002D;  // U+002D HYPHEN-MINUS (-)\nconst QUESTIONMARK = 0x003F; // U+003F QUESTION MARK (?)\nconst U = 0x0075;            // U+0075 LATIN SMALL LETTER U (u)\n\nfunction isDelim(token, code) {\n    return token !== null && token.type === Delim && token.value.charCodeAt(0) === code;\n}\n\nfunction startsWith(token, code) {\n    return token.value.charCodeAt(0) === code;\n}\n\nfunction hexSequence(token, offset, allowDash) {\n    let hexlen = 0;\n\n    for (let pos = offset; pos < token.value.length; pos++) {\n        const code = token.value.charCodeAt(pos);\n\n        if (code === HYPHENMINUS && allowDash && hexlen !== 0) {\n            hexSequence(token, offset + hexlen + 1, false);\n            return 6; // dissallow following question marks\n        }\n\n        if (!isHexDigit(code)) {\n            return 0; // not a hex digit\n        }\n\n        if (++hexlen > 6) {\n            return 0; // too many hex digits\n        };\n    }\n\n    return hexlen;\n}\n\nfunction withQuestionMarkSequence(consumed, length, getNextToken) {\n    if (!consumed) {\n        return 0; // nothing consumed\n    }\n\n    while (isDelim(getNextToken(length), QUESTIONMARK)) {\n        if (++consumed > 6) {\n            return 0; // too many question marks\n        }\n\n        length++;\n    }\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#urange\n// Informally, the <urange> production has three forms:\n// U+0001\n//      Defines a range consisting of a single code point, in this case the code point \"1\".\n// U+0001-00ff\n//      Defines a range of codepoints between the first and the second value, in this case\n//      the range between \"1\" and \"ff\" (255 in decimal) inclusive.\n// U+00??\n//      Defines a range of codepoints where the \"?\" characters range over all hex digits,\n//      in this case defining the same as the value U+0000-00ff.\n// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat \"?\" as a hexadecimal digit).\n//\n// <urange> =\n//   u '+' <ident-token> '?'* |\n//   u <dimension-token> '?'* |\n//   u <number-token> '?'* |\n//   u <number-token> <dimension-token> |\n//   u <number-token> <number-token> |\n//   u '+' '?'+\nexport default function urange(token, getNextToken) {\n    let length = 0;\n\n    // should start with `u` or `U`\n    if (token === null || token.type !== Ident || !cmpChar(token.value, 0, U)) {\n        return 0;\n    }\n\n    token = getNextToken(++length);\n    if (token === null) {\n        return 0;\n    }\n\n    // u '+' <ident-token> '?'*\n    // u '+' '?'+\n    if (isDelim(token, PLUSSIGN)) {\n        token = getNextToken(++length);\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === Ident) {\n            // u '+' <ident-token> '?'*\n            return withQuestionMarkSequence(hexSequence(token, 0, true), ++length, getNextToken);\n        }\n\n        if (isDelim(token, QUESTIONMARK)) {\n            // u '+' '?'+\n            return withQuestionMarkSequence(1, ++length, getNextToken);\n        }\n\n        // Hex digit or question mark is expected\n        return 0;\n    }\n\n    // u <number-token> '?'*\n    // u <number-token> <dimension-token>\n    // u <number-token> <number-token>\n    if (token.type === NumberToken) {\n        const consumedHexLength = hexSequence(token, 1, true);\n        if (consumedHexLength === 0) {\n            return 0;\n        }\n\n        token = getNextToken(++length);\n        if (token === null) {\n            // u <number-token> <eof>\n            return length;\n        }\n\n        if (token.type === Dimension || token.type === NumberToken) {\n            // u <number-token> <dimension-token>\n            // u <number-token> <number-token>\n            if (!startsWith(token, HYPHENMINUS) || !hexSequence(token, 1, false)) {\n                return 0;\n            }\n\n            return length + 1;\n        }\n\n        // u <number-token> '?'*\n        return withQuestionMarkSequence(consumedHexLength, length, getNextToken);\n    }\n\n    // u <dimension-token> '?'*\n    if (token.type === Dimension) {\n        return withQuestionMarkSequence(hexSequence(token, 1, true), ++length, getNextToken);\n    }\n\n    return 0;\n};\n", "import { cssWideKeywords } from './generic-const.js';\nimport anPlusB from './generic-an-plus-b.js';\nimport urange from './generic-urange.js';\nimport {\n    isIdentifierStart,\n    isHexDigit,\n    isDigit,\n    cmpStr,\n    consumeNumber,\n\n    Ident,\n    Function as FunctionToken,\n    AtKeyword,\n    Hash,\n    String as StringToken,\n    BadString,\n    Url,\n    BadUrl,\n    Delim,\n    Number as NumberToken,\n    Percentage,\n    Dimension,\n    WhiteSpace,\n    CDO,\n    CDC,\n    Colon,\n    Semicolon,\n    Comma,\n    LeftSquareBracket,\n    RightSquareBracket,\n    LeftParenthesis,\n    RightParenthesis,\n    LeftCurlyBracket,\n    RightCurlyBracket\n} from '../tokenizer/index.js';\n\nconst calcFunctionNames = ['calc(', '-moz-calc(', '-webkit-calc('];\nconst balancePair = new Map([\n    [FunctionToken, RightParenthesis],\n    [LeftParenthesis, RightParenthesis],\n    [LeftSquareBracket, RightSquareBracket],\n    [LeftCurlyBracket, RightCurlyBracket]\n]);\n\n// safe char code getter\nfunction charCodeAt(str, index) {\n    return index < str.length ? str.charCodeAt(index) : 0;\n}\n\nfunction eqStr(actual, expected) {\n    return cmpStr(actual, 0, actual.length, expected);\n}\n\nfunction eqStrAny(actual, expected) {\n    for (let i = 0; i < expected.length; i++) {\n        if (eqStr(actual, expected[i])) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n// IE postfix hack, i.e. 123\\0 or 123px\\9\nfunction isPostfixIeHack(str, offset) {\n    if (offset !== str.length - 2) {\n        return false;\n    }\n\n    return (\n        charCodeAt(str, offset) === 0x005C &&  // U+005C REVERSE SOLIDUS (\\)\n        isDigit(charCodeAt(str, offset + 1))\n    );\n}\n\nfunction outOfRange(opts, value, numEnd) {\n    if (opts && opts.type === 'Range') {\n        const num = Number(\n            numEnd !== undefined && numEnd !== value.length\n                ? value.substr(0, numEnd)\n                : value\n        );\n\n        if (isNaN(num)) {\n            return true;\n        }\n\n        // FIXME: when opts.min is a string it's a dimension, skip a range validation\n        // for now since it requires a type covertation which is not implmented yet\n        if (opts.min !== null && num < opts.min && typeof opts.min !== 'string') {\n            return true;\n        }\n\n        // FIXME: when opts.max is a string it's a dimension, skip a range validation\n        // for now since it requires a type covertation which is not implmented yet\n        if (opts.max !== null && num > opts.max && typeof opts.max !== 'string') {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction consumeFunction(token, getNextToken) {\n    let balanceCloseType = 0;\n    let balanceStash = [];\n    let length = 0;\n\n    // balanced token consuming\n    scan:\n    do {\n        switch (token.type) {\n            case RightCurlyBracket:\n            case RightParenthesis:\n            case RightSquareBracket:\n                if (token.type !== balanceCloseType) {\n                    break scan;\n                }\n\n                balanceCloseType = balanceStash.pop();\n\n                if (balanceStash.length === 0) {\n                    length++;\n                    break scan;\n                }\n\n                break;\n\n            case FunctionToken:\n            case LeftParenthesis:\n            case LeftSquareBracket:\n            case LeftCurlyBracket:\n                balanceStash.push(balanceCloseType);\n                balanceCloseType = balancePair.get(token.type);\n                break;\n        }\n\n        length++;\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// TODO: implement\n// can be used wherever <length>, <frequency>, <angle>, <time>, <percentage>, <number>, or <integer> values are allowed\n// https://drafts.csswg.org/css-values/#calc-notation\nfunction calc(next) {\n    return function(token, getNextToken, opts) {\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === FunctionToken && eqStrAny(token.value, calcFunctionNames)) {\n            return consumeFunction(token, getNextToken);\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\nfunction tokenType(expectedTokenType) {\n    return function(token) {\n        if (token === null || token.type !== expectedTokenType) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\n// =========================\n// Complex types\n//\n\n// https://drafts.csswg.org/css-values-4/#custom-idents\n// 4.2. Author-defined Identifiers: the <custom-ident> type\n// Some properties accept arbitrary author-defined identifiers as a component value.\n// This generic data type is denoted by <custom-ident>, and represents any valid CSS identifier\n// that would not be misinterpreted as a pre-defined keyword in that property’s value definition.\n//\n// See also: https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident\nfunction customIdent(token) {\n    if (token === null || token.type !== Ident) {\n        return 0;\n    }\n\n    const name = token.value.toLowerCase();\n\n    // The CSS-wide keywords are not valid <custom-ident>s\n    if (eqStrAny(name, cssWideKeywords)) {\n        return 0;\n    }\n\n    // The default keyword is reserved and is also not a valid <custom-ident>\n    if (eqStr(name, 'default')) {\n        return 0;\n    }\n\n    // TODO: ignore property specific keywords (as described https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident)\n    // Specifications using <custom-ident> must specify clearly what other keywords\n    // are excluded from <custom-ident>, if any—for example by saying that any pre-defined keywords\n    // in that property’s value definition are excluded. Excluded keywords are excluded\n    // in all ASCII case permutations.\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-values-4/#dashed-idents\n// The <dashed-ident> production is a <custom-ident>, with all the case-sensitivity that implies,\n// with the additional restriction that it must start with two dashes (U+002D HYPHEN-MINUS).\nfunction dashedIdent(token) {\n    if (token === null || token.type !== Ident) {\n        return 0;\n    }\n\n    // ... must start with two dashes (U+002D HYPHEN-MINUS)\n    if (charCodeAt(token.value, 0) !== 0x002D || charCodeAt(token.value, 1) !== 0x002D) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-variables/#typedef-custom-property-name\n// A custom property is any property whose name starts with two dashes (U+002D HYPHEN-MINUS), like --foo.\n// The <custom-property-name> production corresponds to this: it’s defined as any <dashed-ident>\n// (a valid identifier that starts with two dashes), except -- itself, which is reserved for future use by CSS.\nfunction customPropertyName(token) {\n    // ... it’s defined as any <dashed-ident>\n    if (!dashedIdent(token)) {\n        return 0;\n    }\n\n    // ... except -- itself, which is reserved for future use by CSS\n    if (token.value === '--') {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-color-4/#hex-notation\n// The syntax of a <hex-color> is a <hash-token> token whose value consists of 3, 4, 6, or 8 hexadecimal digits.\n// In other words, a hex color is written as a hash character, \"#\", followed by some number of digits 0-9 or\n// letters a-f (the case of the letters doesn’t matter - #00ff00 is identical to #00FF00).\nfunction hexColor(token) {\n    if (token === null || token.type !== Hash) {\n        return 0;\n    }\n\n    const length = token.value.length;\n\n    // valid values (length): #rgb (4), #rgba (5), #rrggbb (7), #rrggbbaa (9)\n    if (length !== 4 && length !== 5 && length !== 7 && length !== 9) {\n        return 0;\n    }\n\n    for (let i = 1; i < length; i++) {\n        if (!isHexDigit(charCodeAt(token.value, i))) {\n            return 0;\n        }\n    }\n\n    return 1;\n}\n\nfunction idSelector(token) {\n    if (token === null || token.type !== Hash) {\n        return 0;\n    }\n\n    if (!isIdentifierStart(charCodeAt(token.value, 1), charCodeAt(token.value, 2), charCodeAt(token.value, 3))) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// It represents the entirety of what a valid declaration can have as its value.\nfunction declarationValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    let balanceCloseType = 0;\n    let balanceStash = [];\n    let length = 0;\n\n    // The <declaration-value> production matches any sequence of one or more tokens,\n    // so long as the sequence does not contain ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... <bad-string-token>, <bad-url-token>,\n            case BadString:\n            case BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case RightCurlyBracket:\n            case RightParenthesis:\n            case RightSquareBracket:\n                if (token.type !== balanceCloseType) {\n                    break scan;\n                }\n\n                balanceCloseType = balanceStash.pop();\n                break;\n\n            // ... or top-level <semicolon-token> tokens\n            case Semicolon:\n                if (balanceCloseType === 0) {\n                    break scan;\n                }\n\n                break;\n\n            // ... or <delim-token> tokens with a value of \"!\"\n            case Delim:\n                if (balanceCloseType === 0 && token.value === '!') {\n                    break scan;\n                }\n\n                break;\n\n            case FunctionToken:\n            case LeftParenthesis:\n            case LeftSquareBracket:\n            case LeftCurlyBracket:\n                balanceStash.push(balanceCloseType);\n                balanceCloseType = balancePair.get(token.type);\n                break;\n        }\n\n        length++;\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// The <any-value> production is identical to <declaration-value>, but also\n// allows top-level <semicolon-token> tokens and <delim-token> tokens\n// with a value of \"!\". It represents the entirety of what valid CSS can be in any context.\nfunction anyValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    let balanceCloseType = 0;\n    let balanceStash = [];\n    let length = 0;\n\n    // The <any-value> production matches any sequence of one or more tokens,\n    // so long as the sequence ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... does not contain <bad-string-token>, <bad-url-token>,\n            case BadString:\n            case BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case RightCurlyBracket:\n            case RightParenthesis:\n            case RightSquareBracket:\n                if (token.type !== balanceCloseType) {\n                    break scan;\n                }\n\n                balanceCloseType = balanceStash.pop();\n                break;\n\n            case FunctionToken:\n            case LeftParenthesis:\n            case LeftSquareBracket:\n            case LeftCurlyBracket:\n                balanceStash.push(balanceCloseType);\n                balanceCloseType = balancePair.get(token.type);\n                break;\n        }\n\n        length++;\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// =========================\n// Dimensions\n//\n\nfunction dimension(type) {\n    if (type) {\n        type = new Set(type);\n    }\n\n    return function(token, getNextToken, opts) {\n        if (token === null || token.type !== Dimension) {\n            return 0;\n        }\n\n        const numberEnd = consumeNumber(token.value, 0);\n\n        // check unit\n        if (type !== null) {\n            // check for IE postfix hack, i.e. 123px\\0 or 123px\\9\n            const reverseSolidusOffset = token.value.indexOf('\\\\', numberEnd);\n            const unit = reverseSolidusOffset === -1 || !isPostfixIeHack(token.value, reverseSolidusOffset)\n                ? token.value.substr(numberEnd)\n                : token.value.substring(numberEnd, reverseSolidusOffset);\n\n            if (type.has(unit.toLowerCase()) === false) {\n                return 0;\n            }\n        }\n\n        // check range if specified\n        if (outOfRange(opts, token.value, numberEnd)) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\n// =========================\n// Percentage\n//\n\n// §5.5. Percentages: the <percentage> type\n// https://drafts.csswg.org/css-values-4/#percentages\nfunction percentage(token, getNextToken, opts) {\n    // ... corresponds to the <percentage-token> production\n    if (token === null || token.type !== Percentage) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, token.value.length - 1)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// =========================\n// Numeric\n//\n\n// https://drafts.csswg.org/css-values-4/#numbers\n// The value <zero> represents a literal number with the value 0. Expressions that merely\n// evaluate to a <number> with the value 0 (for example, calc(0)) do not match <zero>;\n// only literal <number-token>s do.\nfunction zero(next) {\n    if (typeof next !== 'function') {\n        next = function() {\n            return 0;\n        };\n    }\n\n    return function(token, getNextToken, opts) {\n        if (token !== null && token.type === NumberToken) {\n            if (Number(token.value) === 0) {\n                return 1;\n            }\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\n// § 5.3. Real Numbers: the <number> type\n// https://drafts.csswg.org/css-values-4/#numbers\n// Number values are denoted by <number>, and represent real numbers, possibly with a fractional component.\n// ... It corresponds to the <number-token> production\nfunction number(token, getNextToken, opts) {\n    if (token === null) {\n        return 0;\n    }\n\n    const numberEnd = consumeNumber(token.value, 0);\n    const isNumber = numberEnd === token.value.length;\n    if (!isNumber && !isPostfixIeHack(token.value, numberEnd)) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, numberEnd)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// §5.2. Integers: the <integer> type\n// https://drafts.csswg.org/css-values-4/#integers\nfunction integer(token, getNextToken, opts) {\n    // ... corresponds to a subset of the <number-token> production\n    if (token === null || token.type !== NumberToken) {\n        return 0;\n    }\n\n    // The first digit of an integer may be immediately preceded by `-` or `+` to indicate the integer’s sign.\n    let i = charCodeAt(token.value, 0) === 0x002B ||       // U+002B PLUS SIGN (+)\n            charCodeAt(token.value, 0) === 0x002D ? 1 : 0; // U+002D HYPHEN-MINUS (-)\n\n    // When written literally, an integer is one or more decimal digits 0 through 9 ...\n    for (; i < token.value.length; i++) {\n        if (!isDigit(charCodeAt(token.value, i))) {\n            return 0;\n        }\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, i)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// token types\nexport const tokenTypes = {\n    'ident-token': tokenType(Ident),\n    'function-token': tokenType(FunctionToken),\n    'at-keyword-token': tokenType(AtKeyword),\n    'hash-token': tokenType(Hash),\n    'string-token': tokenType(StringToken),\n    'bad-string-token': tokenType(BadString),\n    'url-token': tokenType(Url),\n    'bad-url-token': tokenType(BadUrl),\n    'delim-token': tokenType(Delim),\n    'number-token': tokenType(NumberToken),\n    'percentage-token': tokenType(Percentage),\n    'dimension-token': tokenType(Dimension),\n    'whitespace-token': tokenType(WhiteSpace),\n    'CDO-token': tokenType(CDO),\n    'CDC-token': tokenType(CDC),\n    'colon-token': tokenType(Colon),\n    'semicolon-token': tokenType(Semicolon),\n    'comma-token': tokenType(Comma),\n    '[-token': tokenType(LeftSquareBracket),\n    ']-token': tokenType(RightSquareBracket),\n    '(-token': tokenType(LeftParenthesis),\n    ')-token': tokenType(RightParenthesis),\n    '{-token': tokenType(LeftCurlyBracket),\n    '}-token': tokenType(RightCurlyBracket)\n};\n\n// token production types\nexport const productionTypes = {\n    // token type aliases\n    'string': tokenType(StringToken),\n    'ident': tokenType(Ident),\n\n    // percentage\n    'percentage': calc(percentage),\n\n    // numeric\n    'zero': zero(),\n    'number': calc(number),\n    'integer': calc(integer),\n\n    // complex types\n    'custom-ident': customIdent,\n    'dashed-ident': dashedIdent,\n    'custom-property-name': customPropertyName,\n    'hex-color': hexColor,\n    'id-selector': idSelector, // element( <id-selector> )\n    'an-plus-b': anPlusB,\n    'urange': urange,\n    'declaration-value': declarationValue,\n    'any-value': anyValue\n};\n\nexport const unitGroups = [\n    'length',\n    'angle',\n    'time',\n    'frequency',\n    'resolution',\n    'flex',\n    'decibel',\n    'semitones'\n];\n\n// dimensions types depend on units set\nexport function createDemensionTypes(units) {\n    const {\n        angle,\n        decibel,\n        frequency,\n        flex,\n        length,\n        resolution,\n        semitones,\n        time\n    } = units || {};\n\n    return {\n        'dimension': calc(dimension(null)),\n        'angle': calc(dimension(angle)),\n        'decibel': calc(dimension(decibel)),\n        'frequency': calc(dimension(frequency)),\n        'flex': calc(dimension(flex)),\n        'length': calc(zero(dimension(length))),\n        'resolution': calc(dimension(resolution)),\n        'semitones': calc(dimension(semitones)),\n        'time': calc(dimension(time))\n    };\n}\n\nexport function createGenericTypes(units) {\n    return {\n        ...tokenTypes,\n        ...productionTypes,\n        ...createDemensionTypes(units)\n    };\n};\n", "export const length = [\n    // absolute length units https://www.w3.org/TR/css-values-3/#lengths\n    'cm', 'mm', 'q', 'in', 'pt', 'pc', 'px',\n    // font-relative length units https://drafts.csswg.org/css-values-4/#font-relative-lengths\n    'em', 'rem',\n    'ex', 'rex',\n    'cap', 'rcap',\n    'ch', 'rch',\n    'ic', 'ric',\n    'lh', 'rlh',\n    // viewport-percentage lengths https://drafts.csswg.org/css-values-4/#viewport-relative-lengths\n    'vw', 'svw', 'lvw', 'dvw',\n    'vh', 'svh', 'lvh', 'dvh',\n    'vi', 'svi', 'lvi', 'dvi',\n    'vb', 'svb', 'lvb', 'dvb',\n    'vmin', 'svmin', 'lvmin', 'dvmin',\n    'vmax', 'svmax', 'lvmax', 'dvmax',\n    // container relative lengths https://drafts.csswg.org/css-contain-3/#container-lengths\n    'cqw', 'cqh', 'cqi', 'cqb', 'cqmin', 'cqmax'\n];\nexport const angle = ['deg', 'grad', 'rad', 'turn'];    // https://www.w3.org/TR/css-values-3/#angles\nexport const time = ['s', 'ms'];                        // https://www.w3.org/TR/css-values-3/#time\nexport const frequency = ['hz', 'khz'];                 // https://www.w3.org/TR/css-values-3/#frequency\nexport const resolution = ['dpi', 'dpcm', 'dppx', 'x']; // https://www.w3.org/TR/css-values-3/#resolution\nexport const flex = ['fr'];                             // https://drafts.csswg.org/css-grid/#fr-unit\nexport const decibel = ['db'];                          // https://www.w3.org/TR/css3-speech/#mixing-props-voice-volume\nexport const semitones = ['st'];                        // https://www.w3.org/TR/css3-speech/#voice-props-voice-pitch\n", "import { createCustomError } from '../utils/create-custom-error.js';\n\nexport function SyntaxError(message, input, offset) {\n    return Object.assign(createCustomError('SyntaxError', message), {\n        input,\n        offset,\n        rawMessage: message,\n        message: message + '\\n' +\n            '  ' + input + '\\n' +\n            '--' + new Array((offset || input.length) + 1).join('-') + '^'\n    });\n};\n", "import { SyntaxError } from './SyntaxError.js';\n\nconst TAB = 9;\nconst N = 10;\nconst F = 12;\nconst R = 13;\nconst SPACE = 32;\n\nexport class Tokenizer {\n    constructor(str) {\n        this.str = str;\n        this.pos = 0;\n    }\n    charCodeAt(pos) {\n        return pos < this.str.length ? this.str.charCodeAt(pos) : 0;\n    }\n    charCode() {\n        return this.charCodeAt(this.pos);\n    }\n    nextCharCode() {\n        return this.charCodeAt(this.pos + 1);\n    }\n    nextNonWsCode(pos) {\n        return this.charCodeAt(this.findWsEnd(pos));\n    }\n    skipWs() {\n        this.pos = this.findWsEnd(this.pos);\n    }\n    findWsEnd(pos) {\n        for (; pos < this.str.length; pos++) {\n            const code = this.str.charCodeAt(pos);\n            if (code !== R && code !== N && code !== F && code !== SPACE && code !== TAB) {\n                break;\n            }\n        }\n\n        return pos;\n    }\n    substringToPos(end) {\n        return this.str.substring(this.pos, this.pos = end);\n    }\n    eat(code) {\n        if (this.charCode() !== code) {\n            this.error('Expect `' + String.fromCharCode(code) + '`');\n        }\n\n        this.pos++;\n    }\n    peek() {\n        return this.pos < this.str.length ? this.str.charAt(this.pos++) : '';\n    }\n    error(message) {\n        throw new SyntaxError(message, this.str, this.pos);\n    }\n};\n", "import { Tokenizer } from './tokenizer.js';\n\nconst TAB = 9;\nconst N = 10;\nconst F = 12;\nconst R = 13;\nconst SPACE = 32;\nconst EXCLAMATIONMARK = 33;    // !\nconst NUMBERSIGN = 35;         // #\nconst AMPERSAND = 38;          // &\nconst APOSTROPHE = 39;         // '\nconst LEFTPARENTHESIS = 40;    // (\nconst RIGHTPARENTHESIS = 41;   // )\nconst ASTERISK = 42;           // *\nconst PLUSSIGN = 43;           // +\nconst COMMA = 44;              // ,\nconst HYPERMINUS = 45;         // -\nconst LESSTHANSIGN = 60;       // <\nconst GREATERTHANSIGN = 62;    // >\nconst QUESTIONMARK = 63;       // ?\nconst COMMERCIALAT = 64;       // @\nconst LEFTSQUAREBRACKET = 91;  // [\nconst RIGHTSQUAREBRACKET = 93; // ]\nconst LEFTCURLYBRACKET = 123;  // {\nconst VERTICALLINE = 124;      // |\nconst RIGHTCURLYBRACKET = 125; // }\nconst INFINITY = 8734;         // ∞\nconst NAME_CHAR = new Uint8Array(128).map((_, idx) =>\n    /[a-zA-Z0-9\\-]/.test(String.fromCharCode(idx)) ? 1 : 0\n);\nconst COMBINATOR_PRECEDENCE = {\n    ' ': 1,\n    '&&': 2,\n    '||': 3,\n    '|': 4\n};\n\nfunction scanSpaces(tokenizer) {\n    return tokenizer.substringToPos(\n        tokenizer.findWsEnd(tokenizer.pos)\n    );\n}\n\nfunction scanWord(tokenizer) {\n    let end = tokenizer.pos;\n\n    for (; end < tokenizer.str.length; end++) {\n        const code = tokenizer.str.charCodeAt(end);\n        if (code >= 128 || NAME_CHAR[code] === 0) {\n            break;\n        }\n    }\n\n    if (tokenizer.pos === end) {\n        tokenizer.error('Expect a keyword');\n    }\n\n    return tokenizer.substringToPos(end);\n}\n\nfunction scanNumber(tokenizer) {\n    let end = tokenizer.pos;\n\n    for (; end < tokenizer.str.length; end++) {\n        const code = tokenizer.str.charCodeAt(end);\n        if (code < 48 || code > 57) {\n            break;\n        }\n    }\n\n    if (tokenizer.pos === end) {\n        tokenizer.error('Expect a number');\n    }\n\n    return tokenizer.substringToPos(end);\n}\n\nfunction scanString(tokenizer) {\n    const end = tokenizer.str.indexOf('\\'', tokenizer.pos + 1);\n\n    if (end === -1) {\n        tokenizer.pos = tokenizer.str.length;\n        tokenizer.error('Expect an apostrophe');\n    }\n\n    return tokenizer.substringToPos(end + 1);\n}\n\nfunction readMultiplierRange(tokenizer) {\n    let min = null;\n    let max = null;\n\n    tokenizer.eat(LEFTCURLYBRACKET);\n    tokenizer.skipWs();\n\n    min = scanNumber(tokenizer);\n    tokenizer.skipWs();\n\n    if (tokenizer.charCode() === COMMA) {\n        tokenizer.pos++;\n        tokenizer.skipWs();\n\n        if (tokenizer.charCode() !== RIGHTCURLYBRACKET) {\n            max = scanNumber(tokenizer);\n            tokenizer.skipWs();\n        }\n    } else {\n        max = min;\n    }\n\n    tokenizer.eat(RIGHTCURLYBRACKET);\n\n    return {\n        min: Number(min),\n        max: max ? Number(max) : 0\n    };\n}\n\nfunction readMultiplier(tokenizer) {\n    let range = null;\n    let comma = false;\n\n    switch (tokenizer.charCode()) {\n        case ASTERISK:\n            tokenizer.pos++;\n\n            range = {\n                min: 0,\n                max: 0\n            };\n\n            break;\n\n        case PLUSSIGN:\n            tokenizer.pos++;\n\n            range = {\n                min: 1,\n                max: 0\n            };\n\n            break;\n\n        case QUESTIONMARK:\n            tokenizer.pos++;\n\n            range = {\n                min: 0,\n                max: 1\n            };\n\n            break;\n\n        case NUMBERSIGN:\n            tokenizer.pos++;\n\n            comma = true;\n\n            if (tokenizer.charCode() === LEFTCURLYBRACKET) {\n                range = readMultiplierRange(tokenizer);\n            } else if (tokenizer.charCode() === QUESTIONMARK) {\n                // https://www.w3.org/TR/css-values-4/#component-multipliers\n                // > the # and ? multipliers may be stacked as #?\n                // In this case just treat \"#?\" as a single multiplier\n                // { min: 0, max: 0, comma: true }\n                tokenizer.pos++;\n                range = {\n                    min: 0,\n                    max: 0\n                };\n            } else {\n                range = {\n                    min: 1,\n                    max: 0\n                };\n            }\n\n            break;\n\n        case LEFTCURLYBRACKET:\n            range = readMultiplierRange(tokenizer);\n            break;\n\n        default:\n            return null;\n    }\n\n    return {\n        type: 'Multiplier',\n        comma,\n        min: range.min,\n        max: range.max,\n        term: null\n    };\n}\n\nfunction maybeMultiplied(tokenizer, node) {\n    const multiplier = readMultiplier(tokenizer);\n\n    if (multiplier !== null) {\n        multiplier.term = node;\n\n        // https://www.w3.org/TR/css-values-4/#component-multipliers\n        // > The + and # multipliers may be stacked as +#;\n        // Represent \"+#\" as nested multipliers:\n        // { ...<multiplier #>,\n        //   term: {\n        //     ...<multipler +>,\n        //     term: node\n        //   }\n        // }\n        if (tokenizer.charCode() === NUMBERSIGN &&\n            tokenizer.charCodeAt(tokenizer.pos - 1) === PLUSSIGN) {\n            return maybeMultiplied(tokenizer, multiplier);\n        }\n\n        return multiplier;\n    }\n\n    return node;\n}\n\nfunction maybeToken(tokenizer) {\n    const ch = tokenizer.peek();\n\n    if (ch === '') {\n        return null;\n    }\n\n    return {\n        type: 'Token',\n        value: ch\n    };\n}\n\nfunction readProperty(tokenizer) {\n    let name;\n\n    tokenizer.eat(LESSTHANSIGN);\n    tokenizer.eat(APOSTROPHE);\n\n    name = scanWord(tokenizer);\n\n    tokenizer.eat(APOSTROPHE);\n    tokenizer.eat(GREATERTHANSIGN);\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Property',\n        name\n    });\n}\n\n// https://drafts.csswg.org/css-values-3/#numeric-ranges\n// 4.1. Range Restrictions and Range Definition Notation\n//\n// Range restrictions can be annotated in the numeric type notation using CSS bracketed\n// range notation—[min,max]—within the angle brackets, after the identifying keyword,\n// indicating a closed range between (and including) min and max.\n// For example, <integer [0, 10]> indicates an integer between 0 and 10, inclusive.\nfunction readTypeRange(tokenizer) {\n    // use null for Infinity to make AST format JSON serializable/deserializable\n    let min = null; // -Infinity\n    let max = null; // Infinity\n    let sign = 1;\n\n    tokenizer.eat(LEFTSQUAREBRACKET);\n\n    if (tokenizer.charCode() === HYPERMINUS) {\n        tokenizer.peek();\n        sign = -1;\n    }\n\n    if (sign == -1 && tokenizer.charCode() === INFINITY) {\n        tokenizer.peek();\n    } else {\n        min = sign * Number(scanNumber(tokenizer));\n\n        if (NAME_CHAR[tokenizer.charCode()] !== 0) {\n            min += scanWord(tokenizer);\n        }\n    }\n\n    scanSpaces(tokenizer);\n    tokenizer.eat(COMMA);\n    scanSpaces(tokenizer);\n\n    if (tokenizer.charCode() === INFINITY) {\n        tokenizer.peek();\n    } else {\n        sign = 1;\n\n        if (tokenizer.charCode() === HYPERMINUS) {\n            tokenizer.peek();\n            sign = -1;\n        }\n\n        max = sign * Number(scanNumber(tokenizer));\n\n        if (NAME_CHAR[tokenizer.charCode()] !== 0) {\n            max += scanWord(tokenizer);\n        }\n    }\n\n    tokenizer.eat(RIGHTSQUAREBRACKET);\n\n    return {\n        type: 'Range',\n        min,\n        max\n    };\n}\n\nfunction readType(tokenizer) {\n    let name;\n    let opts = null;\n\n    tokenizer.eat(LESSTHANSIGN);\n    name = scanWord(tokenizer);\n\n    if (tokenizer.charCode() === LEFTPARENTHESIS &&\n        tokenizer.nextCharCode() === RIGHTPARENTHESIS) {\n        tokenizer.pos += 2;\n        name += '()';\n    }\n\n    if (tokenizer.charCodeAt(tokenizer.findWsEnd(tokenizer.pos)) === LEFTSQUAREBRACKET) {\n        scanSpaces(tokenizer);\n        opts = readTypeRange(tokenizer);\n    }\n\n    tokenizer.eat(GREATERTHANSIGN);\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Type',\n        name,\n        opts\n    });\n}\n\nfunction readKeywordOrFunction(tokenizer) {\n    const name = scanWord(tokenizer);\n\n    if (tokenizer.charCode() === LEFTPARENTHESIS) {\n        tokenizer.pos++;\n\n        return {\n            type: 'Function',\n            name\n        };\n    }\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Keyword',\n        name\n    });\n}\n\nfunction regroupTerms(terms, combinators) {\n    function createGroup(terms, combinator) {\n        return {\n            type: 'Group',\n            terms,\n            combinator,\n            disallowEmpty: false,\n            explicit: false\n        };\n    }\n\n    let combinator;\n\n    combinators = Object.keys(combinators)\n        .sort((a, b) => COMBINATOR_PRECEDENCE[a] - COMBINATOR_PRECEDENCE[b]);\n\n    while (combinators.length > 0) {\n        combinator = combinators.shift();\n\n        let i = 0;\n        let subgroupStart = 0;\n\n        for (; i < terms.length; i++) {\n            const term = terms[i];\n\n            if (term.type === 'Combinator') {\n                if (term.value === combinator) {\n                    if (subgroupStart === -1) {\n                        subgroupStart = i - 1;\n                    }\n                    terms.splice(i, 1);\n                    i--;\n                } else {\n                    if (subgroupStart !== -1 && i - subgroupStart > 1) {\n                        terms.splice(\n                            subgroupStart,\n                            i - subgroupStart,\n                            createGroup(terms.slice(subgroupStart, i), combinator)\n                        );\n                        i = subgroupStart + 1;\n                    }\n                    subgroupStart = -1;\n                }\n            }\n        }\n\n        if (subgroupStart !== -1 && combinators.length) {\n            terms.splice(\n                subgroupStart,\n                i - subgroupStart,\n                createGroup(terms.slice(subgroupStart, i), combinator)\n            );\n        }\n    }\n\n    return combinator;\n}\n\nfunction readImplicitGroup(tokenizer) {\n    const terms = [];\n    const combinators = {};\n    let token;\n    let prevToken = null;\n    let prevTokenPos = tokenizer.pos;\n\n    while (token = peek(tokenizer)) {\n        if (token.type !== 'Spaces') {\n            if (token.type === 'Combinator') {\n                // check for combinator in group beginning and double combinator sequence\n                if (prevToken === null || prevToken.type === 'Combinator') {\n                    tokenizer.pos = prevTokenPos;\n                    tokenizer.error('Unexpected combinator');\n                }\n\n                combinators[token.value] = true;\n            } else if (prevToken !== null && prevToken.type !== 'Combinator') {\n                combinators[' '] = true;  // a b\n                terms.push({\n                    type: 'Combinator',\n                    value: ' '\n                });\n            }\n\n            terms.push(token);\n            prevToken = token;\n            prevTokenPos = tokenizer.pos;\n        }\n    }\n\n    // check for combinator in group ending\n    if (prevToken !== null && prevToken.type === 'Combinator') {\n        tokenizer.pos -= prevTokenPos;\n        tokenizer.error('Unexpected combinator');\n    }\n\n    return {\n        type: 'Group',\n        terms,\n        combinator: regroupTerms(terms, combinators) || ' ',\n        disallowEmpty: false,\n        explicit: false\n    };\n}\n\nfunction readGroup(tokenizer) {\n    let result;\n\n    tokenizer.eat(LEFTSQUAREBRACKET);\n    result = readImplicitGroup(tokenizer);\n    tokenizer.eat(RIGHTSQUAREBRACKET);\n\n    result.explicit = true;\n\n    if (tokenizer.charCode() === EXCLAMATIONMARK) {\n        tokenizer.pos++;\n        result.disallowEmpty = true;\n    }\n\n    return result;\n}\n\nfunction peek(tokenizer) {\n    let code = tokenizer.charCode();\n\n    if (code < 128 && NAME_CHAR[code] === 1) {\n        return readKeywordOrFunction(tokenizer);\n    }\n\n    switch (code) {\n        case RIGHTSQUAREBRACKET:\n            // don't eat, stop scan a group\n            break;\n\n        case LEFTSQUAREBRACKET:\n            return maybeMultiplied(tokenizer, readGroup(tokenizer));\n\n        case LESSTHANSIGN:\n            return tokenizer.nextCharCode() === APOSTROPHE\n                ? readProperty(tokenizer)\n                : readType(tokenizer);\n\n        case VERTICALLINE:\n            return {\n                type: 'Combinator',\n                value: tokenizer.substringToPos(\n                    tokenizer.pos + (tokenizer.nextCharCode() === VERTICALLINE ? 2 : 1)\n                )\n            };\n\n        case AMPERSAND:\n            tokenizer.pos++;\n            tokenizer.eat(AMPERSAND);\n\n            return {\n                type: 'Combinator',\n                value: '&&'\n            };\n\n        case COMMA:\n            tokenizer.pos++;\n            return {\n                type: 'Comma'\n            };\n\n        case APOSTROPHE:\n            return maybeMultiplied(tokenizer, {\n                type: 'String',\n                value: scanString(tokenizer)\n            });\n\n        case SPACE:\n        case TAB:\n        case N:\n        case R:\n        case F:\n            return {\n                type: 'Spaces',\n                value: scanSpaces(tokenizer)\n            };\n\n        case COMMERCIALAT:\n            code = tokenizer.nextCharCode();\n\n            if (code < 128 && NAME_CHAR[code] === 1) {\n                tokenizer.pos++;\n                return {\n                    type: 'AtKeyword',\n                    name: scanWord(tokenizer)\n                };\n            }\n\n            return maybeToken(tokenizer);\n\n        case ASTERISK:\n        case PLUSSIGN:\n        case QUESTIONMARK:\n        case NUMBERSIGN:\n        case EXCLAMATIONMARK:\n            // prohibited tokens (used as a multiplier start)\n            break;\n\n        case LEFTCURLYBRACKET:\n            // LEFTCURLYBRACKET is allowed since mdn/data uses it w/o quoting\n            // check next char isn't a number, because it's likely a disjoined multiplier\n            code = tokenizer.nextCharCode();\n\n            if (code < 48 || code > 57) {\n                return maybeToken(tokenizer);\n            }\n\n            break;\n\n        default:\n            return maybeToken(tokenizer);\n    }\n}\n\nexport function parse(source) {\n    const tokenizer = new Tokenizer(source);\n    const result = readImplicitGroup(tokenizer);\n\n    if (tokenizer.pos !== source.length) {\n        tokenizer.error('Unexpected input');\n    }\n\n    // reduce redundant groups with single group term\n    if (result.terms.length === 1 && result.terms[0].type === 'Group') {\n        return result.terms[0];\n    }\n\n    return result;\n};\n", "const noop = function() {};\n\nfunction ensureFunction(value) {\n    return typeof value === 'function' ? value : noop;\n}\n\nexport function walk(node, options, context) {\n    function walk(node) {\n        enter.call(context, node);\n\n        switch (node.type) {\n            case 'Group':\n                node.terms.forEach(walk);\n                break;\n\n            case 'Multiplier':\n                walk(node.term);\n                break;\n\n            case 'Type':\n            case 'Property':\n            case 'Keyword':\n            case 'AtKeyword':\n            case 'Function':\n            case 'String':\n            case 'Token':\n            case 'Comma':\n                break;\n\n            default:\n                throw new Error('Unknown type: ' + node.type);\n        }\n\n        leave.call(context, node);\n    }\n\n    let enter = noop;\n    let leave = noop;\n\n    if (typeof options === 'function') {\n        enter = options;\n    } else if (options) {\n        enter = ensureFunction(options.enter);\n        leave = ensureFunction(options.leave);\n    }\n\n    if (enter === noop && leave === noop) {\n        throw new Error('Neither `enter` nor `leave` walker handler is set or both aren\\'t a function');\n    }\n\n    walk(node, context);\n};\n", "import { tokenize } from '../tokenizer/index.js';\n\nconst astToTokens = {\n    decorator(handlers) {\n        const tokens = [];\n        let curNode = null;\n\n        return {\n            ...handlers,\n            node(node) {\n                const tmp = curNode;\n                curNode = node;\n                handlers.node.call(this, node);\n                curNode = tmp;\n            },\n            emit(value, type, auto) {\n                tokens.push({\n                    type,\n                    value,\n                    node: auto ? null : curNode\n                });\n            },\n            result() {\n                return tokens;\n            }\n        };\n    }\n};\n\nfunction stringToTokens(str) {\n    const tokens = [];\n\n    tokenize(str, (type, start, end) =>\n        tokens.push({\n            type,\n            value: str.slice(start, end),\n            node: null\n        })\n    );\n\n    return tokens;\n}\n\nexport default function(value, syntax) {\n    if (typeof value === 'string') {\n        return stringToTokens(value);\n    }\n\n    return syntax.generate(value, astToTokens);\n};\n", "import { parse } from '../definition-syntax/parse.js';\n\nexport const MATCH = { type: 'Match' };\nexport const MISMATCH = { type: 'Mismatch' };\nexport const DISALLOW_EMPTY = { type: 'DisallowEmpty' };\n\nconst LEFTPARENTHESIS = 40;  // (\nconst RIGHTPARENTHESIS = 41; // )\n\nfunction createCondition(match, thenBranch, elseBranch) {\n    // reduce node count\n    if (thenBranch === MATCH && elseBranch === MISMATCH) {\n        return match;\n    }\n\n    if (match === MATCH && thenBranch === MATCH && elseBranch === MATCH) {\n        return match;\n    }\n\n    if (match.type === 'If' && match.else === MISMATCH && thenBranch === MATCH) {\n        thenBranch = match.then;\n        match = match.match;\n    }\n\n    return {\n        type: 'If',\n        match,\n        then: thenBranch,\n        else: elseBranch\n    };\n}\n\nfunction isFunctionType(name) {\n    return (\n        name.length > 2 &&\n        name.charCodeAt(name.length - 2) === LEFTPARENTHESIS &&\n        name.charCodeAt(name.length - 1) === RIGHTPARENTHESIS\n    );\n}\n\nfunction isEnumCapatible(term) {\n    return (\n        term.type === 'Keyword' ||\n        term.type === 'AtKeyword' ||\n        term.type === 'Function' ||\n        term.type === 'Type' && isFunctionType(term.name)\n    );\n}\n\nfunction buildGroupMatchGraph(combinator, terms, atLeastOneTermMatched) {\n    switch (combinator) {\n        case ' ': {\n            // Juxtaposing components means that all of them must occur, in the given order.\n            //\n            // a b c\n            // =\n            // match a\n            //   then match b\n            //     then match c\n            //       then MATCH\n            //       else MISMATCH\n            //     else MISMATCH\n            //   else MISMATCH\n            let result = MATCH;\n\n            for (let i = terms.length - 1; i >= 0; i--) {\n                const term = terms[i];\n\n                result = createCondition(\n                    term,\n                    result,\n                    MISMATCH\n                );\n            };\n\n            return result;\n        }\n\n        case '|': {\n            // A bar (|) separates two or more alternatives: exactly one of them must occur.\n            //\n            // a | b | c\n            // =\n            // match a\n            //   then MATCH\n            //   else match b\n            //     then MATCH\n            //     else match c\n            //       then MATCH\n            //       else MISMATCH\n\n            let result = MISMATCH;\n            let map = null;\n\n            for (let i = terms.length - 1; i >= 0; i--) {\n                let term = terms[i];\n\n                // reduce sequence of keywords into a Enum\n                if (isEnumCapatible(term)) {\n                    if (map === null && i > 0 && isEnumCapatible(terms[i - 1])) {\n                        map = Object.create(null);\n                        result = createCondition(\n                            {\n                                type: 'Enum',\n                                map\n                            },\n                            MATCH,\n                            result\n                        );\n                    }\n\n                    if (map !== null) {\n                        const key = (isFunctionType(term.name) ? term.name.slice(0, -1) : term.name).toLowerCase();\n                        if (key in map === false) {\n                            map[key] = term;\n                            continue;\n                        }\n                    }\n                }\n\n                map = null;\n\n                // create a new conditonal node\n                result = createCondition(\n                    term,\n                    MATCH,\n                    result\n                );\n            };\n\n            return result;\n        }\n\n        case '&&': {\n            // A double ampersand (&&) separates two or more components,\n            // all of which must occur, in any order.\n\n            // Use MatchOnce for groups with a large number of terms,\n            // since &&-groups produces at least N!-node trees\n            if (terms.length > 5) {\n                return {\n                    type: 'MatchOnce',\n                    terms,\n                    all: true\n                };\n            }\n\n            // Use a combination tree for groups with small number of terms\n            //\n            // a && b && c\n            // =\n            // match a\n            //   then [b && c]\n            //   else match b\n            //     then [a && c]\n            //     else match c\n            //       then [a && b]\n            //       else MISMATCH\n            //\n            // a && b\n            // =\n            // match a\n            //   then match b\n            //     then MATCH\n            //     else MISMATCH\n            //   else match b\n            //     then match a\n            //       then MATCH\n            //       else MISMATCH\n            //     else MISMATCH\n            let result = MISMATCH;\n\n            for (let i = terms.length - 1; i >= 0; i--) {\n                const term = terms[i];\n                let thenClause;\n\n                if (terms.length > 1) {\n                    thenClause = buildGroupMatchGraph(\n                        combinator,\n                        terms.filter(function(newGroupTerm) {\n                            return newGroupTerm !== term;\n                        }),\n                        false\n                    );\n                } else {\n                    thenClause = MATCH;\n                }\n\n                result = createCondition(\n                    term,\n                    thenClause,\n                    result\n                );\n            };\n\n            return result;\n        }\n\n        case '||': {\n            // A double bar (||) separates two or more options:\n            // one or more of them must occur, in any order.\n\n            // Use MatchOnce for groups with a large number of terms,\n            // since ||-groups produces at least N!-node trees\n            if (terms.length > 5) {\n                return {\n                    type: 'MatchOnce',\n                    terms,\n                    all: false\n                };\n            }\n\n            // Use a combination tree for groups with small number of terms\n            //\n            // a || b || c\n            // =\n            // match a\n            //   then [b || c]\n            //   else match b\n            //     then [a || c]\n            //     else match c\n            //       then [a || b]\n            //       else MISMATCH\n            //\n            // a || b\n            // =\n            // match a\n            //   then match b\n            //     then MATCH\n            //     else MATCH\n            //   else match b\n            //     then match a\n            //       then MATCH\n            //       else MATCH\n            //     else MISMATCH\n            let result = atLeastOneTermMatched ? MATCH : MISMATCH;\n\n            for (let i = terms.length - 1; i >= 0; i--) {\n                const term = terms[i];\n                let thenClause;\n\n                if (terms.length > 1) {\n                    thenClause = buildGroupMatchGraph(\n                        combinator,\n                        terms.filter(function(newGroupTerm) {\n                            return newGroupTerm !== term;\n                        }),\n                        true\n                    );\n                } else {\n                    thenClause = MATCH;\n                }\n\n                result = createCondition(\n                    term,\n                    thenClause,\n                    result\n                );\n            };\n\n            return result;\n        }\n    }\n}\n\nfunction buildMultiplierMatchGraph(node) {\n    let result = MATCH;\n    let matchTerm = buildMatchGraphInternal(node.term);\n\n    if (node.max === 0) {\n        // disable repeating of empty match to prevent infinite loop\n        matchTerm = createCondition(\n            matchTerm,\n            DISALLOW_EMPTY,\n            MISMATCH\n        );\n\n        // an occurrence count is not limited, make a cycle;\n        // to collect more terms on each following matching mismatch\n        result = createCondition(\n            matchTerm,\n            null, // will be a loop\n            MISMATCH\n        );\n\n        result.then = createCondition(\n            MATCH,\n            MATCH,\n            result // make a loop\n        );\n\n        if (node.comma) {\n            result.then.else = createCondition(\n                { type: 'Comma', syntax: node },\n                result,\n                MISMATCH\n            );\n        }\n    } else {\n        // create a match node chain for [min .. max] interval with optional matches\n        for (let i = node.min || 1; i <= node.max; i++) {\n            if (node.comma && result !== MATCH) {\n                result = createCondition(\n                    { type: 'Comma', syntax: node },\n                    result,\n                    MISMATCH\n                );\n            }\n\n            result = createCondition(\n                matchTerm,\n                createCondition(\n                    MATCH,\n                    MATCH,\n                    result\n                ),\n                MISMATCH\n            );\n        }\n    }\n\n    if (node.min === 0) {\n        // allow zero match\n        result = createCondition(\n            MATCH,\n            MATCH,\n            result\n        );\n    } else {\n        // create a match node chain to collect [0 ... min - 1] required matches\n        for (let i = 0; i < node.min - 1; i++) {\n            if (node.comma && result !== MATCH) {\n                result = createCondition(\n                    { type: 'Comma', syntax: node },\n                    result,\n                    MISMATCH\n                );\n            }\n\n            result = createCondition(\n                matchTerm,\n                result,\n                MISMATCH\n            );\n        }\n    }\n\n    return result;\n}\n\nfunction buildMatchGraphInternal(node) {\n    if (typeof node === 'function') {\n        return {\n            type: 'Generic',\n            fn: node\n        };\n    }\n\n    switch (node.type) {\n        case 'Group': {\n            let result = buildGroupMatchGraph(\n                node.combinator,\n                node.terms.map(buildMatchGraphInternal),\n                false\n            );\n\n            if (node.disallowEmpty) {\n                result = createCondition(\n                    result,\n                    DISALLOW_EMPTY,\n                    MISMATCH\n                );\n            }\n\n            return result;\n        }\n\n        case 'Multiplier':\n            return buildMultiplierMatchGraph(node);\n\n        case 'Type':\n        case 'Property':\n            return {\n                type: node.type,\n                name: node.name,\n                syntax: node\n            };\n\n        case 'Keyword':\n            return {\n                type: node.type,\n                name: node.name.toLowerCase(),\n                syntax: node\n            };\n\n        case 'AtKeyword':\n            return {\n                type: node.type,\n                name: '@' + node.name.toLowerCase(),\n                syntax: node\n            };\n\n        case 'Function':\n            return {\n                type: node.type,\n                name: node.name.toLowerCase() + '(',\n                syntax: node\n            };\n\n        case 'String':\n            // convert a one char length String to a Token\n            if (node.value.length === 3) {\n                return {\n                    type: 'Token',\n                    value: node.value.charAt(1),\n                    syntax: node\n                };\n            }\n\n            // otherwise use it as is\n            return {\n                type: node.type,\n                value: node.value.substr(1, node.value.length - 2).replace(/\\\\'/g, '\\''),\n                syntax: node\n            };\n\n        case 'Token':\n            return {\n                type: node.type,\n                value: node.value,\n                syntax: node\n            };\n\n        case 'Comma':\n            return {\n                type: node.type,\n                syntax: node\n            };\n\n        default:\n            throw new Error('Unknown node type:', node.type);\n    }\n}\n\nexport function buildMatchGraph(syntaxTree, ref) {\n    if (typeof syntaxTree === 'string') {\n        syntaxTree = parse(syntaxTree);\n    }\n\n    return {\n        type: 'MatchGraph',\n        match: buildMatchGraphInternal(syntaxTree),\n        syntax: ref || null,\n        source: syntaxTree\n    };\n}\n", "import { MATCH, MISMATCH, DISALLOW_EMPTY } from './match-graph.js';\nimport * as TYPE from '../tokenizer/types.js';\n\nconst { hasOwnProperty } = Object.prototype;\nconst STUB = 0;\nconst TOKEN = 1;\nconst OPEN_SYNTAX = 2;\nconst CLOSE_SYNTAX = 3;\n\nconst EXIT_REASON_MATCH = 'Match';\nconst EXIT_REASON_MISMATCH = 'Mismatch';\nconst EXIT_REASON_ITERATION_LIMIT = 'Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)';\n\nconst ITERATION_LIMIT = 15000;\nexport let totalIterationCount = 0;\n\nfunction reverseList(list) {\n    let prev = null;\n    let next = null;\n    let item = list;\n\n    while (item !== null) {\n        next = item.prev;\n        item.prev = prev;\n        prev = item;\n        item = next;\n    }\n\n    return prev;\n}\n\nfunction areStringsEqualCaseInsensitive(testStr, referenceStr) {\n    if (testStr.length !== referenceStr.length) {\n        return false;\n    }\n\n    for (let i = 0; i < testStr.length; i++) {\n        const referenceCode = referenceStr.charCodeAt(i);\n        let testCode = testStr.charCodeAt(i);\n\n        // testCode.toLowerCase() for U+0041 LATIN CAPITAL LETTER A (A) .. U+005A LATIN CAPITAL LETTER Z (Z).\n        if (testCode >= 0x0041 && testCode <= 0x005A) {\n            testCode = testCode | 32;\n        }\n\n        if (testCode !== referenceCode) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction isContextEdgeDelim(token) {\n    if (token.type !== TYPE.Delim) {\n        return false;\n    }\n\n    // Fix matching for unicode-range: U+30??, U+FF00-FF9F\n    // Probably we need to check out previous match instead\n    return token.value !== '?';\n}\n\nfunction isCommaContextStart(token) {\n    if (token === null) {\n        return true;\n    }\n\n    return (\n        token.type === TYPE.Comma ||\n        token.type === TYPE.Function ||\n        token.type === TYPE.LeftParenthesis ||\n        token.type === TYPE.LeftSquareBracket ||\n        token.type === TYPE.LeftCurlyBracket ||\n        isContextEdgeDelim(token)\n    );\n}\n\nfunction isCommaContextEnd(token) {\n    if (token === null) {\n        return true;\n    }\n\n    return (\n        token.type === TYPE.RightParenthesis ||\n        token.type === TYPE.RightSquareBracket ||\n        token.type === TYPE.RightCurlyBracket ||\n        (token.type === TYPE.Delim && token.value === '/')\n    );\n}\n\nfunction internalMatch(tokens, state, syntaxes) {\n    function moveToNextToken() {\n        do {\n            tokenIndex++;\n            token = tokenIndex < tokens.length ? tokens[tokenIndex] : null;\n        } while (token !== null && (token.type === TYPE.WhiteSpace || token.type === TYPE.Comment));\n    }\n\n    function getNextToken(offset) {\n        const nextIndex = tokenIndex + offset;\n\n        return nextIndex < tokens.length ? tokens[nextIndex] : null;\n    }\n\n    function stateSnapshotFromSyntax(nextState, prev) {\n        return {\n            nextState,\n            matchStack,\n            syntaxStack,\n            thenStack,\n            tokenIndex,\n            prev\n        };\n    }\n\n    function pushThenStack(nextState) {\n        thenStack = {\n            nextState,\n            matchStack,\n            syntaxStack,\n            prev: thenStack\n        };\n    }\n\n    function pushElseStack(nextState) {\n        elseStack = stateSnapshotFromSyntax(nextState, elseStack);\n    }\n\n    function addTokenToMatch() {\n        matchStack = {\n            type: TOKEN,\n            syntax: state.syntax,\n            token,\n            prev: matchStack\n        };\n\n        moveToNextToken();\n        syntaxStash = null;\n\n        if (tokenIndex > longestMatch) {\n            longestMatch = tokenIndex;\n        }\n    }\n\n    function openSyntax() {\n        syntaxStack = {\n            syntax: state.syntax,\n            opts: state.syntax.opts || (syntaxStack !== null && syntaxStack.opts) || null,\n            prev: syntaxStack\n        };\n\n        matchStack = {\n            type: OPEN_SYNTAX,\n            syntax: state.syntax,\n            token: matchStack.token,\n            prev: matchStack\n        };\n    }\n\n    function closeSyntax() {\n        if (matchStack.type === OPEN_SYNTAX) {\n            matchStack = matchStack.prev;\n        } else {\n            matchStack = {\n                type: CLOSE_SYNTAX,\n                syntax: syntaxStack.syntax,\n                token: matchStack.token,\n                prev: matchStack\n            };\n        }\n\n        syntaxStack = syntaxStack.prev;\n    }\n\n    let syntaxStack = null;\n    let thenStack = null;\n    let elseStack = null;\n\n    // null – stashing allowed, nothing stashed\n    // false – stashing disabled, nothing stashed\n    // anithing else – fail stashable syntaxes, some syntax stashed\n    let syntaxStash = null;\n\n    let iterationCount = 0; // count iterations and prevent infinite loop\n    let exitReason = null;\n\n    let token = null;\n    let tokenIndex = -1;\n    let longestMatch = 0;\n    let matchStack = {\n        type: STUB,\n        syntax: null,\n        token: null,\n        prev: null\n    };\n\n    moveToNextToken();\n\n    while (exitReason === null && ++iterationCount < ITERATION_LIMIT) {\n        // function mapList(list, fn) {\n        //     const result = [];\n        //     while (list) {\n        //         result.unshift(fn(list));\n        //         list = list.prev;\n        //     }\n        //     return result;\n        // }\n        // console.log('--\\n',\n        //     '#' + iterationCount,\n        //     require('util').inspect({\n        //         match: mapList(matchStack, x => x.type === TOKEN ? x.token && x.token.value : x.syntax ? ({ [OPEN_SYNTAX]: '<', [CLOSE_SYNTAX]: '</' }[x.type] || x.type) + '!' + x.syntax.name : null),\n        //         token: token && token.value,\n        //         tokenIndex,\n        //         syntax: syntax.type + (syntax.id ? ' #' + syntax.id : '')\n        //     }, { depth: null })\n        // );\n        switch (state.type) {\n            case 'Match':\n                if (thenStack === null) {\n                    // turn to MISMATCH when some tokens left unmatched\n                    if (token !== null) {\n                        // doesn't mismatch if just one token left and it's an IE hack\n                        if (tokenIndex !== tokens.length - 1 || (token.value !== '\\\\0' && token.value !== '\\\\9')) {\n                            state = MISMATCH;\n                            break;\n                        }\n                    }\n\n                    // break the main loop, return a result - MATCH\n                    exitReason = EXIT_REASON_MATCH;\n                    break;\n                }\n\n                // go to next syntax (`then` branch)\n                state = thenStack.nextState;\n\n                // check match is not empty\n                if (state === DISALLOW_EMPTY) {\n                    if (thenStack.matchStack === matchStack) {\n                        state = MISMATCH;\n                        break;\n                    } else {\n                        state = MATCH;\n                    }\n                }\n\n                // close syntax if needed\n                while (thenStack.syntaxStack !== syntaxStack) {\n                    closeSyntax();\n                }\n\n                // pop stack\n                thenStack = thenStack.prev;\n                break;\n\n            case 'Mismatch':\n                // when some syntax is stashed\n                if (syntaxStash !== null && syntaxStash !== false) {\n                    // there is no else branches or a branch reduce match stack\n                    if (elseStack === null || tokenIndex > elseStack.tokenIndex) {\n                        // restore state from the stash\n                        elseStack = syntaxStash;\n                        syntaxStash = false; // disable stashing\n                    }\n                } else if (elseStack === null) {\n                    // no else branches -> break the main loop\n                    // return a result - MISMATCH\n                    exitReason = EXIT_REASON_MISMATCH;\n                    break;\n                }\n\n                // go to next syntax (`else` branch)\n                state = elseStack.nextState;\n\n                // restore all the rest stack states\n                thenStack = elseStack.thenStack;\n                syntaxStack = elseStack.syntaxStack;\n                matchStack = elseStack.matchStack;\n                tokenIndex = elseStack.tokenIndex;\n                token = tokenIndex < tokens.length ? tokens[tokenIndex] : null;\n\n                // pop stack\n                elseStack = elseStack.prev;\n                break;\n\n            case 'MatchGraph':\n                state = state.match;\n                break;\n\n            case 'If':\n                // IMPORTANT: else stack push must go first,\n                // since it stores the state of thenStack before changes\n                if (state.else !== MISMATCH) {\n                    pushElseStack(state.else);\n                }\n\n                if (state.then !== MATCH) {\n                    pushThenStack(state.then);\n                }\n\n                state = state.match;\n                break;\n\n            case 'MatchOnce':\n                state = {\n                    type: 'MatchOnceBuffer',\n                    syntax: state,\n                    index: 0,\n                    mask: 0\n                };\n                break;\n\n            case 'MatchOnceBuffer': {\n                const terms = state.syntax.terms;\n\n                if (state.index === terms.length) {\n                    // no matches at all or it's required all terms to be matched\n                    if (state.mask === 0 || state.syntax.all) {\n                        state = MISMATCH;\n                        break;\n                    }\n\n                    // a partial match is ok\n                    state = MATCH;\n                    break;\n                }\n\n                // all terms are matched\n                if (state.mask === (1 << terms.length) - 1) {\n                    state = MATCH;\n                    break;\n                }\n\n                for (; state.index < terms.length; state.index++) {\n                    const matchFlag = 1 << state.index;\n\n                    if ((state.mask & matchFlag) === 0) {\n                        // IMPORTANT: else stack push must go first,\n                        // since it stores the state of thenStack before changes\n                        pushElseStack(state);\n                        pushThenStack({\n                            type: 'AddMatchOnce',\n                            syntax: state.syntax,\n                            mask: state.mask | matchFlag\n                        });\n\n                        // match\n                        state = terms[state.index++];\n                        break;\n                    }\n                }\n                break;\n            }\n\n            case 'AddMatchOnce':\n                state = {\n                    type: 'MatchOnceBuffer',\n                    syntax: state.syntax,\n                    index: 0,\n                    mask: state.mask\n                };\n                break;\n\n            case 'Enum':\n                if (token !== null) {\n                    let name = token.value.toLowerCase();\n\n                    // drop \\0 and \\9 hack from keyword name\n                    if (name.indexOf('\\\\') !== -1) {\n                        name = name.replace(/\\\\[09].*$/, '');\n                    }\n\n                    if (hasOwnProperty.call(state.map, name)) {\n                        state = state.map[name];\n                        break;\n                    }\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Generic': {\n                const opts = syntaxStack !== null ? syntaxStack.opts : null;\n                const lastTokenIndex = tokenIndex + Math.floor(state.fn(token, getNextToken, opts));\n\n                if (!isNaN(lastTokenIndex) && lastTokenIndex > tokenIndex) {\n                    while (tokenIndex < lastTokenIndex) {\n                        addTokenToMatch();\n                    }\n\n                    state = MATCH;\n                } else {\n                    state = MISMATCH;\n                }\n\n                break;\n            }\n\n            case 'Type':\n            case 'Property': {\n                const syntaxDict = state.type === 'Type' ? 'types' : 'properties';\n                const dictSyntax = hasOwnProperty.call(syntaxes, syntaxDict) ? syntaxes[syntaxDict][state.name] : null;\n\n                if (!dictSyntax || !dictSyntax.match) {\n                    throw new Error(\n                        'Bad syntax reference: ' +\n                        (state.type === 'Type'\n                            ? '<' + state.name + '>'\n                            : '<\\'' + state.name + '\\'>')\n                    );\n                }\n\n                // stash a syntax for types with low priority\n                if (syntaxStash !== false && token !== null && state.type === 'Type') {\n                    const lowPriorityMatching =\n                        // https://drafts.csswg.org/css-values-4/#custom-idents\n                        // When parsing positionally-ambiguous keywords in a property value, a <custom-ident> production\n                        // can only claim the keyword if no other unfulfilled production can claim it.\n                        (state.name === 'custom-ident' && token.type === TYPE.Ident) ||\n\n                        // https://drafts.csswg.org/css-values-4/#lengths\n                        // ... if a `0` could be parsed as either a <number> or a <length> in a property (such as line-height),\n                        // it must parse as a <number>\n                        (state.name === 'length' && token.value === '0');\n\n                    if (lowPriorityMatching) {\n                        if (syntaxStash === null) {\n                            syntaxStash = stateSnapshotFromSyntax(state, elseStack);\n                        }\n\n                        state = MISMATCH;\n                        break;\n                    }\n                }\n\n                openSyntax();\n                state = dictSyntax.matchRef || dictSyntax.match;\n                break;\n            }\n\n            case 'Keyword': {\n                const name = state.name;\n\n                if (token !== null) {\n                    let keywordName = token.value;\n\n                    // drop \\0 and \\9 hack from keyword name\n                    if (keywordName.indexOf('\\\\') !== -1) {\n                        keywordName = keywordName.replace(/\\\\[09].*$/, '');\n                    }\n\n                    if (areStringsEqualCaseInsensitive(keywordName, name)) {\n                        addTokenToMatch();\n                        state = MATCH;\n                        break;\n                    }\n                }\n\n                state = MISMATCH;\n                break;\n            }\n\n            case 'AtKeyword':\n            case 'Function':\n                if (token !== null && areStringsEqualCaseInsensitive(token.value, state.name)) {\n                    addTokenToMatch();\n                    state = MATCH;\n                    break;\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Token':\n                if (token !== null && token.value === state.value) {\n                    addTokenToMatch();\n                    state = MATCH;\n                    break;\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Comma':\n                if (token !== null && token.type === TYPE.Comma) {\n                    if (isCommaContextStart(matchStack.token)) {\n                        state = MISMATCH;\n                    } else {\n                        addTokenToMatch();\n                        state = isCommaContextEnd(token) ? MISMATCH : MATCH;\n                    }\n                } else {\n                    state = isCommaContextStart(matchStack.token) || isCommaContextEnd(token) ? MATCH : MISMATCH;\n                }\n\n                break;\n\n            case 'String':\n                let string = '';\n                let lastTokenIndex = tokenIndex;\n\n                for (; lastTokenIndex < tokens.length && string.length < state.value.length; lastTokenIndex++) {\n                    string += tokens[lastTokenIndex].value;\n                }\n\n                if (areStringsEqualCaseInsensitive(string, state.value)) {\n                    while (tokenIndex < lastTokenIndex) {\n                        addTokenToMatch();\n                    }\n\n                    state = MATCH;\n                } else {\n                    state = MISMATCH;\n                }\n\n                break;\n\n            default:\n                throw new Error('Unknown node type: ' + state.type);\n        }\n    }\n\n    totalIterationCount += iterationCount;\n\n    switch (exitReason) {\n        case null:\n            console.warn('[csstree-match] BREAK after ' + ITERATION_LIMIT + ' iterations');\n            exitReason = EXIT_REASON_ITERATION_LIMIT;\n            matchStack = null;\n            break;\n\n        case EXIT_REASON_MATCH:\n            while (syntaxStack !== null) {\n                closeSyntax();\n            }\n            break;\n\n        default:\n            matchStack = null;\n    }\n\n    return {\n        tokens,\n        reason: exitReason,\n        iterations: iterationCount,\n        match: matchStack,\n        longestMatch\n    };\n}\n\nexport function matchAsList(tokens, matchGraph, syntaxes) {\n    const matchResult = internalMatch(tokens, matchGraph, syntaxes || {});\n\n    if (matchResult.match !== null) {\n        let item = reverseList(matchResult.match).prev;\n\n        matchResult.match = [];\n\n        while (item !== null) {\n            switch (item.type) {\n                case OPEN_SYNTAX:\n                case CLOSE_SYNTAX:\n                    matchResult.match.push({\n                        type: item.type,\n                        syntax: item.syntax\n                    });\n                    break;\n\n                default:\n                    matchResult.match.push({\n                        token: item.token.value,\n                        node: item.token.node\n                    });\n                    break;\n            }\n\n            item = item.prev;\n        }\n    }\n\n    return matchResult;\n}\n\nexport function matchAsTree(tokens, matchGraph, syntaxes) {\n    const matchResult = internalMatch(tokens, matchGraph, syntaxes || {});\n\n    if (matchResult.match === null) {\n        return matchResult;\n    }\n\n    let item = matchResult.match;\n    let host = matchResult.match = {\n        syntax: matchGraph.syntax || null,\n        match: []\n    };\n    const hostStack = [host];\n\n    // revert a list and start with 2nd item since 1st is a stub item\n    item = reverseList(item).prev;\n\n    // build a tree\n    while (item !== null) {\n        switch (item.type) {\n            case OPEN_SYNTAX:\n                host.match.push(host = {\n                    syntax: item.syntax,\n                    match: []\n                });\n                hostStack.push(host);\n                break;\n\n            case CLOSE_SYNTAX:\n                hostStack.pop();\n                host = hostStack[hostStack.length - 1];\n                break;\n\n            default:\n                host.match.push({\n                    syntax: item.syntax || null,\n                    token: item.token.value,\n                    node: item.token.node\n                });\n        }\n\n        item = item.prev;\n    }\n\n    return matchResult;\n}\n", "export function getTrace(node) {\n    function shouldPutToTrace(syntax) {\n        if (syntax === null) {\n            return false;\n        }\n\n        return (\n            syntax.type === 'Type' ||\n            syntax.type === 'Property' ||\n            syntax.type === 'Keyword'\n        );\n    }\n\n    function hasMatch(matchNode) {\n        if (Array.isArray(matchNode.match)) {\n            // use for-loop for better perfomance\n            for (let i = 0; i < matchNode.match.length; i++) {\n                if (hasMatch(matchNode.match[i])) {\n                    if (shouldPutToTrace(matchNode.syntax)) {\n                        result.unshift(matchNode.syntax);\n                    }\n\n                    return true;\n                }\n            }\n        } else if (matchNode.node === node) {\n            result = shouldPutToTrace(matchNode.syntax)\n                ? [matchNode.syntax]\n                : [];\n\n            return true;\n        }\n\n        return false;\n    }\n\n    let result = null;\n\n    if (this.matched !== null) {\n        hasMatch(this.matched);\n    }\n\n    return result;\n}\n\nexport function isType(node, type) {\n    return testNode(this, node, match => match.type === 'Type' && match.name === type);\n}\n\nexport function isProperty(node, property) {\n    return testNode(this, node, match => match.type === 'Property' && match.name === property);\n}\n\nexport function isKeyword(node) {\n    return testNode(this, node, match => match.type === 'Keyword');\n}\n\nfunction testNode(match, node, fn) {\n    const trace = getTrace.call(match, node);\n\n    if (trace === null) {\n        return false;\n    }\n\n    return trace.some(fn);\n}\n", "import { List } from '../utils/List.js';\n\nfunction getFirstMatchNode(matchNode) {\n    if ('node' in matchNode) {\n        return matchNode.node;\n    }\n\n    return getFirstMatchNode(matchNode.match[0]);\n}\n\nfunction getLastMatchNode(matchNode) {\n    if ('node' in matchNode) {\n        return matchNode.node;\n    }\n\n    return getLastMatchNode(matchNode.match[matchNode.match.length - 1]);\n}\n\nexport function matchFragments(lexer, ast, match, type, name) {\n    function findFragments(matchNode) {\n        if (matchNode.syntax !== null &&\n            matchNode.syntax.type === type &&\n            matchNode.syntax.name === name) {\n            const start = getFirstMatchNode(matchNode);\n            const end = getLastMatchNode(matchNode);\n\n            lexer.syntax.walk(ast, function(node, item, list) {\n                if (node === start) {\n                    const nodes = new List();\n\n                    do {\n                        nodes.appendData(item.data);\n\n                        if (item.data === end) {\n                            break;\n                        }\n\n                        item = item.next;\n                    } while (item !== null);\n\n                    fragments.push({\n                        parent: list,\n                        nodes\n                    });\n                }\n            });\n        }\n\n        if (Array.isArray(matchNode.match)) {\n            matchNode.match.forEach(findFragments);\n        }\n    }\n\n    const fragments = [];\n\n    if (match.matched !== null) {\n        findFragments(match.matched);\n    }\n\n    return fragments;\n}\n", "import { List } from '../utils/List.js';\n\nconst { hasOwnProperty } = Object.prototype;\n\nfunction isValidNumber(value) {\n    // Number.isInteger(value) && value >= 0\n    return (\n        typeof value === 'number' &&\n        isFinite(value) &&\n        Math.floor(value) === value &&\n        value >= 0\n    );\n}\n\nfunction isValidLocation(loc) {\n    return (\n        Boolean(loc) &&\n        isValidNumber(loc.offset) &&\n        isValidNumber(loc.line) &&\n        isValidNumber(loc.column)\n    );\n}\n\nfunction createNodeStructureChecker(type, fields) {\n    return function checkNode(node, warn) {\n        if (!node || node.constructor !== Object) {\n            return warn(node, 'Type of node should be an Object');\n        }\n\n        for (let key in node) {\n            let valid = true;\n\n            if (hasOwnProperty.call(node, key) === false) {\n                continue;\n            }\n\n            if (key === 'type') {\n                if (node.type !== type) {\n                    warn(node, 'Wrong node type `' + node.type + '`, expected `' + type + '`');\n                }\n            } else if (key === 'loc') {\n                if (node.loc === null) {\n                    continue;\n                } else if (node.loc && node.loc.constructor === Object) {\n                    if (typeof node.loc.source !== 'string') {\n                        key += '.source';\n                    } else if (!isValidLocation(node.loc.start)) {\n                        key += '.start';\n                    } else if (!isValidLocation(node.loc.end)) {\n                        key += '.end';\n                    } else {\n                        continue;\n                    }\n                }\n\n                valid = false;\n            } else if (fields.hasOwnProperty(key)) {\n                valid = false;\n\n                for (let i = 0; !valid && i < fields[key].length; i++) {\n                    const fieldType = fields[key][i];\n\n                    switch (fieldType) {\n                        case String:\n                            valid = typeof node[key] === 'string';\n                            break;\n\n                        case Boolean:\n                            valid = typeof node[key] === 'boolean';\n                            break;\n\n                        case null:\n                            valid = node[key] === null;\n                            break;\n\n                        default:\n                            if (typeof fieldType === 'string') {\n                                valid = node[key] && node[key].type === fieldType;\n                            } else if (Array.isArray(fieldType)) {\n                                valid = node[key] instanceof List;\n                            }\n                    }\n                }\n            } else {\n                warn(node, 'Unknown field `' + key + '` for ' + type + ' node type');\n            }\n\n            if (!valid) {\n                warn(node, 'Bad value for `' + type + '.' + key + '`');\n            }\n        }\n\n        for (const key in fields) {\n            if (hasOwnProperty.call(fields, key) &&\n                hasOwnProperty.call(node, key) === false) {\n                warn(node, 'Field `' + type + '.' + key + '` is missed');\n            }\n        }\n    };\n}\n\nfunction genTypesList(fieldTypes, path) {\n    const docsTypes = [];\n\n    for (let i = 0; i < fieldTypes.length; i++) {\n        const fieldType = fieldTypes[i];\n        if (fieldType === String || fieldType === Boolean) {\n            docsTypes.push(fieldType.name.toLowerCase());\n        } else if (fieldType === null) {\n            docsTypes.push('null');\n        } else if (typeof fieldType === 'string') {\n            docsTypes.push(fieldType);\n        } else if (Array.isArray(fieldType)) {\n            docsTypes.push('List<' + (genTypesList(fieldType, path) || 'any') + '>'); // TODO: use type enum\n        } else {\n            throw new Error('Wrong value `' + fieldType + '` in `' + path + '` structure definition');\n        }\n    }\n\n    return docsTypes.join(' | ');\n}\n\nfunction processStructure(name, nodeType) {\n    const structure = nodeType.structure;\n    const fields = {\n        type: String,\n        loc: true\n    };\n    const docs = {\n        type: '\"' + name + '\"'\n    };\n\n    for (const key in structure) {\n        if (hasOwnProperty.call(structure, key) === false) {\n            continue;\n        }\n\n        const fieldTypes = fields[key] = Array.isArray(structure[key])\n            ? structure[key].slice()\n            : [structure[key]];\n\n        docs[key] = genTypesList(fieldTypes, name + '.' + key);\n    }\n\n    return {\n        docs,\n        check: createNodeStructureChecker(name, fields)\n    };\n}\n\nexport function getStructureFromConfig(config) {\n    const structure = {};\n\n    if (config.node) {\n        for (const name in config.node) {\n            if (hasOwnProperty.call(config.node, name)) {\n                const nodeType = config.node[name];\n\n                if (nodeType.structure) {\n                    structure[name] = processStructure(name, nodeType);\n                } else {\n                    throw new Error('Missed `structure` field in `' + name + '` node type definition');\n                }\n            }\n        }\n    }\n\n    return structure;\n};\n", "import { SyntaxReferenceError, SyntaxMatchError } from './error.js';\nimport * as names from '../utils/names.js';\nimport { cssWideKeywords } from './generic-const.js';\nimport { createGenericTypes } from './generic.js';\nimport * as units from './units.js';\nimport { parse, generate, walk } from '../definition-syntax/index.js';\nimport prepareTokens from './prepare-tokens.js';\nimport { buildMatchGraph } from './match-graph.js';\nimport { matchAsTree } from './match.js';\nimport * as trace from './trace.js';\nimport { matchFragments } from './search.js';\nimport { getStructureFromConfig } from './structure.js';\n\nfunction dumpMapSyntax(map, compact, syntaxAsAst) {\n    const result = {};\n\n    for (const name in map) {\n        if (map[name].syntax) {\n            result[name] = syntaxAsAst\n                ? map[name].syntax\n                : generate(map[name].syntax, { compact });\n        }\n    }\n\n    return result;\n}\n\nfunction dumpAtruleMapSyntax(map, compact, syntaxAsAst) {\n    const result = {};\n\n    for (const [name, atrule] of Object.entries(map)) {\n        result[name] = {\n            prelude: atrule.prelude && (\n                syntaxAsAst\n                    ? atrule.prelude.syntax\n                    : generate(atrule.prelude.syntax, { compact })\n            ),\n            descriptors: atrule.descriptors && dumpMapSyntax(atrule.descriptors, compact, syntaxAsAst)\n        };\n    }\n\n    return result;\n}\n\nfunction valueHasVar(tokens) {\n    for (let i = 0; i < tokens.length; i++) {\n        if (tokens[i].value.toLowerCase() === 'var(') {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction syntaxHasTopLevelCommaMultiplier(syntax) {\n    const singleTerm = syntax.terms[0];\n\n    return (\n        syntax.explicit === false &&\n        syntax.terms.length === 1 &&\n        singleTerm.type === 'Multiplier' &&\n        singleTerm.comma === true\n    );\n}\n\nfunction buildMatchResult(matched, error, iterations) {\n    return {\n        matched,\n        iterations,\n        error,\n        ...trace\n    };\n}\n\nfunction matchSyntax(lexer, syntax, value, useCssWideKeywords) {\n    const tokens = prepareTokens(value, lexer.syntax);\n    let result;\n\n    if (valueHasVar(tokens)) {\n        return buildMatchResult(null, new Error('Matching for a tree with var() is not supported'));\n    }\n\n    if (useCssWideKeywords) {\n        result = matchAsTree(tokens, lexer.cssWideKeywordsSyntax, lexer);\n    }\n\n    if (!useCssWideKeywords || !result.match) {\n        result = matchAsTree(tokens, syntax.match, lexer);\n        if (!result.match) {\n            return buildMatchResult(\n                null,\n                new SyntaxMatchError(result.reason, syntax.syntax, value, result),\n                result.iterations\n            );\n        }\n    }\n\n    return buildMatchResult(result.match, null, result.iterations);\n}\n\nexport class Lexer {\n    constructor(config, syntax, structure) {\n        this.cssWideKeywords = cssWideKeywords;\n        this.syntax = syntax;\n        this.generic = false;\n        this.units = { ...units };\n        this.atrules = Object.create(null);\n        this.properties = Object.create(null);\n        this.types = Object.create(null);\n        this.structure = structure || getStructureFromConfig(config);\n\n        if (config) {\n            if (config.cssWideKeywords) {\n                this.cssWideKeywords = config.cssWideKeywords;\n            }\n\n            if (config.units) {\n                for (const group of Object.keys(units)) {\n                    if (Array.isArray(config.units[group])) {\n                        this.units[group] = config.units[group];\n                    }\n                }\n            }\n\n            if (config.types) {\n                for (const [name, type] of Object.entries(config.types)) {\n                    this.addType_(name, type);\n                }\n            }\n\n            if (config.generic) {\n                this.generic = true;\n                for (const [name, value] of Object.entries(createGenericTypes(this.units))) {\n                    this.addType_(name, value);\n                }\n            }\n\n            if (config.atrules) {\n                for (const [name, atrule] of Object.entries(config.atrules)) {\n                    this.addAtrule_(name, atrule);\n                }\n            }\n\n            if (config.properties) {\n                for (const [name, property] of Object.entries(config.properties)) {\n                    this.addProperty_(name, property);\n                }\n            }\n        }\n\n        this.cssWideKeywordsSyntax = buildMatchGraph(this.cssWideKeywords.join(' |  '));\n    }\n\n    checkStructure(ast) {\n        function collectWarning(node, message) {\n            warns.push({ node, message });\n        }\n\n        const structure = this.structure;\n        const warns = [];\n\n        this.syntax.walk(ast, function(node) {\n            if (structure.hasOwnProperty(node.type)) {\n                structure[node.type].check(node, collectWarning);\n            } else {\n                collectWarning(node, 'Unknown node type `' + node.type + '`');\n            }\n        });\n\n        return warns.length ? warns : false;\n    }\n\n    createDescriptor(syntax, type, name, parent = null) {\n        const ref = {\n            type,\n            name\n        };\n        const descriptor = {\n            type,\n            name,\n            parent,\n            serializable: typeof syntax === 'string' || (syntax && typeof syntax.type === 'string'),\n            syntax: null,\n            match: null,\n            matchRef: null // used for properties when a syntax referenced as <'property'> in other syntax definitions\n        };\n\n        if (typeof syntax === 'function') {\n            descriptor.match = buildMatchGraph(syntax, ref);\n        } else {\n            if (typeof syntax === 'string') {\n                // lazy parsing on first access\n                Object.defineProperty(descriptor, 'syntax', {\n                    get() {\n                        Object.defineProperty(descriptor, 'syntax', {\n                            value: parse(syntax)\n                        });\n\n                        return descriptor.syntax;\n                    }\n                });\n            } else {\n                descriptor.syntax = syntax;\n            }\n\n            // lazy graph build on first access\n            Object.defineProperty(descriptor, 'match', {\n                get() {\n                    Object.defineProperty(descriptor, 'match', {\n                        value: buildMatchGraph(descriptor.syntax, ref)\n                    });\n\n                    return descriptor.match;\n                }\n            });\n\n            if (type === 'Property') {\n                Object.defineProperty(descriptor, 'matchRef', {\n                    get() {\n                        const syntax = descriptor.syntax;\n                        const value = syntaxHasTopLevelCommaMultiplier(syntax)\n                            ? buildMatchGraph({\n                                ...syntax,\n                                terms: [syntax.terms[0].term]\n                            }, ref)\n                            : null;\n\n                        Object.defineProperty(descriptor, 'matchRef', {\n                            value\n                        });\n\n                        return value;\n                    }\n                });\n            }\n        }\n\n        return descriptor;\n    }\n    addAtrule_(name, syntax) {\n        if (!syntax) {\n            return;\n        }\n\n        this.atrules[name] = {\n            type: 'Atrule',\n            name: name,\n            prelude: syntax.prelude ? this.createDescriptor(syntax.prelude, 'AtrulePrelude', name) : null,\n            descriptors: syntax.descriptors\n                ? Object.keys(syntax.descriptors).reduce(\n                    (map, descName) => {\n                        map[descName] = this.createDescriptor(syntax.descriptors[descName], 'AtruleDescriptor', descName, name);\n                        return map;\n                    },\n                    Object.create(null)\n                )\n                : null\n        };\n    }\n    addProperty_(name, syntax) {\n        if (!syntax) {\n            return;\n        }\n\n        this.properties[name] = this.createDescriptor(syntax, 'Property', name);\n    }\n    addType_(name, syntax) {\n        if (!syntax) {\n            return;\n        }\n\n        this.types[name] = this.createDescriptor(syntax, 'Type', name);\n    }\n\n    checkAtruleName(atruleName) {\n        if (!this.getAtrule(atruleName)) {\n            return new SyntaxReferenceError('Unknown at-rule', '@' + atruleName);\n        }\n    }\n    checkAtrulePrelude(atruleName, prelude) {\n        const error = this.checkAtruleName(atruleName);\n\n        if (error) {\n            return error;\n        }\n\n        const atrule = this.getAtrule(atruleName);\n\n        if (!atrule.prelude && prelude) {\n            return new SyntaxError('At-rule `@' + atruleName + '` should not contain a prelude');\n        }\n\n        if (atrule.prelude && !prelude) {\n            if (!matchSyntax(this, atrule.prelude, '', false).matched) {\n                return new SyntaxError('At-rule `@' + atruleName + '` should contain a prelude');\n            }\n        }\n    }\n    checkAtruleDescriptorName(atruleName, descriptorName) {\n        const error = this.checkAtruleName(atruleName);\n\n        if (error) {\n            return error;\n        }\n\n        const atrule = this.getAtrule(atruleName);\n        const descriptor = names.keyword(descriptorName);\n\n        if (!atrule.descriptors) {\n            return new SyntaxError('At-rule `@' + atruleName + '` has no known descriptors');\n        }\n\n        if (!atrule.descriptors[descriptor.name] &&\n            !atrule.descriptors[descriptor.basename]) {\n            return new SyntaxReferenceError('Unknown at-rule descriptor', descriptorName);\n        }\n    }\n    checkPropertyName(propertyName) {\n        if (!this.getProperty(propertyName)) {\n            return new SyntaxReferenceError('Unknown property', propertyName);\n        }\n    }\n\n    matchAtrulePrelude(atruleName, prelude) {\n        const error = this.checkAtrulePrelude(atruleName, prelude);\n\n        if (error) {\n            return buildMatchResult(null, error);\n        }\n\n        const atrule = this.getAtrule(atruleName);\n\n        if (!atrule.prelude) {\n            return buildMatchResult(null, null);\n        }\n\n        return matchSyntax(this, atrule.prelude, prelude || '', false);\n    }\n    matchAtruleDescriptor(atruleName, descriptorName, value) {\n        const error = this.checkAtruleDescriptorName(atruleName, descriptorName);\n\n        if (error) {\n            return buildMatchResult(null, error);\n        }\n\n        const atrule = this.getAtrule(atruleName);\n        const descriptor = names.keyword(descriptorName);\n\n        return matchSyntax(this, atrule.descriptors[descriptor.name] || atrule.descriptors[descriptor.basename], value, false);\n    }\n    matchDeclaration(node) {\n        if (node.type !== 'Declaration') {\n            return buildMatchResult(null, new Error('Not a Declaration node'));\n        }\n\n        return this.matchProperty(node.property, node.value);\n    }\n    matchProperty(propertyName, value) {\n        // don't match syntax for a custom property at the moment\n        if (names.property(propertyName).custom) {\n            return buildMatchResult(null, new Error('Lexer matching doesn\\'t applicable for custom properties'));\n        }\n\n        const error = this.checkPropertyName(propertyName);\n\n        if (error) {\n            return buildMatchResult(null, error);\n        }\n\n        return matchSyntax(this, this.getProperty(propertyName), value, true);\n    }\n    matchType(typeName, value) {\n        const typeSyntax = this.getType(typeName);\n\n        if (!typeSyntax) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown type', typeName));\n        }\n\n        return matchSyntax(this, typeSyntax, value, false);\n    }\n    match(syntax, value) {\n        if (typeof syntax !== 'string' && (!syntax || !syntax.type)) {\n            return buildMatchResult(null, new SyntaxReferenceError('Bad syntax'));\n        }\n\n        if (typeof syntax === 'string' || !syntax.match) {\n            syntax = this.createDescriptor(syntax, 'Type', 'anonymous');\n        }\n\n        return matchSyntax(this, syntax, value, false);\n    }\n\n    findValueFragments(propertyName, value, type, name) {\n        return matchFragments(this, value, this.matchProperty(propertyName, value), type, name);\n    }\n    findDeclarationValueFragments(declaration, type, name) {\n        return matchFragments(this, declaration.value, this.matchDeclaration(declaration), type, name);\n    }\n    findAllFragments(ast, type, name) {\n        const result = [];\n\n        this.syntax.walk(ast, {\n            visit: 'Declaration',\n            enter: (declaration) => {\n                result.push.apply(result, this.findDeclarationValueFragments(declaration, type, name));\n            }\n        });\n\n        return result;\n    }\n\n    getAtrule(atruleName, fallbackBasename = true) {\n        const atrule = names.keyword(atruleName);\n        const atruleEntry = atrule.vendor && fallbackBasename\n            ? this.atrules[atrule.name] || this.atrules[atrule.basename]\n            : this.atrules[atrule.name];\n\n        return atruleEntry || null;\n    }\n    getAtrulePrelude(atruleName, fallbackBasename = true) {\n        const atrule = this.getAtrule(atruleName, fallbackBasename);\n\n        return atrule && atrule.prelude || null;\n    }\n    getAtruleDescriptor(atruleName, name) {\n        return this.atrules.hasOwnProperty(atruleName) && this.atrules.declarators\n            ? this.atrules[atruleName].declarators[name] || null\n            : null;\n    }\n    getProperty(propertyName, fallbackBasename = true) {\n        const property = names.property(propertyName);\n        const propertyEntry = property.vendor && fallbackBasename\n            ? this.properties[property.name] || this.properties[property.basename]\n            : this.properties[property.name];\n\n        return propertyEntry || null;\n    }\n    getType(name) {\n        return hasOwnProperty.call(this.types, name) ? this.types[name] : null;\n    }\n\n    validate() {\n        function syntaxRef(name, isType) {\n            return isType ? `<${name}>` : `<'${name}'>`;\n        }\n\n        function validate(syntax, name, broken, descriptor) {\n            if (broken.has(name)) {\n                return broken.get(name);\n            }\n\n            broken.set(name, false);\n            if (descriptor.syntax !== null) {\n                walk(descriptor.syntax, function(node) {\n                    if (node.type !== 'Type' && node.type !== 'Property') {\n                        return;\n                    }\n\n                    const map = node.type === 'Type' ? syntax.types : syntax.properties;\n                    const brokenMap = node.type === 'Type' ? brokenTypes : brokenProperties;\n\n                    if (!hasOwnProperty.call(map, node.name)) {\n                        errors.push(`${syntaxRef(name, broken === brokenTypes)} used missed syntax definition ${syntaxRef(node.name, node.type === 'Type')}`);\n                        broken.set(name, true);\n                    } else if (validate(syntax, node.name, brokenMap, map[node.name])) {\n                        errors.push(`${syntaxRef(name, broken === brokenTypes)} used broken syntax definition ${syntaxRef(node.name, node.type === 'Type')}`);\n                        broken.set(name, true);\n                    }\n                }, this);\n            }\n        }\n\n        const errors = [];\n        let brokenTypes = new Map();\n        let brokenProperties = new Map();\n\n        for (const key in this.types) {\n            validate(this, key, brokenTypes, this.types[key]);\n        }\n\n        for (const key in this.properties) {\n            validate(this, key, brokenProperties, this.properties[key]);\n        }\n\n        const brokenTypesArray = [...brokenTypes.keys()].filter(name => brokenTypes.get(name));\n        const brokenPropertiesArray = [...brokenProperties.keys()].filter(name => brokenProperties.get(name));\n\n        if (brokenTypesArray.length || brokenPropertiesArray.length) {\n            return {\n                errors,\n                types: brokenTypesArray,\n                properties: brokenPropertiesArray\n            };\n        }\n\n        return null;\n    }\n    dump(syntaxAsAst, pretty) {\n        return {\n            generic: this.generic,\n            cssWideKeywords: this.cssWideKeywords,\n            units: this.units,\n            types: dumpMapSyntax(this.types, !pretty, syntaxAsAst),\n            properties: dumpMapSyntax(this.properties, !pretty, syntaxAsAst),\n            atrules: dumpAtruleMapSyntax(this.atrules, !pretty, syntaxAsAst)\n        };\n    }\n    toString() {\n        return JSON.stringify(this.dump());\n    }\n};\n", "function appendOrSet(a, b) {\n    if (typeof b === 'string' && /^\\s*\\|/.test(b)) {\n        return typeof a === 'string'\n            ? a + b\n            : b.replace(/^\\s*\\|\\s*/, '');\n    }\n\n    return b || null;\n}\n\nfunction sliceProps(obj, props) {\n    const result = Object.create(null);\n\n    for (const [key, value] of Object.entries(obj)) {\n        if (value) {\n            result[key] = {};\n            for (const prop of Object.keys(value)) {\n                if (props.includes(prop)) {\n                    result[key][prop] = value[prop];\n                }\n            }\n        }\n    }\n\n    return result;\n}\n\nexport default function mix(dest, src) {\n    const result = { ...dest };\n\n    for (const [prop, value] of Object.entries(src)) {\n        switch (prop) {\n            case 'generic':\n                result[prop] = Boolean(value);\n                break;\n\n            case 'cssWideKeywords':\n                result[prop] = dest[prop]\n                    ? [...dest[prop], ...value]\n                    : value || [];\n                break;\n\n            case 'units':\n                result[prop] = { ...dest[prop] };\n                for (const [name, patch] of Object.entries(value)) {\n                    result[prop][name] = Array.isArray(patch) ? patch : [];\n                }\n                break;\n\n            case 'atrules':\n                result[prop] = { ...dest[prop] };\n\n                for (const [name, atrule] of Object.entries(value)) {\n                    const exists = result[prop][name] || {};\n                    const current = result[prop][name] = {\n                        prelude: exists.prelude || null,\n                        descriptors: {\n                            ...exists.descriptors\n                        }\n                    };\n\n                    if (!atrule) {\n                        continue;\n                    }\n\n                    current.prelude = atrule.prelude\n                        ? appendOrSet(current.prelude, atrule.prelude)\n                        : current.prelude || null;\n\n                    for (const [descriptorName, descriptorValue] of Object.entries(atrule.descriptors || {})) {\n                        current.descriptors[descriptorName] = descriptorValue\n                            ? appendOrSet(current.descriptors[descriptorName], descriptorValue)\n                            : null;\n                    }\n\n                    if (!Object.keys(current.descriptors).length) {\n                        current.descriptors = null;\n                    }\n                }\n                break;\n\n            case 'types':\n            case 'properties':\n                result[prop] = { ...dest[prop] };\n                for (const [name, syntax] of Object.entries(value)) {\n                    result[prop][name] = appendOrSet(result[prop][name], syntax);\n                }\n                break;\n\n            case 'scope':\n            case 'features':\n                result[prop] = { ...dest[prop] };\n                for (const [name, props] of Object.entries(value)) {\n                    result[prop][name] = { ...result[prop][name], ...props };\n                }\n                break;\n\n            case 'parseContext':\n                result[prop] = {\n                    ...dest[prop],\n                    ...value\n                };\n                break;\n\n            case 'atrule':\n            case 'pseudo':\n                result[prop] = {\n                    ...dest[prop],\n                    ...sliceProps(value, ['parse'])\n                };\n                break;\n\n            case 'node':\n                result[prop] = {\n                    ...dest[prop],\n                    ...sliceProps(value, ['name', 'structure', 'parse', 'generate', 'walkContext'])\n                };\n                break;\n        }\n    }\n\n    return result;\n}\n", "import { tokenize } from '../tokenizer/index.js';\nimport { createParser } from '../parser/create.js';\nimport { createGenerator } from '../generator/create.js';\nimport { createConvertor } from '../convertor/create.js';\nimport { createWalker } from '../walker/create.js';\nimport { Lexer } from '../lexer/Lexer.js';\nimport mix from './config/mix.js';\n\nfunction createSyntax(config) {\n    const parse = createParser(config);\n    const walk = createWalker(config);\n    const generate = createGenerator(config);\n    const { fromPlainObject, toPlainObject } = createConvertor(walk);\n\n    const syntax = {\n        lexer: null,\n        createLexer: config => new Lexer(config, syntax, syntax.lexer.structure),\n\n        tokenize,\n        parse,\n        generate,\n\n        walk,\n        find: walk.find,\n        findLast: walk.findLast,\n        findAll: walk.findAll,\n\n        fromPlainObject,\n        toPlainObject,\n\n        fork(extension) {\n            const base = mix({}, config); // copy of config\n\n            return createSyntax(\n                typeof extension === 'function'\n                    ? extension(base) // TODO: remove Object.assign as second parameter\n                    : mix(base, extension)\n            );\n        }\n    };\n\n    syntax.lexer = new Lexer({\n        generic: config.generic,\n        cssWideKeywords: config.cssWideKeywords,\n        units: config.units,\n        types: config.types,\n        atrules: config.atrules,\n        properties: config.properties,\n        node: config.node\n    }, syntax);\n\n    return syntax;\n};\n\nexport default config => createSyntax(mix({}, config));\n", "export default {\n    \"generic\": true,\n    \"cssWideKeywords\": [\n        \"initial\",\n        \"inherit\",\n        \"unset\",\n        \"revert\",\n        \"revert-layer\"\n    ],\n    \"units\": {\n        \"angle\": [\n            \"deg\",\n            \"grad\",\n            \"rad\",\n            \"turn\"\n        ],\n        \"decibel\": [\n            \"db\"\n        ],\n        \"flex\": [\n            \"fr\"\n        ],\n        \"frequency\": [\n            \"hz\",\n            \"khz\"\n        ],\n        \"length\": [\n            \"cm\",\n            \"mm\",\n            \"q\",\n            \"in\",\n            \"pt\",\n            \"pc\",\n            \"px\",\n            \"em\",\n            \"rem\",\n            \"ex\",\n            \"rex\",\n            \"cap\",\n            \"rcap\",\n            \"ch\",\n            \"rch\",\n            \"ic\",\n            \"ric\",\n            \"lh\",\n            \"rlh\",\n            \"vw\",\n            \"svw\",\n            \"lvw\",\n            \"dvw\",\n            \"vh\",\n            \"svh\",\n            \"lvh\",\n            \"dvh\",\n            \"vi\",\n            \"svi\",\n            \"lvi\",\n            \"dvi\",\n            \"vb\",\n            \"svb\",\n            \"lvb\",\n            \"dvb\",\n            \"vmin\",\n            \"svmin\",\n            \"lvmin\",\n            \"dvmin\",\n            \"vmax\",\n            \"svmax\",\n            \"lvmax\",\n            \"dvmax\",\n            \"cqw\",\n            \"cqh\",\n            \"cqi\",\n            \"cqb\",\n            \"cqmin\",\n            \"cqmax\"\n        ],\n        \"resolution\": [\n            \"dpi\",\n            \"dpcm\",\n            \"dppx\",\n            \"x\"\n        ],\n        \"semitones\": [\n            \"st\"\n        ],\n        \"time\": [\n            \"s\",\n            \"ms\"\n        ]\n    },\n    \"types\": {\n        \"abs()\": \"abs( <calc-sum> )\",\n        \"absolute-size\": \"xx-small|x-small|small|medium|large|x-large|xx-large|xxx-large\",\n        \"acos()\": \"acos( <calc-sum> )\",\n        \"alpha-value\": \"<number>|<percentage>\",\n        \"angle-percentage\": \"<angle>|<percentage>\",\n        \"angular-color-hint\": \"<angle-percentage>\",\n        \"angular-color-stop\": \"<color>&&<color-stop-angle>?\",\n        \"angular-color-stop-list\": \"[<angular-color-stop> [, <angular-color-hint>]?]# , <angular-color-stop>\",\n        \"animateable-feature\": \"scroll-position|contents|<custom-ident>\",\n        \"asin()\": \"asin( <calc-sum> )\",\n        \"atan()\": \"atan( <calc-sum> )\",\n        \"atan2()\": \"atan2( <calc-sum> , <calc-sum> )\",\n        \"attachment\": \"scroll|fixed|local\",\n        \"attr()\": \"attr( <attr-name> <type-or-unit>? [, <attr-fallback>]? )\",\n        \"attr-matcher\": \"['~'|'|'|'^'|'$'|'*']? '='\",\n        \"attr-modifier\": \"i|s\",\n        \"attribute-selector\": \"'[' <wq-name> ']'|'[' <wq-name> <attr-matcher> [<string-token>|<ident-token>] <attr-modifier>? ']'\",\n        \"auto-repeat\": \"repeat( [auto-fill|auto-fit] , [<line-names>? <fixed-size>]+ <line-names>? )\",\n        \"auto-track-list\": \"[<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>? <auto-repeat> [<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>?\",\n        \"axis\": \"block|inline|vertical|horizontal\",\n        \"baseline-position\": \"[first|last]? baseline\",\n        \"basic-shape\": \"<inset()>|<xywh()>|<rect()>|<circle()>|<ellipse()>|<polygon()>|<path()>\",\n        \"bg-image\": \"none|<image>\",\n        \"bg-layer\": \"<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>\",\n        \"bg-position\": \"[[left|center|right|top|bottom|<length-percentage>]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]|[center|[left|right] <length-percentage>?]&&[center|[top|bottom] <length-percentage>?]]\",\n        \"bg-size\": \"[<length-percentage>|auto]{1,2}|cover|contain\",\n        \"blur()\": \"blur( <length> )\",\n        \"blend-mode\": \"normal|multiply|screen|overlay|darken|lighten|color-dodge|color-burn|hard-light|soft-light|difference|exclusion|hue|saturation|color|luminosity\",\n        \"box\": \"border-box|padding-box|content-box\",\n        \"brightness()\": \"brightness( <number-percentage> )\",\n        \"calc()\": \"calc( <calc-sum> )\",\n        \"calc-sum\": \"<calc-product> [['+'|'-'] <calc-product>]*\",\n        \"calc-product\": \"<calc-value> ['*' <calc-value>|'/' <number>]*\",\n        \"calc-value\": \"<number>|<dimension>|<percentage>|<calc-constant>|( <calc-sum> )\",\n        \"calc-constant\": \"e|pi|infinity|-infinity|NaN\",\n        \"cf-final-image\": \"<image>|<color>\",\n        \"cf-mixing-image\": \"<percentage>?&&<image>\",\n        \"circle()\": \"circle( [<shape-radius>]? [at <position>]? )\",\n        \"clamp()\": \"clamp( <calc-sum>#{3} )\",\n        \"class-selector\": \"'.' <ident-token>\",\n        \"clip-source\": \"<url>\",\n        \"color\": \"<color-base>|currentColor|<system-color>|<device-cmyk()>|<light-dark()>|<-non-standard-color>\",\n        \"color-stop\": \"<color-stop-length>|<color-stop-angle>\",\n        \"color-stop-angle\": \"<angle-percentage>{1,2}\",\n        \"color-stop-length\": \"<length-percentage>{1,2}\",\n        \"color-stop-list\": \"[<linear-color-stop> [, <linear-color-hint>]?]# , <linear-color-stop>\",\n        \"color-interpolation-method\": \"in [<rectangular-color-space>|<polar-color-space> <hue-interpolation-method>?|<custom-color-space>]\",\n        \"combinator\": \"'>'|'+'|'~'|['|' '|']\",\n        \"common-lig-values\": \"[common-ligatures|no-common-ligatures]\",\n        \"compat-auto\": \"searchfield|textarea|push-button|slider-horizontal|checkbox|radio|square-button|menulist|listbox|meter|progress-bar|button\",\n        \"composite-style\": \"clear|copy|source-over|source-in|source-out|source-atop|destination-over|destination-in|destination-out|destination-atop|xor\",\n        \"compositing-operator\": \"add|subtract|intersect|exclude\",\n        \"compound-selector\": \"[<type-selector>? <subclass-selector>*]!\",\n        \"compound-selector-list\": \"<compound-selector>#\",\n        \"complex-selector\": \"<complex-selector-unit> [<combinator>? <complex-selector-unit>]*\",\n        \"complex-selector-list\": \"<complex-selector>#\",\n        \"conic-gradient()\": \"conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )\",\n        \"contextual-alt-values\": \"[contextual|no-contextual]\",\n        \"content-distribution\": \"space-between|space-around|space-evenly|stretch\",\n        \"content-list\": \"[<string>|contents|<image>|<counter>|<quote>|<target>|<leader()>|<attr()>]+\",\n        \"content-position\": \"center|start|end|flex-start|flex-end\",\n        \"content-replacement\": \"<image>\",\n        \"contrast()\": \"contrast( [<number-percentage>] )\",\n        \"cos()\": \"cos( <calc-sum> )\",\n        \"counter\": \"<counter()>|<counters()>\",\n        \"counter()\": \"counter( <counter-name> , <counter-style>? )\",\n        \"counter-name\": \"<custom-ident>\",\n        \"counter-style\": \"<counter-style-name>|symbols( )\",\n        \"counter-style-name\": \"<custom-ident>\",\n        \"counters()\": \"counters( <counter-name> , <string> , <counter-style>? )\",\n        \"cross-fade()\": \"cross-fade( <cf-mixing-image> , <cf-final-image>? )\",\n        \"cubic-bezier-timing-function\": \"ease|ease-in|ease-out|ease-in-out|cubic-bezier( <number [0,1]> , <number> , <number [0,1]> , <number> )\",\n        \"deprecated-system-color\": \"ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText\",\n        \"discretionary-lig-values\": \"[discretionary-ligatures|no-discretionary-ligatures]\",\n        \"display-box\": \"contents|none\",\n        \"display-inside\": \"flow|flow-root|table|flex|grid|ruby\",\n        \"display-internal\": \"table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption|ruby-base|ruby-text|ruby-base-container|ruby-text-container\",\n        \"display-legacy\": \"inline-block|inline-list-item|inline-table|inline-flex|inline-grid\",\n        \"display-listitem\": \"<display-outside>?&&[flow|flow-root]?&&list-item\",\n        \"display-outside\": \"block|inline|run-in\",\n        \"drop-shadow()\": \"drop-shadow( <length>{2,3} <color>? )\",\n        \"east-asian-variant-values\": \"[jis78|jis83|jis90|jis04|simplified|traditional]\",\n        \"east-asian-width-values\": \"[full-width|proportional-width]\",\n        \"element()\": \"element( <custom-ident> , [first|start|last|first-except]? )|element( <id-selector> )\",\n        \"ellipse()\": \"ellipse( [<shape-radius>{2}]? [at <position>]? )\",\n        \"ending-shape\": \"circle|ellipse\",\n        \"env()\": \"env( <custom-ident> , <declaration-value>? )\",\n        \"exp()\": \"exp( <calc-sum> )\",\n        \"explicit-track-list\": \"[<line-names>? <track-size>]+ <line-names>?\",\n        \"family-name\": \"<string>|<custom-ident>+\",\n        \"feature-tag-value\": \"<string> [<integer>|on|off]?\",\n        \"feature-type\": \"@stylistic|@historical-forms|@styleset|@character-variant|@swash|@ornaments|@annotation\",\n        \"feature-value-block\": \"<feature-type> '{' <feature-value-declaration-list> '}'\",\n        \"feature-value-block-list\": \"<feature-value-block>+\",\n        \"feature-value-declaration\": \"<custom-ident> : <integer>+ ;\",\n        \"feature-value-declaration-list\": \"<feature-value-declaration>\",\n        \"feature-value-name\": \"<custom-ident>\",\n        \"fill-rule\": \"nonzero|evenodd\",\n        \"filter-function\": \"<blur()>|<brightness()>|<contrast()>|<drop-shadow()>|<grayscale()>|<hue-rotate()>|<invert()>|<opacity()>|<saturate()>|<sepia()>\",\n        \"filter-function-list\": \"[<filter-function>|<url>]+\",\n        \"final-bg-layer\": \"<'background-color'>||<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>\",\n        \"fixed-breadth\": \"<length-percentage>\",\n        \"fixed-repeat\": \"repeat( [<integer [1,∞]>] , [<line-names>? <fixed-size>]+ <line-names>? )\",\n        \"fixed-size\": \"<fixed-breadth>|minmax( <fixed-breadth> , <track-breadth> )|minmax( <inflexible-breadth> , <fixed-breadth> )\",\n        \"font-stretch-absolute\": \"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded|<percentage>\",\n        \"font-variant-css21\": \"[normal|small-caps]\",\n        \"font-weight-absolute\": \"normal|bold|<number [1,1000]>\",\n        \"frequency-percentage\": \"<frequency>|<percentage>\",\n        \"general-enclosed\": \"[<function-token> <any-value>? )]|[( <any-value>? )]\",\n        \"generic-family\": \"<generic-script-specific>|<generic-complete>|<generic-incomplete>|<-non-standard-generic-family>\",\n        \"generic-name\": \"serif|sans-serif|cursive|fantasy|monospace\",\n        \"geometry-box\": \"<shape-box>|fill-box|stroke-box|view-box\",\n        \"gradient\": \"<linear-gradient()>|<repeating-linear-gradient()>|<radial-gradient()>|<repeating-radial-gradient()>|<conic-gradient()>|<repeating-conic-gradient()>|<-legacy-gradient>\",\n        \"grayscale()\": \"grayscale( <number-percentage> )\",\n        \"grid-line\": \"auto|<custom-ident>|[<integer>&&<custom-ident>?]|[span&&[<integer>||<custom-ident>]]\",\n        \"historical-lig-values\": \"[historical-ligatures|no-historical-ligatures]\",\n        \"hsl()\": \"hsl( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsl( <hue> , <percentage> , <percentage> , <alpha-value>? )\",\n        \"hsla()\": \"hsla( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsla( <hue> , <percentage> , <percentage> , <alpha-value>? )\",\n        \"hue\": \"<number>|<angle>\",\n        \"hue-rotate()\": \"hue-rotate( <angle> )\",\n        \"hue-interpolation-method\": \"[shorter|longer|increasing|decreasing] hue\",\n        \"hwb()\": \"hwb( [<hue>|none] [<percentage>|none] [<percentage>|none] [/ [<alpha-value>|none]]? )\",\n        \"hypot()\": \"hypot( <calc-sum># )\",\n        \"image\": \"<url>|<image()>|<image-set()>|<element()>|<paint()>|<cross-fade()>|<gradient>\",\n        \"image()\": \"image( <image-tags>? [<image-src>? , <color>?]! )\",\n        \"image-set()\": \"image-set( <image-set-option># )\",\n        \"image-set-option\": \"[<image>|<string>] [<resolution>||type( <string> )]\",\n        \"image-src\": \"<url>|<string>\",\n        \"image-tags\": \"ltr|rtl\",\n        \"inflexible-breadth\": \"<length-percentage>|min-content|max-content|auto\",\n        \"inset()\": \"inset( <length-percentage>{1,4} [round <'border-radius'>]? )\",\n        \"invert()\": \"invert( <number-percentage> )\",\n        \"keyframes-name\": \"<custom-ident>|<string>\",\n        \"keyframe-block\": \"<keyframe-selector># { <declaration-list> }\",\n        \"keyframe-block-list\": \"<keyframe-block>+\",\n        \"keyframe-selector\": \"from|to|<percentage>|<timeline-range-name> <percentage>\",\n        \"lab()\": \"lab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )\",\n        \"layer()\": \"layer( <layer-name> )\",\n        \"layer-name\": \"<ident> ['.' <ident>]*\",\n        \"lch()\": \"lch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )\",\n        \"leader()\": \"leader( <leader-type> )\",\n        \"leader-type\": \"dotted|solid|space|<string>\",\n        \"length-percentage\": \"<length>|<percentage>\",\n        \"light-dark()\": \"light-dark( <color> , <color> )\",\n        \"line-names\": \"'[' <custom-ident>* ']'\",\n        \"line-name-list\": \"[<line-names>|<name-repeat>]+\",\n        \"line-style\": \"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset\",\n        \"line-width\": \"<length>|thin|medium|thick\",\n        \"linear-color-hint\": \"<length-percentage>\",\n        \"linear-color-stop\": \"<color> <color-stop-length>?\",\n        \"linear-gradient()\": \"linear-gradient( [[<angle>|to <side-or-corner>]||<color-interpolation-method>]? , <color-stop-list> )\",\n        \"log()\": \"log( <calc-sum> , <calc-sum>? )\",\n        \"mask-layer\": \"<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||<geometry-box>||[<geometry-box>|no-clip]||<compositing-operator>||<masking-mode>\",\n        \"mask-position\": \"[<length-percentage>|left|center|right] [<length-percentage>|top|center|bottom]?\",\n        \"mask-reference\": \"none|<image>|<mask-source>\",\n        \"mask-source\": \"<url>\",\n        \"masking-mode\": \"alpha|luminance|match-source\",\n        \"matrix()\": \"matrix( <number>#{6} )\",\n        \"matrix3d()\": \"matrix3d( <number>#{16} )\",\n        \"max()\": \"max( <calc-sum># )\",\n        \"media-and\": \"<media-in-parens> [and <media-in-parens>]+\",\n        \"media-condition\": \"<media-not>|<media-and>|<media-or>|<media-in-parens>\",\n        \"media-condition-without-or\": \"<media-not>|<media-and>|<media-in-parens>\",\n        \"media-feature\": \"( [<mf-plain>|<mf-boolean>|<mf-range>] )\",\n        \"media-in-parens\": \"( <media-condition> )|<media-feature>|<general-enclosed>\",\n        \"media-not\": \"not <media-in-parens>\",\n        \"media-or\": \"<media-in-parens> [or <media-in-parens>]+\",\n        \"media-query\": \"<media-condition>|[not|only]? <media-type> [and <media-condition-without-or>]?\",\n        \"media-query-list\": \"<media-query>#\",\n        \"media-type\": \"<ident>\",\n        \"mf-boolean\": \"<mf-name>\",\n        \"mf-name\": \"<ident>\",\n        \"mf-plain\": \"<mf-name> : <mf-value>\",\n        \"mf-range\": \"<mf-name> ['<'|'>']? '='? <mf-value>|<mf-value> ['<'|'>']? '='? <mf-name>|<mf-value> '<' '='? <mf-name> '<' '='? <mf-value>|<mf-value> '>' '='? <mf-name> '>' '='? <mf-value>\",\n        \"mf-value\": \"<number>|<dimension>|<ident>|<ratio>\",\n        \"min()\": \"min( <calc-sum># )\",\n        \"minmax()\": \"minmax( [<length-percentage>|min-content|max-content|auto] , [<length-percentage>|<flex>|min-content|max-content|auto] )\",\n        \"mod()\": \"mod( <calc-sum> , <calc-sum> )\",\n        \"name-repeat\": \"repeat( [<integer [1,∞]>|auto-fill] , <line-names>+ )\",\n        \"named-color\": \"transparent|aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen\",\n        \"namespace-prefix\": \"<ident>\",\n        \"ns-prefix\": \"[<ident-token>|'*']? '|'\",\n        \"number-percentage\": \"<number>|<percentage>\",\n        \"numeric-figure-values\": \"[lining-nums|oldstyle-nums]\",\n        \"numeric-fraction-values\": \"[diagonal-fractions|stacked-fractions]\",\n        \"numeric-spacing-values\": \"[proportional-nums|tabular-nums]\",\n        \"nth\": \"<an-plus-b>|even|odd\",\n        \"opacity()\": \"opacity( [<number-percentage>] )\",\n        \"overflow-position\": \"unsafe|safe\",\n        \"outline-radius\": \"<length>|<percentage>\",\n        \"page-body\": \"<declaration>? [; <page-body>]?|<page-margin-box> <page-body>\",\n        \"page-margin-box\": \"<page-margin-box-type> '{' <declaration-list> '}'\",\n        \"page-margin-box-type\": \"@top-left-corner|@top-left|@top-center|@top-right|@top-right-corner|@bottom-left-corner|@bottom-left|@bottom-center|@bottom-right|@bottom-right-corner|@left-top|@left-middle|@left-bottom|@right-top|@right-middle|@right-bottom\",\n        \"page-selector-list\": \"[<page-selector>#]?\",\n        \"page-selector\": \"<pseudo-page>+|<ident> <pseudo-page>*\",\n        \"page-size\": \"A5|A4|A3|B5|B4|JIS-B5|JIS-B4|letter|legal|ledger\",\n        \"path()\": \"path( [<fill-rule> ,]? <string> )\",\n        \"paint()\": \"paint( <ident> , <declaration-value>? )\",\n        \"perspective()\": \"perspective( [<length [0,∞]>|none] )\",\n        \"polygon()\": \"polygon( <fill-rule>? , [<length-percentage> <length-percentage>]# )\",\n        \"polar-color-space\": \"hsl|hwb|lch|oklch\",\n        \"position\": \"[[left|center|right]||[top|center|bottom]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]?|[[left|right] <length-percentage>]&&[[top|bottom] <length-percentage>]]\",\n        \"pow()\": \"pow( <calc-sum> , <calc-sum> )\",\n        \"pseudo-class-selector\": \"':' <ident-token>|':' <function-token> <any-value> ')'\",\n        \"pseudo-element-selector\": \"':' <pseudo-class-selector>|<legacy-pseudo-element-selector>\",\n        \"pseudo-page\": \": [left|right|first|blank]\",\n        \"quote\": \"open-quote|close-quote|no-open-quote|no-close-quote\",\n        \"radial-gradient()\": \"radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )\",\n        \"ratio\": \"<number [0,∞]> [/ <number [0,∞]>]?\",\n        \"ray()\": \"ray( <angle>&&<ray-size>?&&contain?&&[at <position>]? )\",\n        \"ray-size\": \"closest-side|closest-corner|farthest-side|farthest-corner|sides\",\n        \"rectangular-color-space\": \"srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020|lab|oklab|xyz|xyz-d50|xyz-d65\",\n        \"relative-selector\": \"<combinator>? <complex-selector>\",\n        \"relative-selector-list\": \"<relative-selector>#\",\n        \"relative-size\": \"larger|smaller\",\n        \"rem()\": \"rem( <calc-sum> , <calc-sum> )\",\n        \"repeat-style\": \"repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}\",\n        \"repeating-conic-gradient()\": \"repeating-conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )\",\n        \"repeating-linear-gradient()\": \"repeating-linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )\",\n        \"repeating-radial-gradient()\": \"repeating-radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )\",\n        \"reversed-counter-name\": \"reversed( <counter-name> )\",\n        \"rgb()\": \"rgb( <percentage>{3} [/ <alpha-value>]? )|rgb( <number>{3} [/ <alpha-value>]? )|rgb( <percentage>#{3} , <alpha-value>? )|rgb( <number>#{3} , <alpha-value>? )\",\n        \"rgba()\": \"rgba( <percentage>{3} [/ <alpha-value>]? )|rgba( <number>{3} [/ <alpha-value>]? )|rgba( <percentage>#{3} , <alpha-value>? )|rgba( <number>#{3} , <alpha-value>? )\",\n        \"rotate()\": \"rotate( [<angle>|<zero>] )\",\n        \"rotate3d()\": \"rotate3d( <number> , <number> , <number> , [<angle>|<zero>] )\",\n        \"rotateX()\": \"rotateX( [<angle>|<zero>] )\",\n        \"rotateY()\": \"rotateY( [<angle>|<zero>] )\",\n        \"rotateZ()\": \"rotateZ( [<angle>|<zero>] )\",\n        \"round()\": \"round( <rounding-strategy>? , <calc-sum> , <calc-sum> )\",\n        \"rounding-strategy\": \"nearest|up|down|to-zero\",\n        \"saturate()\": \"saturate( <number-percentage> )\",\n        \"scale()\": \"scale( [<number>|<percentage>]#{1,2} )\",\n        \"scale3d()\": \"scale3d( [<number>|<percentage>]#{3} )\",\n        \"scaleX()\": \"scaleX( [<number>|<percentage>] )\",\n        \"scaleY()\": \"scaleY( [<number>|<percentage>] )\",\n        \"scaleZ()\": \"scaleZ( [<number>|<percentage>] )\",\n        \"scroll()\": \"scroll( [<axis>||<scroller>]? )\",\n        \"scroller\": \"root|nearest\",\n        \"self-position\": \"center|start|end|self-start|self-end|flex-start|flex-end\",\n        \"shape-radius\": \"<length-percentage>|closest-side|farthest-side\",\n        \"sign()\": \"sign( <calc-sum> )\",\n        \"skew()\": \"skew( [<angle>|<zero>] , [<angle>|<zero>]? )\",\n        \"skewX()\": \"skewX( [<angle>|<zero>] )\",\n        \"skewY()\": \"skewY( [<angle>|<zero>] )\",\n        \"sepia()\": \"sepia( <number-percentage> )\",\n        \"shadow\": \"inset?&&<length>{2,4}&&<color>?\",\n        \"shadow-t\": \"[<length>{2,3}&&<color>?]\",\n        \"shape\": \"rect( <top> , <right> , <bottom> , <left> )|rect( <top> <right> <bottom> <left> )\",\n        \"shape-box\": \"<box>|margin-box\",\n        \"side-or-corner\": \"[left|right]||[top|bottom]\",\n        \"sin()\": \"sin( <calc-sum> )\",\n        \"single-animation\": \"<'animation-duration'>||<easing-function>||<'animation-delay'>||<single-animation-iteration-count>||<single-animation-direction>||<single-animation-fill-mode>||<single-animation-play-state>||[none|<keyframes-name>]||<single-animation-timeline>\",\n        \"single-animation-direction\": \"normal|reverse|alternate|alternate-reverse\",\n        \"single-animation-fill-mode\": \"none|forwards|backwards|both\",\n        \"single-animation-iteration-count\": \"infinite|<number>\",\n        \"single-animation-play-state\": \"running|paused\",\n        \"single-animation-timeline\": \"auto|none|<dashed-ident>|<scroll()>|<view()>\",\n        \"single-transition\": \"[none|<single-transition-property>]||<time>||<easing-function>||<time>||<transition-behavior-value>\",\n        \"single-transition-property\": \"all|<custom-ident>\",\n        \"size\": \"closest-side|farthest-side|closest-corner|farthest-corner|<length>|<length-percentage>{2}\",\n        \"sqrt()\": \"sqrt( <calc-sum> )\",\n        \"step-position\": \"jump-start|jump-end|jump-none|jump-both|start|end\",\n        \"step-timing-function\": \"step-start|step-end|steps( <integer> [, <step-position>]? )\",\n        \"subclass-selector\": \"<id-selector>|<class-selector>|<attribute-selector>|<pseudo-class-selector>\",\n        \"supports-condition\": \"not <supports-in-parens>|<supports-in-parens> [and <supports-in-parens>]*|<supports-in-parens> [or <supports-in-parens>]*\",\n        \"supports-in-parens\": \"( <supports-condition> )|<supports-feature>|<general-enclosed>\",\n        \"supports-feature\": \"<supports-decl>|<supports-selector-fn>\",\n        \"supports-decl\": \"( <declaration> )\",\n        \"supports-selector-fn\": \"selector( <complex-selector> )\",\n        \"symbol\": \"<string>|<image>|<custom-ident>\",\n        \"tan()\": \"tan( <calc-sum> )\",\n        \"target\": \"<target-counter()>|<target-counters()>|<target-text()>\",\n        \"target-counter()\": \"target-counter( [<string>|<url>] , <custom-ident> , <counter-style>? )\",\n        \"target-counters()\": \"target-counters( [<string>|<url>] , <custom-ident> , <string> , <counter-style>? )\",\n        \"target-text()\": \"target-text( [<string>|<url>] , [content|before|after|first-letter]? )\",\n        \"time-percentage\": \"<time>|<percentage>\",\n        \"timeline-range-name\": \"cover|contain|entry|exit|entry-crossing|exit-crossing\",\n        \"easing-function\": \"linear|<cubic-bezier-timing-function>|<step-timing-function>\",\n        \"track-breadth\": \"<length-percentage>|<flex>|min-content|max-content|auto\",\n        \"track-list\": \"[<line-names>? [<track-size>|<track-repeat>]]+ <line-names>?\",\n        \"track-repeat\": \"repeat( [<integer [1,∞]>] , [<line-names>? <track-size>]+ <line-names>? )\",\n        \"track-size\": \"<track-breadth>|minmax( <inflexible-breadth> , <track-breadth> )|fit-content( <length-percentage> )\",\n        \"transform-function\": \"<matrix()>|<translate()>|<translateX()>|<translateY()>|<scale()>|<scaleX()>|<scaleY()>|<rotate()>|<skew()>|<skewX()>|<skewY()>|<matrix3d()>|<translate3d()>|<translateZ()>|<scale3d()>|<scaleZ()>|<rotate3d()>|<rotateX()>|<rotateY()>|<rotateZ()>|<perspective()>\",\n        \"transform-list\": \"<transform-function>+\",\n        \"transition-behavior-value\": \"normal|allow-discrete\",\n        \"translate()\": \"translate( <length-percentage> , <length-percentage>? )\",\n        \"translate3d()\": \"translate3d( <length-percentage> , <length-percentage> , <length> )\",\n        \"translateX()\": \"translateX( <length-percentage> )\",\n        \"translateY()\": \"translateY( <length-percentage> )\",\n        \"translateZ()\": \"translateZ( <length> )\",\n        \"type-or-unit\": \"string|color|url|integer|number|length|angle|time|frequency|cap|ch|em|ex|ic|lh|rlh|rem|vb|vi|vw|vh|vmin|vmax|mm|Q|cm|in|pt|pc|px|deg|grad|rad|turn|ms|s|Hz|kHz|%\",\n        \"type-selector\": \"<wq-name>|<ns-prefix>? '*'\",\n        \"var()\": \"var( <custom-property-name> , <declaration-value>? )\",\n        \"view()\": \"view( [<axis>||<'view-timeline-inset'>]? )\",\n        \"viewport-length\": \"auto|<length-percentage>\",\n        \"visual-box\": \"content-box|padding-box|border-box\",\n        \"wq-name\": \"<ns-prefix>? <ident-token>\",\n        \"-legacy-gradient\": \"<-webkit-gradient()>|<-legacy-linear-gradient>|<-legacy-repeating-linear-gradient>|<-legacy-radial-gradient>|<-legacy-repeating-radial-gradient>\",\n        \"-legacy-linear-gradient\": \"-moz-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-linear-gradient( <-legacy-linear-gradient-arguments> )\",\n        \"-legacy-repeating-linear-gradient\": \"-moz-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )\",\n        \"-legacy-linear-gradient-arguments\": \"[<angle>|<side-or-corner>]? , <color-stop-list>\",\n        \"-legacy-radial-gradient\": \"-moz-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-radial-gradient( <-legacy-radial-gradient-arguments> )\",\n        \"-legacy-repeating-radial-gradient\": \"-moz-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )\",\n        \"-legacy-radial-gradient-arguments\": \"[<position> ,]? [[[<-legacy-radial-gradient-shape>||<-legacy-radial-gradient-size>]|[<length>|<percentage>]{2}] ,]? <color-stop-list>\",\n        \"-legacy-radial-gradient-size\": \"closest-side|closest-corner|farthest-side|farthest-corner|contain|cover\",\n        \"-legacy-radial-gradient-shape\": \"circle|ellipse\",\n        \"-non-standard-font\": \"-apple-system-body|-apple-system-headline|-apple-system-subheadline|-apple-system-caption1|-apple-system-caption2|-apple-system-footnote|-apple-system-short-body|-apple-system-short-headline|-apple-system-short-subheadline|-apple-system-short-caption1|-apple-system-short-footnote|-apple-system-tall-body\",\n        \"-non-standard-color\": \"-moz-ButtonDefault|-moz-ButtonHoverFace|-moz-ButtonHoverText|-moz-CellHighlight|-moz-CellHighlightText|-moz-Combobox|-moz-ComboboxText|-moz-Dialog|-moz-DialogText|-moz-dragtargetzone|-moz-EvenTreeRow|-moz-Field|-moz-FieldText|-moz-html-CellHighlight|-moz-html-CellHighlightText|-moz-mac-accentdarkestshadow|-moz-mac-accentdarkshadow|-moz-mac-accentface|-moz-mac-accentlightesthighlight|-moz-mac-accentlightshadow|-moz-mac-accentregularhighlight|-moz-mac-accentregularshadow|-moz-mac-chrome-active|-moz-mac-chrome-inactive|-moz-mac-focusring|-moz-mac-menuselect|-moz-mac-menushadow|-moz-mac-menutextselect|-moz-MenuHover|-moz-MenuHoverText|-moz-MenuBarText|-moz-MenuBarHoverText|-moz-nativehyperlinktext|-moz-OddTreeRow|-moz-win-communicationstext|-moz-win-mediatext|-moz-activehyperlinktext|-moz-default-background-color|-moz-default-color|-moz-hyperlinktext|-moz-visitedhyperlinktext|-webkit-activelink|-webkit-focus-ring-color|-webkit-link|-webkit-text\",\n        \"-non-standard-image-rendering\": \"optimize-contrast|-moz-crisp-edges|-o-crisp-edges|-webkit-optimize-contrast\",\n        \"-non-standard-overflow\": \"overlay|-moz-scrollbars-none|-moz-scrollbars-horizontal|-moz-scrollbars-vertical|-moz-hidden-unscrollable\",\n        \"-non-standard-size\": \"intrinsic|min-intrinsic|-webkit-fill-available|-webkit-fit-content|-webkit-min-content|-webkit-max-content|-moz-available|-moz-fit-content|-moz-min-content|-moz-max-content\",\n        \"-webkit-gradient()\": \"-webkit-gradient( <-webkit-gradient-type> , <-webkit-gradient-point> [, <-webkit-gradient-point>|, <-webkit-gradient-radius> , <-webkit-gradient-point>] [, <-webkit-gradient-radius>]? [, <-webkit-gradient-color-stop>]* )\",\n        \"-webkit-gradient-color-stop\": \"from( <color> )|color-stop( [<number-zero-one>|<percentage>] , <color> )|to( <color> )\",\n        \"-webkit-gradient-point\": \"[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]\",\n        \"-webkit-gradient-radius\": \"<length>|<percentage>\",\n        \"-webkit-gradient-type\": \"linear|radial\",\n        \"-webkit-mask-box-repeat\": \"repeat|stretch|round\",\n        \"-ms-filter-function-list\": \"<-ms-filter-function>+\",\n        \"-ms-filter-function\": \"<-ms-filter-function-progid>|<-ms-filter-function-legacy>\",\n        \"-ms-filter-function-progid\": \"'progid:' [<ident-token> '.']* [<ident-token>|<function-token> <any-value>? )]\",\n        \"-ms-filter-function-legacy\": \"<ident-token>|<function-token> <any-value>? )\",\n        \"absolute-color-base\": \"<hex-color>|<absolute-color-function>|<named-color>|transparent\",\n        \"absolute-color-function\": \"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<oklab()>|<oklch()>|<color()>\",\n        \"age\": \"child|young|old\",\n        \"anchor-name\": \"<dashed-ident>\",\n        \"attr-name\": \"<wq-name>\",\n        \"attr-fallback\": \"<any-value>\",\n        \"bg-clip\": \"<box>|border|text\",\n        \"bottom\": \"<length>|auto\",\n        \"container-name\": \"<custom-ident>\",\n        \"container-condition\": \"not <query-in-parens>|<query-in-parens> [[and <query-in-parens>]*|[or <query-in-parens>]*]\",\n        \"coord-box\": \"content-box|padding-box|border-box|fill-box|stroke-box|view-box\",\n        \"generic-voice\": \"[<age>? <gender> <integer>?]\",\n        \"gender\": \"male|female|neutral\",\n        \"generic-script-specific\": \"generic( kai )|generic( fangsong )|generic( nastaliq )\",\n        \"generic-complete\": \"serif|sans-serif|system-ui|cursive|fantasy|math|monospace\",\n        \"generic-incomplete\": \"ui-serif|ui-sans-serif|ui-monospace|ui-rounded\",\n        \"-non-standard-generic-family\": \"-apple-system|BlinkMacSystemFont\",\n        \"left\": \"<length>|auto\",\n        \"color-base\": \"<hex-color>|<color-function>|<named-color>|<color-mix()>|transparent\",\n        \"color-function\": \"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<oklab()>|<oklch()>|<color()>\",\n        \"system-color\": \"AccentColor|AccentColorText|ActiveText|ButtonBorder|ButtonFace|ButtonText|Canvas|CanvasText|Field|FieldText|GrayText|Highlight|HighlightText|LinkText|Mark|MarkText|SelectedItem|SelectedItemText|VisitedText\",\n        \"device-cmyk()\": \"<legacy-device-cmyk-syntax>|<modern-device-cmyk-syntax>\",\n        \"legacy-device-cmyk-syntax\": \"device-cmyk( <number>#{4} )\",\n        \"modern-device-cmyk-syntax\": \"device-cmyk( <cmyk-component>{4} [/ [<alpha-value>|none]]? )\",\n        \"cmyk-component\": \"<number>|<percentage>|none\",\n        \"color-mix()\": \"color-mix( <color-interpolation-method> , [<color>&&<percentage [0,100]>?]#{2} )\",\n        \"color-space\": \"<rectangular-color-space>|<polar-color-space>|<custom-color-space>\",\n        \"custom-color-space\": \"<dashed-ident>\",\n        \"paint\": \"none|<color>|<url> [none|<color>]?|context-fill|context-stroke\",\n        \"palette-identifier\": \"<dashed-ident>\",\n        \"right\": \"<length>|auto\",\n        \"scope-start\": \"<forgiving-selector-list>\",\n        \"scope-end\": \"<forgiving-selector-list>\",\n        \"forgiving-selector-list\": \"<complex-real-selector-list>\",\n        \"forgiving-relative-selector-list\": \"<relative-real-selector-list>\",\n        \"selector-list\": \"<complex-selector-list>\",\n        \"complex-real-selector-list\": \"<complex-real-selector>#\",\n        \"simple-selector-list\": \"<simple-selector>#\",\n        \"relative-real-selector-list\": \"<relative-real-selector>#\",\n        \"complex-selector-unit\": \"[<compound-selector>? <pseudo-compound-selector>*]!\",\n        \"complex-real-selector\": \"<compound-selector> [<combinator>? <compound-selector>]*\",\n        \"relative-real-selector\": \"<combinator>? <complex-real-selector>\",\n        \"pseudo-compound-selector\": \"<pseudo-element-selector> <pseudo-class-selector>*\",\n        \"simple-selector\": \"<type-selector>|<subclass-selector>\",\n        \"legacy-pseudo-element-selector\": \"':' [before|after|first-line|first-letter]\",\n        \"single-animation-composition\": \"replace|add|accumulate\",\n        \"svg-length\": \"<percentage>|<length>|<number>\",\n        \"svg-writing-mode\": \"lr-tb|rl-tb|tb-rl|lr|rl|tb\",\n        \"top\": \"<length>|auto\",\n        \"x\": \"<number>\",\n        \"y\": \"<number>\",\n        \"declaration\": \"<ident-token> : <declaration-value>? ['!' important]?\",\n        \"declaration-list\": \"[<declaration>? ';']* <declaration>?\",\n        \"url\": \"url( <string> <url-modifier>* )|<url-token>\",\n        \"url-modifier\": \"<ident>|<function-token> <any-value> )\",\n        \"number-zero-one\": \"<number [0,1]>\",\n        \"number-one-or-greater\": \"<number [1,∞]>\",\n        \"color()\": \"color( <colorspace-params> [/ [<alpha-value>|none]]? )\",\n        \"colorspace-params\": \"[<predefined-rgb-params>|<xyz-params>]\",\n        \"predefined-rgb-params\": \"<predefined-rgb> [<number>|<percentage>|none]{3}\",\n        \"predefined-rgb\": \"srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020\",\n        \"xyz-params\": \"<xyz-space> [<number>|<percentage>|none]{3}\",\n        \"xyz-space\": \"xyz|xyz-d50|xyz-d65\",\n        \"oklab()\": \"oklab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )\",\n        \"oklch()\": \"oklch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )\",\n        \"offset-path\": \"<ray()>|<url>|<basic-shape>\",\n        \"rect()\": \"rect( [<length-percentage>|auto]{4} [round <'border-radius'>]? )\",\n        \"xywh()\": \"xywh( <length-percentage>{2} <length-percentage [0,∞]>{2} [round <'border-radius'>]? )\",\n        \"query-in-parens\": \"( <container-condition> )|( <size-feature> )|style( <style-query> )|<general-enclosed>\",\n        \"size-feature\": \"<mf-plain>|<mf-boolean>|<mf-range>\",\n        \"style-feature\": \"<declaration>\",\n        \"style-query\": \"<style-condition>|<style-feature>\",\n        \"style-condition\": \"not <style-in-parens>|<style-in-parens> [[and <style-in-parens>]*|[or <style-in-parens>]*]\",\n        \"style-in-parens\": \"( <style-condition> )|( <style-feature> )|<general-enclosed>\",\n        \"-non-standard-display\": \"-ms-inline-flexbox|-ms-grid|-ms-inline-grid|-webkit-flex|-webkit-inline-flex|-webkit-box|-webkit-inline-box|-moz-inline-stack|-moz-box|-moz-inline-box\",\n        \"inset-area\": \"[[left|center|right|span-left|span-right|x-start|x-end|span-x-start|span-x-end|x-self-start|x-self-end|span-x-self-start|span-x-self-end|span-all]||[top|center|bottom|span-top|span-bottom|y-start|y-end|span-y-start|span-y-end|y-self-start|y-self-end|span-y-self-start|span-y-self-end|span-all]|[block-start|center|block-end|span-block-start|span-block-end|span-all]||[inline-start|center|inline-end|span-inline-start|span-inline-end|span-all]|[self-block-start|self-block-end|span-self-block-start|span-self-block-end|span-all]||[self-inline-start|self-inline-end|span-self-inline-start|span-self-inline-end|span-all]|[start|center|end|span-start|span-end|span-all]{1,2}|[self-start|center|self-end|span-self-start|span-self-end|span-all]{1,2}]\",\n        \"position-area\": \"[[left|center|right|span-left|span-right|x-start|x-end|span-x-start|span-x-end|x-self-start|x-self-end|span-x-self-start|span-x-self-end|span-all]||[top|center|bottom|span-top|span-bottom|y-start|y-end|span-y-start|span-y-end|y-self-start|y-self-end|span-y-self-start|span-y-self-end|span-all]|[block-start|center|block-end|span-block-start|span-block-end|span-all]||[inline-start|center|inline-end|span-inline-start|span-inline-end|span-all]|[self-block-start|center|self-block-end|span-self-block-start|span-self-block-end|span-all]||[self-inline-start|center|self-inline-end|span-self-inline-start|span-self-inline-end|span-all]|[start|center|end|span-start|span-end|span-all]{1,2}|[self-start|center|self-end|span-self-start|span-self-end|span-all]{1,2}]\",\n        \"anchor()\": \"anchor( <anchor-element>?&&<anchor-side> , <length-percentage>? )\",\n        \"anchor-side\": \"inside|outside|top|left|right|bottom|start|end|self-start|self-end|<percentage>|center\",\n        \"anchor-size()\": \"anchor-size( [<anchor-element>||<anchor-size>]? , <length-percentage>? )\",\n        \"anchor-size\": \"width|height|block|inline|self-block|self-inline\",\n        \"anchor-element\": \"<dashed-ident>\",\n        \"try-size\": \"most-width|most-height|most-block-size|most-inline-size\",\n        \"try-tactic\": \"flip-block||flip-inline||flip-start\",\n        \"font-variant-css2\": \"normal|small-caps\",\n        \"font-width-css3\": \"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded\",\n        \"system-family-name\": \"caption|icon|menu|message-box|small-caption|status-bar\"\n    },\n    \"properties\": {\n        \"--*\": \"<declaration-value>\",\n        \"-ms-accelerator\": \"false|true\",\n        \"-ms-block-progression\": \"tb|rl|bt|lr\",\n        \"-ms-content-zoom-chaining\": \"none|chained\",\n        \"-ms-content-zooming\": \"none|zoom\",\n        \"-ms-content-zoom-limit\": \"<'-ms-content-zoom-limit-min'> <'-ms-content-zoom-limit-max'>\",\n        \"-ms-content-zoom-limit-max\": \"<percentage>\",\n        \"-ms-content-zoom-limit-min\": \"<percentage>\",\n        \"-ms-content-zoom-snap\": \"<'-ms-content-zoom-snap-type'>||<'-ms-content-zoom-snap-points'>\",\n        \"-ms-content-zoom-snap-points\": \"snapInterval( <percentage> , <percentage> )|snapList( <percentage># )\",\n        \"-ms-content-zoom-snap-type\": \"none|proximity|mandatory\",\n        \"-ms-filter\": \"<string>\",\n        \"-ms-flow-from\": \"[none|<custom-ident>]#\",\n        \"-ms-flow-into\": \"[none|<custom-ident>]#\",\n        \"-ms-grid-columns\": \"none|<track-list>|<auto-track-list>\",\n        \"-ms-grid-rows\": \"none|<track-list>|<auto-track-list>\",\n        \"-ms-high-contrast-adjust\": \"auto|none\",\n        \"-ms-hyphenate-limit-chars\": \"auto|<integer>{1,3}\",\n        \"-ms-hyphenate-limit-lines\": \"no-limit|<integer>\",\n        \"-ms-hyphenate-limit-zone\": \"<percentage>|<length>\",\n        \"-ms-ime-align\": \"auto|after\",\n        \"-ms-overflow-style\": \"auto|none|scrollbar|-ms-autohiding-scrollbar\",\n        \"-ms-scrollbar-3dlight-color\": \"<color>\",\n        \"-ms-scrollbar-arrow-color\": \"<color>\",\n        \"-ms-scrollbar-base-color\": \"<color>\",\n        \"-ms-scrollbar-darkshadow-color\": \"<color>\",\n        \"-ms-scrollbar-face-color\": \"<color>\",\n        \"-ms-scrollbar-highlight-color\": \"<color>\",\n        \"-ms-scrollbar-shadow-color\": \"<color>\",\n        \"-ms-scrollbar-track-color\": \"<color>\",\n        \"-ms-scroll-chaining\": \"chained|none\",\n        \"-ms-scroll-limit\": \"<'-ms-scroll-limit-x-min'> <'-ms-scroll-limit-y-min'> <'-ms-scroll-limit-x-max'> <'-ms-scroll-limit-y-max'>\",\n        \"-ms-scroll-limit-x-max\": \"auto|<length>\",\n        \"-ms-scroll-limit-x-min\": \"<length>\",\n        \"-ms-scroll-limit-y-max\": \"auto|<length>\",\n        \"-ms-scroll-limit-y-min\": \"<length>\",\n        \"-ms-scroll-rails\": \"none|railed\",\n        \"-ms-scroll-snap-points-x\": \"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )\",\n        \"-ms-scroll-snap-points-y\": \"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )\",\n        \"-ms-scroll-snap-type\": \"none|proximity|mandatory\",\n        \"-ms-scroll-snap-x\": \"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-x'>\",\n        \"-ms-scroll-snap-y\": \"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-y'>\",\n        \"-ms-scroll-translation\": \"none|vertical-to-horizontal\",\n        \"-ms-text-autospace\": \"none|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space\",\n        \"-ms-touch-select\": \"grippers|none\",\n        \"-ms-user-select\": \"none|element|text\",\n        \"-ms-wrap-flow\": \"auto|both|start|end|maximum|clear\",\n        \"-ms-wrap-margin\": \"<length>\",\n        \"-ms-wrap-through\": \"wrap|none\",\n        \"-moz-appearance\": \"none|button|button-arrow-down|button-arrow-next|button-arrow-previous|button-arrow-up|button-bevel|button-focus|caret|checkbox|checkbox-container|checkbox-label|checkmenuitem|dualbutton|groupbox|listbox|listitem|menuarrow|menubar|menucheckbox|menuimage|menuitem|menuitemtext|menulist|menulist-button|menulist-text|menulist-textfield|menupopup|menuradio|menuseparator|meterbar|meterchunk|progressbar|progressbar-vertical|progresschunk|progresschunk-vertical|radio|radio-container|radio-label|radiomenuitem|range|range-thumb|resizer|resizerpanel|scale-horizontal|scalethumbend|scalethumb-horizontal|scalethumbstart|scalethumbtick|scalethumb-vertical|scale-vertical|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|separator|sheet|spinner|spinner-downbutton|spinner-textfield|spinner-upbutton|splitter|statusbar|statusbarpanel|tab|tabpanel|tabpanels|tab-scroll-arrow-back|tab-scroll-arrow-forward|textfield|textfield-multiline|toolbar|toolbarbutton|toolbarbutton-dropdown|toolbargripper|toolbox|tooltip|treeheader|treeheadercell|treeheadersortarrow|treeitem|treeline|treetwisty|treetwistyopen|treeview|-moz-mac-unified-toolbar|-moz-win-borderless-glass|-moz-win-browsertabbar-toolbox|-moz-win-communicationstext|-moz-win-communications-toolbox|-moz-win-exclude-glass|-moz-win-glass|-moz-win-mediatext|-moz-win-media-toolbox|-moz-window-button-box|-moz-window-button-box-maximized|-moz-window-button-close|-moz-window-button-maximize|-moz-window-button-minimize|-moz-window-button-restore|-moz-window-frame-bottom|-moz-window-frame-left|-moz-window-frame-right|-moz-window-titlebar|-moz-window-titlebar-maximized\",\n        \"-moz-binding\": \"<url>|none\",\n        \"-moz-border-bottom-colors\": \"<color>+|none\",\n        \"-moz-border-left-colors\": \"<color>+|none\",\n        \"-moz-border-right-colors\": \"<color>+|none\",\n        \"-moz-border-top-colors\": \"<color>+|none\",\n        \"-moz-context-properties\": \"none|[fill|fill-opacity|stroke|stroke-opacity]#\",\n        \"-moz-float-edge\": \"border-box|content-box|margin-box|padding-box\",\n        \"-moz-force-broken-image-icon\": \"0|1\",\n        \"-moz-image-region\": \"<shape>|auto\",\n        \"-moz-orient\": \"inline|block|horizontal|vertical\",\n        \"-moz-outline-radius\": \"<outline-radius>{1,4} [/ <outline-radius>{1,4}]?\",\n        \"-moz-outline-radius-bottomleft\": \"<outline-radius>\",\n        \"-moz-outline-radius-bottomright\": \"<outline-radius>\",\n        \"-moz-outline-radius-topleft\": \"<outline-radius>\",\n        \"-moz-outline-radius-topright\": \"<outline-radius>\",\n        \"-moz-stack-sizing\": \"ignore|stretch-to-fit\",\n        \"-moz-text-blink\": \"none|blink\",\n        \"-moz-user-focus\": \"ignore|normal|select-after|select-before|select-menu|select-same|select-all|none\",\n        \"-moz-user-input\": \"auto|none|enabled|disabled\",\n        \"-moz-user-modify\": \"read-only|read-write|write-only\",\n        \"-moz-window-dragging\": \"drag|no-drag\",\n        \"-moz-window-shadow\": \"default|menu|tooltip|sheet|none\",\n        \"-webkit-appearance\": \"none|button|button-bevel|caps-lock-indicator|caret|checkbox|default-button|inner-spin-button|listbox|listitem|media-controls-background|media-controls-fullscreen-background|media-current-time-display|media-enter-fullscreen-button|media-exit-fullscreen-button|media-fullscreen-button|media-mute-button|media-overlay-play-button|media-play-button|media-seek-back-button|media-seek-forward-button|media-slider|media-sliderthumb|media-time-remaining-display|media-toggle-closed-captions-button|media-volume-slider|media-volume-slider-container|media-volume-sliderthumb|menulist|menulist-button|menulist-text|menulist-textfield|meter|progress-bar|progress-bar-value|push-button|radio|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbargripper-horizontal|scrollbargripper-vertical|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|searchfield-cancel-button|searchfield-decoration|searchfield-results-button|searchfield-results-decoration|slider-horizontal|slider-vertical|sliderthumb-horizontal|sliderthumb-vertical|square-button|textarea|textfield|-apple-pay-button\",\n        \"-webkit-border-before\": \"<'border-width'>||<'border-style'>||<color>\",\n        \"-webkit-border-before-color\": \"<color>\",\n        \"-webkit-border-before-style\": \"<'border-style'>\",\n        \"-webkit-border-before-width\": \"<'border-width'>\",\n        \"-webkit-box-reflect\": \"[above|below|right|left]? <length>? <image>?\",\n        \"-webkit-line-clamp\": \"none|<integer>\",\n        \"-webkit-mask\": \"[<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||[<box>|border|padding|content|text]||[<box>|border|padding|content]]#\",\n        \"-webkit-mask-attachment\": \"<attachment>#\",\n        \"-webkit-mask-clip\": \"[<box>|border|padding|content|text]#\",\n        \"-webkit-mask-composite\": \"<composite-style>#\",\n        \"-webkit-mask-image\": \"<mask-reference>#\",\n        \"-webkit-mask-origin\": \"[<box>|border|padding|content]#\",\n        \"-webkit-mask-position\": \"<position>#\",\n        \"-webkit-mask-position-x\": \"[<length-percentage>|left|center|right]#\",\n        \"-webkit-mask-position-y\": \"[<length-percentage>|top|center|bottom]#\",\n        \"-webkit-mask-repeat\": \"<repeat-style>#\",\n        \"-webkit-mask-repeat-x\": \"repeat|no-repeat|space|round\",\n        \"-webkit-mask-repeat-y\": \"repeat|no-repeat|space|round\",\n        \"-webkit-mask-size\": \"<bg-size>#\",\n        \"-webkit-overflow-scrolling\": \"auto|touch\",\n        \"-webkit-tap-highlight-color\": \"<color>\",\n        \"-webkit-text-fill-color\": \"<color>\",\n        \"-webkit-text-stroke\": \"<length>||<color>\",\n        \"-webkit-text-stroke-color\": \"<color>\",\n        \"-webkit-text-stroke-width\": \"<length>\",\n        \"-webkit-touch-callout\": \"default|none\",\n        \"-webkit-user-modify\": \"read-only|read-write|read-write-plaintext-only\",\n        \"accent-color\": \"auto|<color>\",\n        \"align-content\": \"normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>\",\n        \"align-items\": \"normal|stretch|<baseline-position>|[<overflow-position>? <self-position>]\",\n        \"align-self\": \"auto|normal|stretch|<baseline-position>|<overflow-position>? <self-position>\",\n        \"align-tracks\": \"[normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>]#\",\n        \"all\": \"initial|inherit|unset|revert|revert-layer\",\n        \"anchor-name\": \"none|<dashed-ident>#\",\n        \"anchor-scope\": \"none|all|<dashed-ident>#\",\n        \"animation\": \"<single-animation>#\",\n        \"animation-composition\": \"<single-animation-composition>#\",\n        \"animation-delay\": \"<time>#\",\n        \"animation-direction\": \"<single-animation-direction>#\",\n        \"animation-duration\": \"<time>#\",\n        \"animation-fill-mode\": \"<single-animation-fill-mode>#\",\n        \"animation-iteration-count\": \"<single-animation-iteration-count>#\",\n        \"animation-name\": \"[none|<keyframes-name>]#\",\n        \"animation-play-state\": \"<single-animation-play-state>#\",\n        \"animation-range\": \"[<'animation-range-start'> <'animation-range-end'>?]#\",\n        \"animation-range-end\": \"[normal|<length-percentage>|<timeline-range-name> <length-percentage>?]#\",\n        \"animation-range-start\": \"[normal|<length-percentage>|<timeline-range-name> <length-percentage>?]#\",\n        \"animation-timing-function\": \"<easing-function>#\",\n        \"animation-timeline\": \"<single-animation-timeline>#\",\n        \"appearance\": \"none|auto|textfield|menulist-button|<compat-auto>\",\n        \"aspect-ratio\": \"auto||<ratio>\",\n        \"azimuth\": \"<angle>|[[left-side|far-left|left|center-left|center|center-right|right|far-right|right-side]||behind]|leftwards|rightwards\",\n        \"backdrop-filter\": \"none|<filter-function-list>\",\n        \"backface-visibility\": \"visible|hidden\",\n        \"background\": \"[<bg-layer> ,]* <final-bg-layer>\",\n        \"background-attachment\": \"<attachment>#\",\n        \"background-blend-mode\": \"<blend-mode>#\",\n        \"background-clip\": \"<bg-clip>#\",\n        \"background-color\": \"<color>\",\n        \"background-image\": \"<bg-image>#\",\n        \"background-origin\": \"<box>#\",\n        \"background-position\": \"<bg-position>#\",\n        \"background-position-x\": \"[center|[[left|right|x-start|x-end]? <length-percentage>?]!]#\",\n        \"background-position-y\": \"[center|[[top|bottom|y-start|y-end]? <length-percentage>?]!]#\",\n        \"background-repeat\": \"<repeat-style>#\",\n        \"background-size\": \"<bg-size>#\",\n        \"block-size\": \"<'width'>\",\n        \"border\": \"<line-width>||<line-style>||<color>\",\n        \"border-block\": \"<'border-top-width'>||<'border-top-style'>||<color>\",\n        \"border-block-color\": \"<'border-top-color'>{1,2}\",\n        \"border-block-style\": \"<'border-top-style'>\",\n        \"border-block-width\": \"<'border-top-width'>\",\n        \"border-block-end\": \"<'border-top-width'>||<'border-top-style'>||<color>\",\n        \"border-block-end-color\": \"<'border-top-color'>\",\n        \"border-block-end-style\": \"<'border-top-style'>\",\n        \"border-block-end-width\": \"<'border-top-width'>\",\n        \"border-block-start\": \"<'border-top-width'>||<'border-top-style'>||<color>\",\n        \"border-block-start-color\": \"<'border-top-color'>\",\n        \"border-block-start-style\": \"<'border-top-style'>\",\n        \"border-block-start-width\": \"<'border-top-width'>\",\n        \"border-bottom\": \"<line-width>||<line-style>||<color>\",\n        \"border-bottom-color\": \"<'border-top-color'>\",\n        \"border-bottom-left-radius\": \"<length-percentage>{1,2}\",\n        \"border-bottom-right-radius\": \"<length-percentage>{1,2}\",\n        \"border-bottom-style\": \"<line-style>\",\n        \"border-bottom-width\": \"<line-width>\",\n        \"border-collapse\": \"collapse|separate\",\n        \"border-color\": \"<color>{1,4}\",\n        \"border-end-end-radius\": \"<length-percentage>{1,2}\",\n        \"border-end-start-radius\": \"<length-percentage>{1,2}\",\n        \"border-image\": \"<'border-image-source'>||<'border-image-slice'> [/ <'border-image-width'>|/ <'border-image-width'>? / <'border-image-outset'>]?||<'border-image-repeat'>\",\n        \"border-image-outset\": \"[<length>|<number>]{1,4}\",\n        \"border-image-repeat\": \"[stretch|repeat|round|space]{1,2}\",\n        \"border-image-slice\": \"<number-percentage>{1,4}&&fill?\",\n        \"border-image-source\": \"none|<image>\",\n        \"border-image-width\": \"[<length-percentage>|<number>|auto]{1,4}\",\n        \"border-inline\": \"<'border-top-width'>||<'border-top-style'>||<color>\",\n        \"border-inline-end\": \"<'border-top-width'>||<'border-top-style'>||<color>\",\n        \"border-inline-color\": \"<'border-top-color'>{1,2}\",\n        \"border-inline-style\": \"<'border-top-style'>\",\n        \"border-inline-width\": \"<'border-top-width'>\",\n        \"border-inline-end-color\": \"<'border-top-color'>\",\n        \"border-inline-end-style\": \"<'border-top-style'>\",\n        \"border-inline-end-width\": \"<'border-top-width'>\",\n        \"border-inline-start\": \"<'border-top-width'>||<'border-top-style'>||<color>\",\n        \"border-inline-start-color\": \"<'border-top-color'>\",\n        \"border-inline-start-style\": \"<'border-top-style'>\",\n        \"border-inline-start-width\": \"<'border-top-width'>\",\n        \"border-left\": \"<line-width>||<line-style>||<color>\",\n        \"border-left-color\": \"<color>\",\n        \"border-left-style\": \"<line-style>\",\n        \"border-left-width\": \"<line-width>\",\n        \"border-radius\": \"<length-percentage>{1,4} [/ <length-percentage>{1,4}]?\",\n        \"border-right\": \"<line-width>||<line-style>||<color>\",\n        \"border-right-color\": \"<color>\",\n        \"border-right-style\": \"<line-style>\",\n        \"border-right-width\": \"<line-width>\",\n        \"border-spacing\": \"<length> <length>?\",\n        \"border-start-end-radius\": \"<length-percentage>{1,2}\",\n        \"border-start-start-radius\": \"<length-percentage>{1,2}\",\n        \"border-style\": \"<line-style>{1,4}\",\n        \"border-top\": \"<line-width>||<line-style>||<color>\",\n        \"border-top-color\": \"<color>\",\n        \"border-top-left-radius\": \"<length-percentage>{1,2}\",\n        \"border-top-right-radius\": \"<length-percentage>{1,2}\",\n        \"border-top-style\": \"<line-style>\",\n        \"border-top-width\": \"<line-width>\",\n        \"border-width\": \"<line-width>{1,4}\",\n        \"bottom\": \"<length>|<percentage>|auto\",\n        \"box-align\": \"start|center|end|baseline|stretch\",\n        \"box-decoration-break\": \"slice|clone\",\n        \"box-direction\": \"normal|reverse|inherit\",\n        \"box-flex\": \"<number>\",\n        \"box-flex-group\": \"<integer>\",\n        \"box-lines\": \"single|multiple\",\n        \"box-ordinal-group\": \"<integer>\",\n        \"box-orient\": \"horizontal|vertical|inline-axis|block-axis|inherit\",\n        \"box-pack\": \"start|center|end|justify\",\n        \"box-shadow\": \"none|<shadow>#\",\n        \"box-sizing\": \"content-box|border-box\",\n        \"break-after\": \"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region\",\n        \"break-before\": \"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region\",\n        \"break-inside\": \"auto|avoid|avoid-page|avoid-column|avoid-region\",\n        \"caption-side\": \"top|bottom|block-start|block-end|inline-start|inline-end\",\n        \"caret\": \"<'caret-color'>||<'caret-shape'>\",\n        \"caret-color\": \"auto|<color>\",\n        \"caret-shape\": \"auto|bar|block|underscore\",\n        \"clear\": \"none|left|right|both|inline-start|inline-end\",\n        \"clip\": \"<shape>|auto\",\n        \"clip-path\": \"<clip-source>|[<basic-shape>||<geometry-box>]|none\",\n        \"clip-rule\": \"nonzero|evenodd\",\n        \"color\": \"<color>\",\n        \"color-interpolation-filters\": \"auto|sRGB|linearRGB\",\n        \"color-scheme\": \"normal|[light|dark|<custom-ident>]+&&only?\",\n        \"column-count\": \"<integer>|auto\",\n        \"column-fill\": \"auto|balance\",\n        \"column-gap\": \"normal|<length-percentage>\",\n        \"column-rule\": \"<'column-rule-width'>||<'column-rule-style'>||<'column-rule-color'>\",\n        \"column-rule-color\": \"<color>\",\n        \"column-rule-style\": \"<'border-style'>\",\n        \"column-rule-width\": \"<'border-width'>\",\n        \"column-span\": \"none|all\",\n        \"column-width\": \"<length>|auto\",\n        \"columns\": \"<'column-width'>||<'column-count'>\",\n        \"contain\": \"none|strict|content|[[size||inline-size]||layout||style||paint]\",\n        \"contain-intrinsic-size\": \"[auto? [none|<length>]]{1,2}\",\n        \"contain-intrinsic-block-size\": \"auto? [none|<length>]\",\n        \"contain-intrinsic-height\": \"auto? [none|<length>]\",\n        \"contain-intrinsic-inline-size\": \"auto? [none|<length>]\",\n        \"contain-intrinsic-width\": \"auto? [none|<length>]\",\n        \"container\": \"<'container-name'> [/ <'container-type'>]?\",\n        \"container-name\": \"none|<custom-ident>+\",\n        \"container-type\": \"normal||[size|inline-size]\",\n        \"content\": \"normal|none|[<content-replacement>|<content-list>] [/ [<string>|<counter>]+]?\",\n        \"content-visibility\": \"visible|auto|hidden\",\n        \"counter-increment\": \"[<counter-name> <integer>?]+|none\",\n        \"counter-reset\": \"[<counter-name> <integer>?|<reversed-counter-name> <integer>?]+|none\",\n        \"counter-set\": \"[<counter-name> <integer>?]+|none\",\n        \"cursor\": \"[[<url> [<x> <y>]? ,]* [auto|default|none|context-menu|help|pointer|progress|wait|cell|crosshair|text|vertical-text|alias|copy|move|no-drop|not-allowed|e-resize|n-resize|ne-resize|nw-resize|s-resize|se-resize|sw-resize|w-resize|ew-resize|ns-resize|nesw-resize|nwse-resize|col-resize|row-resize|all-scroll|zoom-in|zoom-out|grab|grabbing|hand|-webkit-grab|-webkit-grabbing|-webkit-zoom-in|-webkit-zoom-out|-moz-grab|-moz-grabbing|-moz-zoom-in|-moz-zoom-out]]\",\n        \"d\": \"none|path( <string> )\",\n        \"cx\": \"<length>|<percentage>\",\n        \"cy\": \"<length>|<percentage>\",\n        \"direction\": \"ltr|rtl\",\n        \"display\": \"[<display-outside>||<display-inside>]|<display-listitem>|<display-internal>|<display-box>|<display-legacy>|<-non-standard-display>\",\n        \"dominant-baseline\": \"auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge\",\n        \"empty-cells\": \"show|hide\",\n        \"field-sizing\": \"content|fixed\",\n        \"fill\": \"<paint>\",\n        \"fill-opacity\": \"<number-zero-one>\",\n        \"fill-rule\": \"nonzero|evenodd\",\n        \"filter\": \"none|<filter-function-list>|<-ms-filter-function-list>\",\n        \"flex\": \"none|[<'flex-grow'> <'flex-shrink'>?||<'flex-basis'>]\",\n        \"flex-basis\": \"content|<'width'>\",\n        \"flex-direction\": \"row|row-reverse|column|column-reverse\",\n        \"flex-flow\": \"<'flex-direction'>||<'flex-wrap'>\",\n        \"flex-grow\": \"<number>\",\n        \"flex-shrink\": \"<number>\",\n        \"flex-wrap\": \"nowrap|wrap|wrap-reverse\",\n        \"float\": \"left|right|none|inline-start|inline-end\",\n        \"font\": \"[[<'font-style'>||<font-variant-css2>||<'font-weight'>||<font-width-css3>]? <'font-size'> [/ <'line-height'>]? <'font-family'>#]|<system-family-name>|<-non-standard-font>\",\n        \"font-family\": \"[<family-name>|<generic-family>]#\",\n        \"font-feature-settings\": \"normal|<feature-tag-value>#\",\n        \"font-kerning\": \"auto|normal|none\",\n        \"font-language-override\": \"normal|<string>\",\n        \"font-optical-sizing\": \"auto|none\",\n        \"font-palette\": \"normal|light|dark|<palette-identifier>\",\n        \"font-variation-settings\": \"normal|[<string> <number>]#\",\n        \"font-size\": \"<absolute-size>|<relative-size>|<length-percentage>\",\n        \"font-size-adjust\": \"none|[ex-height|cap-height|ch-width|ic-width|ic-height]? [from-font|<number>]\",\n        \"font-smooth\": \"auto|never|always|<absolute-size>|<length>\",\n        \"font-stretch\": \"<font-stretch-absolute>\",\n        \"font-style\": \"normal|italic|oblique <angle>?\",\n        \"font-synthesis\": \"none|[weight||style||small-caps||position]\",\n        \"font-synthesis-position\": \"auto|none\",\n        \"font-synthesis-small-caps\": \"auto|none\",\n        \"font-synthesis-style\": \"auto|none\",\n        \"font-synthesis-weight\": \"auto|none\",\n        \"font-variant\": \"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby]\",\n        \"font-variant-alternates\": \"normal|[stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )]\",\n        \"font-variant-caps\": \"normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps\",\n        \"font-variant-east-asian\": \"normal|[<east-asian-variant-values>||<east-asian-width-values>||ruby]\",\n        \"font-variant-emoji\": \"normal|text|emoji|unicode\",\n        \"font-variant-ligatures\": \"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>]\",\n        \"font-variant-numeric\": \"normal|[<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero]\",\n        \"font-variant-position\": \"normal|sub|super\",\n        \"font-weight\": \"<font-weight-absolute>|bolder|lighter\",\n        \"forced-color-adjust\": \"auto|none\",\n        \"gap\": \"<'row-gap'> <'column-gap'>?\",\n        \"grid\": \"<'grid-template'>|<'grid-template-rows'> / [auto-flow&&dense?] <'grid-auto-columns'>?|[auto-flow&&dense?] <'grid-auto-rows'>? / <'grid-template-columns'>\",\n        \"grid-area\": \"<grid-line> [/ <grid-line>]{0,3}\",\n        \"grid-auto-columns\": \"<track-size>+\",\n        \"grid-auto-flow\": \"[row|column]||dense\",\n        \"grid-auto-rows\": \"<track-size>+\",\n        \"grid-column\": \"<grid-line> [/ <grid-line>]?\",\n        \"grid-column-end\": \"<grid-line>\",\n        \"grid-column-gap\": \"<length-percentage>\",\n        \"grid-column-start\": \"<grid-line>\",\n        \"grid-gap\": \"<'grid-row-gap'> <'grid-column-gap'>?\",\n        \"grid-row\": \"<grid-line> [/ <grid-line>]?\",\n        \"grid-row-end\": \"<grid-line>\",\n        \"grid-row-gap\": \"<length-percentage>\",\n        \"grid-row-start\": \"<grid-line>\",\n        \"grid-template\": \"none|[<'grid-template-rows'> / <'grid-template-columns'>]|[<line-names>? <string> <track-size>? <line-names>?]+ [/ <explicit-track-list>]?\",\n        \"grid-template-areas\": \"none|<string>+\",\n        \"grid-template-columns\": \"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?\",\n        \"grid-template-rows\": \"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?\",\n        \"hanging-punctuation\": \"none|[first||[force-end|allow-end]||last]\",\n        \"height\": \"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>\",\n        \"hyphenate-character\": \"auto|<string>\",\n        \"hyphenate-limit-chars\": \"[auto|<integer>]{1,3}\",\n        \"hyphens\": \"none|manual|auto\",\n        \"image-orientation\": \"from-image|<angle>|[<angle>? flip]\",\n        \"image-rendering\": \"auto|crisp-edges|pixelated|optimizeSpeed|optimizeQuality|<-non-standard-image-rendering>\",\n        \"image-resolution\": \"[from-image||<resolution>]&&snap?\",\n        \"ime-mode\": \"auto|normal|active|inactive|disabled\",\n        \"initial-letter\": \"normal|[<number> <integer>?]\",\n        \"initial-letter-align\": \"[auto|alphabetic|hanging|ideographic]\",\n        \"inline-size\": \"<'width'>\",\n        \"input-security\": \"auto|none\",\n        \"inset\": \"<'top'>{1,4}\",\n        \"inset-block\": \"<'top'>{1,2}\",\n        \"inset-block-end\": \"<'top'>\",\n        \"inset-block-start\": \"<'top'>\",\n        \"inset-inline\": \"<'top'>{1,2}\",\n        \"inset-inline-end\": \"<'top'>\",\n        \"inset-inline-start\": \"<'top'>\",\n        \"interpolate-size\": \"numeric-only|allow-keywords\",\n        \"isolation\": \"auto|isolate\",\n        \"justify-content\": \"normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]\",\n        \"justify-items\": \"normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]|legacy|legacy&&[left|right|center]\",\n        \"justify-self\": \"auto|normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]\",\n        \"justify-tracks\": \"[normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]]#\",\n        \"left\": \"<length>|<percentage>|auto\",\n        \"letter-spacing\": \"normal|<length-percentage>\",\n        \"line-break\": \"auto|loose|normal|strict|anywhere\",\n        \"line-clamp\": \"none|<integer>\",\n        \"line-height\": \"normal|<number>|<length>|<percentage>\",\n        \"line-height-step\": \"<length>\",\n        \"list-style\": \"<'list-style-type'>||<'list-style-position'>||<'list-style-image'>\",\n        \"list-style-image\": \"<image>|none\",\n        \"list-style-position\": \"inside|outside\",\n        \"list-style-type\": \"<counter-style>|<string>|none\",\n        \"margin\": \"[<length>|<percentage>|auto]{1,4}\",\n        \"margin-block\": \"<'margin-left'>{1,2}\",\n        \"margin-block-end\": \"<'margin-left'>\",\n        \"margin-block-start\": \"<'margin-left'>\",\n        \"margin-bottom\": \"<length>|<percentage>|auto\",\n        \"margin-inline\": \"<'margin-left'>{1,2}\",\n        \"margin-inline-end\": \"<'margin-left'>\",\n        \"margin-inline-start\": \"<'margin-left'>\",\n        \"margin-left\": \"<length>|<percentage>|auto\",\n        \"margin-right\": \"<length>|<percentage>|auto\",\n        \"margin-top\": \"<length>|<percentage>|auto\",\n        \"margin-trim\": \"none|in-flow|all\",\n        \"marker\": \"none|<url>\",\n        \"marker-end\": \"none|<url>\",\n        \"marker-mid\": \"none|<url>\",\n        \"marker-start\": \"none|<url>\",\n        \"mask\": \"<mask-layer>#\",\n        \"mask-border\": \"<'mask-border-source'>||<'mask-border-slice'> [/ <'mask-border-width'>? [/ <'mask-border-outset'>]?]?||<'mask-border-repeat'>||<'mask-border-mode'>\",\n        \"mask-border-mode\": \"luminance|alpha\",\n        \"mask-border-outset\": \"[<length>|<number>]{1,4}\",\n        \"mask-border-repeat\": \"[stretch|repeat|round|space]{1,2}\",\n        \"mask-border-slice\": \"<number-percentage>{1,4} fill?\",\n        \"mask-border-source\": \"none|<image>\",\n        \"mask-border-width\": \"[<length-percentage>|<number>|auto]{1,4}\",\n        \"mask-clip\": \"[<geometry-box>|no-clip]#\",\n        \"mask-composite\": \"<compositing-operator>#\",\n        \"mask-image\": \"<mask-reference>#\",\n        \"mask-mode\": \"<masking-mode>#\",\n        \"mask-origin\": \"<geometry-box>#\",\n        \"mask-position\": \"<position>#\",\n        \"mask-repeat\": \"<repeat-style>#\",\n        \"mask-size\": \"<bg-size>#\",\n        \"mask-type\": \"luminance|alpha\",\n        \"masonry-auto-flow\": \"[pack|next]||[definite-first|ordered]\",\n        \"math-depth\": \"auto-add|add( <integer> )|<integer>\",\n        \"math-shift\": \"normal|compact\",\n        \"math-style\": \"normal|compact\",\n        \"max-block-size\": \"<'max-width'>\",\n        \"max-height\": \"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>\",\n        \"max-inline-size\": \"<'max-width'>\",\n        \"max-lines\": \"none|<integer>\",\n        \"max-width\": \"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>\",\n        \"min-block-size\": \"<'min-width'>\",\n        \"min-height\": \"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>\",\n        \"min-inline-size\": \"<'min-width'>\",\n        \"min-width\": \"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>\",\n        \"mix-blend-mode\": \"<blend-mode>|plus-lighter\",\n        \"object-fit\": \"fill|contain|cover|none|scale-down\",\n        \"object-position\": \"<position>\",\n        \"offset\": \"[<'offset-position'>? [<'offset-path'> [<'offset-distance'>||<'offset-rotate'>]?]?]! [/ <'offset-anchor'>]?\",\n        \"offset-anchor\": \"auto|<position>\",\n        \"offset-distance\": \"<length-percentage>\",\n        \"offset-path\": \"none|<offset-path>||<coord-box>\",\n        \"offset-position\": \"normal|auto|<position>\",\n        \"offset-rotate\": \"[auto|reverse]||<angle>\",\n        \"opacity\": \"<alpha-value>\",\n        \"order\": \"<integer>\",\n        \"orphans\": \"<integer>\",\n        \"outline\": \"[<'outline-width'>||<'outline-style'>||<'outline-color'>]\",\n        \"outline-color\": \"auto|<color>\",\n        \"outline-offset\": \"<length>\",\n        \"outline-style\": \"auto|<'border-style'>\",\n        \"outline-width\": \"<line-width>\",\n        \"overflow\": \"[visible|hidden|clip|scroll|auto]{1,2}|<-non-standard-overflow>\",\n        \"overflow-anchor\": \"auto|none\",\n        \"overflow-block\": \"visible|hidden|clip|scroll|auto\",\n        \"overflow-clip-box\": \"padding-box|content-box\",\n        \"overflow-clip-margin\": \"<visual-box>||<length [0,∞]>\",\n        \"overflow-inline\": \"visible|hidden|clip|scroll|auto\",\n        \"overflow-wrap\": \"normal|break-word|anywhere\",\n        \"overflow-x\": \"visible|hidden|clip|scroll|auto\",\n        \"overflow-y\": \"visible|hidden|clip|scroll|auto\",\n        \"overlay\": \"none|auto\",\n        \"overscroll-behavior\": \"[contain|none|auto]{1,2}\",\n        \"overscroll-behavior-block\": \"contain|none|auto\",\n        \"overscroll-behavior-inline\": \"contain|none|auto\",\n        \"overscroll-behavior-x\": \"contain|none|auto\",\n        \"overscroll-behavior-y\": \"contain|none|auto\",\n        \"padding\": \"[<length>|<percentage>]{1,4}\",\n        \"padding-block\": \"<'padding-left'>{1,2}\",\n        \"padding-block-end\": \"<'padding-left'>\",\n        \"padding-block-start\": \"<'padding-left'>\",\n        \"padding-bottom\": \"<length>|<percentage>\",\n        \"padding-inline\": \"<'padding-left'>{1,2}\",\n        \"padding-inline-end\": \"<'padding-left'>\",\n        \"padding-inline-start\": \"<'padding-left'>\",\n        \"padding-left\": \"<length>|<percentage>\",\n        \"padding-right\": \"<length>|<percentage>\",\n        \"padding-top\": \"<length>|<percentage>\",\n        \"page\": \"auto|<custom-ident>\",\n        \"page-break-after\": \"auto|always|avoid|left|right|recto|verso\",\n        \"page-break-before\": \"auto|always|avoid|left|right|recto|verso\",\n        \"page-break-inside\": \"auto|avoid\",\n        \"paint-order\": \"normal|[fill||stroke||markers]\",\n        \"perspective\": \"none|<length>\",\n        \"perspective-origin\": \"<position>\",\n        \"place-content\": \"<'align-content'> <'justify-content'>?\",\n        \"place-items\": \"<'align-items'> <'justify-items'>?\",\n        \"place-self\": \"<'align-self'> <'justify-self'>?\",\n        \"pointer-events\": \"auto|none|visiblePainted|visibleFill|visibleStroke|visible|painted|fill|stroke|all|inherit\",\n        \"position\": \"static|relative|absolute|sticky|fixed|-webkit-sticky\",\n        \"position-anchor\": \"auto|<anchor-name>\",\n        \"position-area\": \"none|<position-area>\",\n        \"position-try\": \"<'position-try-order'>? <'position-try-fallbacks'>\",\n        \"position-try-fallbacks\": \"none|[[<dashed-ident>||<try-tactic>]|<'position-area'>]#\",\n        \"position-try-order\": \"normal|<try-size>\",\n        \"position-visibility\": \"always|[anchors-valid||anchors-visible||no-overflow]\",\n        \"print-color-adjust\": \"economy|exact\",\n        \"quotes\": \"none|auto|[<string> <string>]+\",\n        \"r\": \"<length>|<percentage>\",\n        \"resize\": \"none|both|horizontal|vertical|block|inline\",\n        \"right\": \"<length>|<percentage>|auto\",\n        \"rotate\": \"none|<angle>|[x|y|z|<number>{3}]&&<angle>\",\n        \"row-gap\": \"normal|<length-percentage>\",\n        \"ruby-align\": \"start|center|space-between|space-around\",\n        \"ruby-merge\": \"separate|collapse|auto\",\n        \"ruby-position\": \"[alternate||[over|under]]|inter-character\",\n        \"rx\": \"<length>|<percentage>\",\n        \"ry\": \"<length>|<percentage>\",\n        \"scale\": \"none|<number>{1,3}\",\n        \"scrollbar-color\": \"auto|<color>{2}\",\n        \"scrollbar-gutter\": \"auto|stable&&both-edges?\",\n        \"scrollbar-width\": \"auto|thin|none\",\n        \"scroll-behavior\": \"auto|smooth\",\n        \"scroll-margin\": \"<length>{1,4}\",\n        \"scroll-margin-block\": \"<length>{1,2}\",\n        \"scroll-margin-block-start\": \"<length>\",\n        \"scroll-margin-block-end\": \"<length>\",\n        \"scroll-margin-bottom\": \"<length>\",\n        \"scroll-margin-inline\": \"<length>{1,2}\",\n        \"scroll-margin-inline-start\": \"<length>\",\n        \"scroll-margin-inline-end\": \"<length>\",\n        \"scroll-margin-left\": \"<length>\",\n        \"scroll-margin-right\": \"<length>\",\n        \"scroll-margin-top\": \"<length>\",\n        \"scroll-padding\": \"[auto|<length-percentage>]{1,4}\",\n        \"scroll-padding-block\": \"[auto|<length-percentage>]{1,2}\",\n        \"scroll-padding-block-start\": \"auto|<length-percentage>\",\n        \"scroll-padding-block-end\": \"auto|<length-percentage>\",\n        \"scroll-padding-bottom\": \"auto|<length-percentage>\",\n        \"scroll-padding-inline\": \"[auto|<length-percentage>]{1,2}\",\n        \"scroll-padding-inline-start\": \"auto|<length-percentage>\",\n        \"scroll-padding-inline-end\": \"auto|<length-percentage>\",\n        \"scroll-padding-left\": \"auto|<length-percentage>\",\n        \"scroll-padding-right\": \"auto|<length-percentage>\",\n        \"scroll-padding-top\": \"auto|<length-percentage>\",\n        \"scroll-snap-align\": \"[none|start|end|center]{1,2}\",\n        \"scroll-snap-coordinate\": \"none|<position>#\",\n        \"scroll-snap-destination\": \"<position>\",\n        \"scroll-snap-points-x\": \"none|repeat( <length-percentage> )\",\n        \"scroll-snap-points-y\": \"none|repeat( <length-percentage> )\",\n        \"scroll-snap-stop\": \"normal|always\",\n        \"scroll-snap-type\": \"none|[x|y|block|inline|both] [mandatory|proximity]?\",\n        \"scroll-snap-type-x\": \"none|mandatory|proximity\",\n        \"scroll-snap-type-y\": \"none|mandatory|proximity\",\n        \"scroll-timeline\": \"[<'scroll-timeline-name'>||<'scroll-timeline-axis'>]#\",\n        \"scroll-timeline-axis\": \"[block|inline|x|y]#\",\n        \"scroll-timeline-name\": \"[none|<dashed-ident>]#\",\n        \"shape-image-threshold\": \"<alpha-value>\",\n        \"shape-margin\": \"<length-percentage>\",\n        \"shape-outside\": \"none|[<shape-box>||<basic-shape>]|<image>\",\n        \"shape-rendering\": \"auto|optimizeSpeed|crispEdges|geometricPrecision\",\n        \"stroke\": \"<paint>\",\n        \"stroke-dasharray\": \"none|[<svg-length>+]#\",\n        \"stroke-dashoffset\": \"<svg-length>\",\n        \"stroke-linecap\": \"butt|round|square\",\n        \"stroke-linejoin\": \"miter|round|bevel\",\n        \"stroke-miterlimit\": \"<number-one-or-greater>\",\n        \"stroke-opacity\": \"<'opacity'>\",\n        \"stroke-width\": \"<svg-length>\",\n        \"tab-size\": \"<integer>|<length>\",\n        \"table-layout\": \"auto|fixed\",\n        \"text-align\": \"start|end|left|right|center|justify|match-parent\",\n        \"text-align-last\": \"auto|start|end|left|right|center|justify\",\n        \"text-anchor\": \"start|middle|end\",\n        \"text-combine-upright\": \"none|all|[digits <integer>?]\",\n        \"text-decoration\": \"<'text-decoration-line'>||<'text-decoration-style'>||<'text-decoration-color'>||<'text-decoration-thickness'>\",\n        \"text-decoration-color\": \"<color>\",\n        \"text-decoration-line\": \"none|[underline||overline||line-through||blink]|spelling-error|grammar-error\",\n        \"text-decoration-skip\": \"none|[objects||[spaces|[leading-spaces||trailing-spaces]]||edges||box-decoration]\",\n        \"text-decoration-skip-ink\": \"auto|all|none\",\n        \"text-decoration-style\": \"solid|double|dotted|dashed|wavy\",\n        \"text-decoration-thickness\": \"auto|from-font|<length>|<percentage>\",\n        \"text-emphasis\": \"<'text-emphasis-style'>||<'text-emphasis-color'>\",\n        \"text-emphasis-color\": \"<color>\",\n        \"text-emphasis-position\": \"auto|[over|under]&&[right|left]?\",\n        \"text-emphasis-style\": \"none|[[filled|open]||[dot|circle|double-circle|triangle|sesame]]|<string>\",\n        \"text-indent\": \"<length-percentage>&&hanging?&&each-line?\",\n        \"text-justify\": \"auto|inter-character|inter-word|none\",\n        \"text-orientation\": \"mixed|upright|sideways\",\n        \"text-overflow\": \"[clip|ellipsis|<string>]{1,2}\",\n        \"text-rendering\": \"auto|optimizeSpeed|optimizeLegibility|geometricPrecision\",\n        \"text-shadow\": \"none|<shadow-t>#\",\n        \"text-size-adjust\": \"none|auto|<percentage>\",\n        \"text-spacing-trim\": \"space-all|normal|space-first|trim-start|trim-both|trim-all|auto\",\n        \"text-transform\": \"none|capitalize|uppercase|lowercase|full-width|full-size-kana\",\n        \"text-underline-offset\": \"auto|<length>|<percentage>\",\n        \"text-underline-position\": \"auto|from-font|[under||[left|right]]\",\n        \"text-wrap\": \"<'text-wrap-mode'>||<'text-wrap-style'>\",\n        \"text-wrap-mode\": \"auto|wrap|nowrap\",\n        \"text-wrap-style\": \"auto|balance|stable|pretty\",\n        \"timeline-scope\": \"none|<dashed-ident>#\",\n        \"top\": \"<length>|<percentage>|auto\",\n        \"touch-action\": \"auto|none|[[pan-x|pan-left|pan-right]||[pan-y|pan-up|pan-down]||pinch-zoom]|manipulation\",\n        \"transform\": \"none|<transform-list>\",\n        \"transform-box\": \"content-box|border-box|fill-box|stroke-box|view-box\",\n        \"transform-origin\": \"[<length-percentage>|left|center|right|top|bottom]|[[<length-percentage>|left|center|right]&&[<length-percentage>|top|center|bottom]] <length>?\",\n        \"transform-style\": \"flat|preserve-3d\",\n        \"transition\": \"<single-transition>#\",\n        \"transition-behavior\": \"<transition-behavior-value>#\",\n        \"transition-delay\": \"<time>#\",\n        \"transition-duration\": \"<time>#\",\n        \"transition-property\": \"none|<single-transition-property>#\",\n        \"transition-timing-function\": \"<easing-function>#\",\n        \"translate\": \"none|<length-percentage> [<length-percentage> <length>?]?\",\n        \"unicode-bidi\": \"normal|embed|isolate|bidi-override|isolate-override|plaintext|-moz-isolate|-moz-isolate-override|-moz-plaintext|-webkit-isolate|-webkit-isolate-override|-webkit-plaintext\",\n        \"user-select\": \"auto|text|none|contain|all\",\n        \"vector-effect\": \"none|non-scaling-stroke|non-scaling-size|non-rotation|fixed-position\",\n        \"vertical-align\": \"baseline|sub|super|text-top|text-bottom|middle|top|bottom|<percentage>|<length>\",\n        \"view-timeline\": \"[<'view-timeline-name'> <'view-timeline-axis'>?]#\",\n        \"view-timeline-axis\": \"[block|inline|x|y]#\",\n        \"view-timeline-inset\": \"[[auto|<length-percentage>]{1,2}]#\",\n        \"view-timeline-name\": \"none|<dashed-ident>#\",\n        \"view-transition-name\": \"none|<custom-ident>\",\n        \"visibility\": \"visible|hidden|collapse\",\n        \"white-space\": \"normal|pre|nowrap|pre-wrap|pre-line|break-spaces|[<'white-space-collapse'>||<'text-wrap'>||<'white-space-trim'>]\",\n        \"white-space-collapse\": \"collapse|discard|preserve|preserve-breaks|preserve-spaces|break-spaces\",\n        \"widows\": \"<integer>\",\n        \"width\": \"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>\",\n        \"will-change\": \"auto|<animateable-feature>#\",\n        \"word-break\": \"normal|break-all|keep-all|break-word|auto-phrase\",\n        \"word-spacing\": \"normal|<length>\",\n        \"word-wrap\": \"normal|break-word\",\n        \"writing-mode\": \"horizontal-tb|vertical-rl|vertical-lr|sideways-rl|sideways-lr|<svg-writing-mode>\",\n        \"x\": \"<length>|<percentage>\",\n        \"y\": \"<length>|<percentage>\",\n        \"z-index\": \"auto|<integer>\",\n        \"zoom\": \"normal|reset|<number>|<percentage>\",\n        \"-moz-background-clip\": \"padding|border\",\n        \"-moz-border-radius-bottomleft\": \"<'border-bottom-left-radius'>\",\n        \"-moz-border-radius-bottomright\": \"<'border-bottom-right-radius'>\",\n        \"-moz-border-radius-topleft\": \"<'border-top-left-radius'>\",\n        \"-moz-border-radius-topright\": \"<'border-bottom-right-radius'>\",\n        \"-moz-control-character-visibility\": \"visible|hidden\",\n        \"-moz-osx-font-smoothing\": \"auto|grayscale\",\n        \"-moz-user-select\": \"none|text|all|-moz-none\",\n        \"-ms-flex-align\": \"start|end|center|baseline|stretch\",\n        \"-ms-flex-item-align\": \"auto|start|end|center|baseline|stretch\",\n        \"-ms-flex-line-pack\": \"start|end|center|justify|distribute|stretch\",\n        \"-ms-flex-negative\": \"<'flex-shrink'>\",\n        \"-ms-flex-pack\": \"start|end|center|justify|distribute\",\n        \"-ms-flex-order\": \"<integer>\",\n        \"-ms-flex-positive\": \"<'flex-grow'>\",\n        \"-ms-flex-preferred-size\": \"<'flex-basis'>\",\n        \"-ms-interpolation-mode\": \"nearest-neighbor|bicubic\",\n        \"-ms-grid-column-align\": \"start|end|center|stretch\",\n        \"-ms-grid-row-align\": \"start|end|center|stretch\",\n        \"-ms-hyphenate-limit-last\": \"none|always|column|page|spread\",\n        \"-webkit-background-clip\": \"[<box>|border|padding|content|text]#\",\n        \"-webkit-column-break-after\": \"always|auto|avoid\",\n        \"-webkit-column-break-before\": \"always|auto|avoid\",\n        \"-webkit-column-break-inside\": \"always|auto|avoid\",\n        \"-webkit-font-smoothing\": \"auto|none|antialiased|subpixel-antialiased\",\n        \"-webkit-mask-box-image\": \"[<url>|<gradient>|none] [<length-percentage>{4} <-webkit-mask-box-repeat>{2}]?\",\n        \"-webkit-print-color-adjust\": \"economy|exact\",\n        \"-webkit-text-security\": \"none|circle|disc|square\",\n        \"-webkit-user-drag\": \"none|element|auto\",\n        \"-webkit-user-select\": \"auto|none|text|all\",\n        \"alignment-baseline\": \"auto|baseline|before-edge|text-before-edge|middle|central|after-edge|text-after-edge|ideographic|alphabetic|hanging|mathematical\",\n        \"baseline-shift\": \"baseline|sub|super|<svg-length>\",\n        \"behavior\": \"<url>+\",\n        \"cue\": \"<'cue-before'> <'cue-after'>?\",\n        \"cue-after\": \"<url> <decibel>?|none\",\n        \"cue-before\": \"<url> <decibel>?|none\",\n        \"glyph-orientation-horizontal\": \"<angle>\",\n        \"glyph-orientation-vertical\": \"<angle>\",\n        \"kerning\": \"auto|<svg-length>\",\n        \"pause\": \"<'pause-before'> <'pause-after'>?\",\n        \"pause-after\": \"<time>|none|x-weak|weak|medium|strong|x-strong\",\n        \"pause-before\": \"<time>|none|x-weak|weak|medium|strong|x-strong\",\n        \"rest\": \"<'rest-before'> <'rest-after'>?\",\n        \"rest-after\": \"<time>|none|x-weak|weak|medium|strong|x-strong\",\n        \"rest-before\": \"<time>|none|x-weak|weak|medium|strong|x-strong\",\n        \"src\": \"[<url> [format( <string># )]?|local( <family-name> )]#\",\n        \"speak\": \"auto|never|always\",\n        \"speak-as\": \"normal|spell-out||digits||[literal-punctuation|no-punctuation]\",\n        \"unicode-range\": \"<urange>#\",\n        \"voice-balance\": \"<number>|left|center|right|leftwards|rightwards\",\n        \"voice-duration\": \"auto|<time>\",\n        \"voice-family\": \"[[<family-name>|<generic-voice>] ,]* [<family-name>|<generic-voice>]|preserve\",\n        \"voice-pitch\": \"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]\",\n        \"voice-range\": \"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]\",\n        \"voice-rate\": \"[normal|x-slow|slow|medium|fast|x-fast]||<percentage>\",\n        \"voice-stress\": \"normal|strong|moderate|none|reduced\",\n        \"voice-volume\": \"silent|[[x-soft|soft|medium|loud|x-loud]||<decibel>]\",\n        \"white-space-trim\": \"none|discard-before||discard-after||discard-inner\"\n    },\n    \"atrules\": {\n        \"charset\": {\n            \"prelude\": \"<string>\",\n            \"descriptors\": null\n        },\n        \"counter-style\": {\n            \"prelude\": \"<counter-style-name>\",\n            \"descriptors\": {\n                \"additive-symbols\": \"[<integer>&&<symbol>]#\",\n                \"fallback\": \"<counter-style-name>\",\n                \"negative\": \"<symbol> <symbol>?\",\n                \"pad\": \"<integer>&&<symbol>\",\n                \"prefix\": \"<symbol>\",\n                \"range\": \"[[<integer>|infinite]{2}]#|auto\",\n                \"speak-as\": \"auto|bullets|numbers|words|spell-out|<counter-style-name>\",\n                \"suffix\": \"<symbol>\",\n                \"symbols\": \"<symbol>+\",\n                \"system\": \"cyclic|numeric|alphabetic|symbolic|additive|[fixed <integer>?]|[extends <counter-style-name>]\"\n            }\n        },\n        \"document\": {\n            \"prelude\": \"[<url>|url-prefix( <string> )|domain( <string> )|media-document( <string> )|regexp( <string> )]#\",\n            \"descriptors\": null\n        },\n        \"font-palette-values\": {\n            \"prelude\": \"<dashed-ident>\",\n            \"descriptors\": {\n                \"base-palette\": \"light|dark|<integer [0,∞]>\",\n                \"font-family\": \"<family-name>#\",\n                \"override-colors\": \"[<integer [0,∞]> <absolute-color-base>]#\"\n            }\n        },\n        \"font-face\": {\n            \"prelude\": null,\n            \"descriptors\": {\n                \"ascent-override\": \"normal|<percentage>\",\n                \"descent-override\": \"normal|<percentage>\",\n                \"font-display\": \"[auto|block|swap|fallback|optional]\",\n                \"font-family\": \"<family-name>\",\n                \"font-feature-settings\": \"normal|<feature-tag-value>#\",\n                \"font-variation-settings\": \"normal|[<string> <number>]#\",\n                \"font-stretch\": \"<font-stretch-absolute>{1,2}\",\n                \"font-style\": \"normal|italic|oblique <angle>{0,2}\",\n                \"font-weight\": \"<font-weight-absolute>{1,2}\",\n                \"line-gap-override\": \"normal|<percentage>\",\n                \"size-adjust\": \"<percentage>\",\n                \"src\": \"[<url> [format( <string># )]?|local( <family-name> )]#\",\n                \"unicode-range\": \"<urange>#\"\n            }\n        },\n        \"font-feature-values\": {\n            \"prelude\": \"<family-name>#\",\n            \"descriptors\": null\n        },\n        \"import\": {\n            \"prelude\": \"[<string>|<url>] [layer|layer( <layer-name> )]? [supports( [<supports-condition>|<declaration>] )]? <media-query-list>?\",\n            \"descriptors\": null\n        },\n        \"keyframes\": {\n            \"prelude\": \"<keyframes-name>\",\n            \"descriptors\": null\n        },\n        \"layer\": {\n            \"prelude\": \"[<layer-name>#|<layer-name>?]\",\n            \"descriptors\": null\n        },\n        \"media\": {\n            \"prelude\": \"<media-query-list>\",\n            \"descriptors\": null\n        },\n        \"namespace\": {\n            \"prelude\": \"<namespace-prefix>? [<string>|<url>]\",\n            \"descriptors\": null\n        },\n        \"page\": {\n            \"prelude\": \"<page-selector-list>\",\n            \"descriptors\": {\n                \"bleed\": \"auto|<length>\",\n                \"marks\": \"none|[crop||cross]\",\n                \"page-orientation\": \"upright|rotate-left|rotate-right\",\n                \"size\": \"<length>{1,2}|auto|[<page-size>||[portrait|landscape]]\"\n            }\n        },\n        \"position-try\": {\n            \"prelude\": \"<dashed-ident>\",\n            \"descriptors\": {\n                \"top\": \"<'top'>\",\n                \"left\": \"<'left'>\",\n                \"bottom\": \"<'bottom'>\",\n                \"right\": \"<'right'>\",\n                \"inset-block-start\": \"<'inset-block-start'>\",\n                \"inset-block-end\": \"<'inset-block-end'>\",\n                \"inset-inline-start\": \"<'inset-inline-start'>\",\n                \"inset-inline-end\": \"<'inset-inline-end'>\",\n                \"inset-block\": \"<'inset-block'>\",\n                \"inset-inline\": \"<'inset-inline'>\",\n                \"inset\": \"<'inset'>\",\n                \"margin-top\": \"<'margin-top'>\",\n                \"margin-left\": \"<'margin-left'>\",\n                \"margin-bottom\": \"<'margin-bottom'>\",\n                \"margin-right\": \"<'margin-right'>\",\n                \"margin-block-start\": \"<'margin-block-start'>\",\n                \"margin-block-end\": \"<'margin-block-end'>\",\n                \"margin-inline-start\": \"<'margin-inline-start'>\",\n                \"margin-inline-end\": \"<'margin-inline-end'>\",\n                \"margin\": \"<'margin'>\",\n                \"margin-block\": \"<'margin-block'>\",\n                \"margin-inline\": \"<'margin-inline'>\",\n                \"width\": \"<'width'>\",\n                \"height\": \"<'height'>\",\n                \"min-width\": \"<'min-width'>\",\n                \"min-height\": \"<'min-height'>\",\n                \"max-width\": \"<'max-width'>\",\n                \"max-height\": \"<'max-height'>\",\n                \"block-size\": \"<'block-size'>\",\n                \"inline-size\": \"<'inline-size'>\",\n                \"min-block-size\": \"<'min-block-size'>\",\n                \"min-inline-size\": \"<'min-inline-size'>\",\n                \"max-block-size\": \"<'max-block-size'>\",\n                \"max-inline-size\": \"<'max-inline-size'>\",\n                \"align-self\": \"<'align-self'>|anchor-center\",\n                \"justify-self\": \"<'justify-self'>|anchor-center\"\n            }\n        },\n        \"property\": {\n            \"prelude\": \"<custom-property-name>\",\n            \"descriptors\": {\n                \"syntax\": \"<string>\",\n                \"inherits\": \"true|false\",\n                \"initial-value\": \"<declaration-value>?\"\n            }\n        },\n        \"scope\": {\n            \"prelude\": \"[( <scope-start> )]? [to ( <scope-end> )]?\",\n            \"descriptors\": null\n        },\n        \"starting-style\": {\n            \"prelude\": null,\n            \"descriptors\": null\n        },\n        \"supports\": {\n            \"prelude\": \"<supports-condition>\",\n            \"descriptors\": null\n        },\n        \"container\": {\n            \"prelude\": \"[<container-name>]? <container-condition>\",\n            \"descriptors\": null\n        },\n        \"nest\": {\n            \"prelude\": \"<complex-selector-list>\",\n            \"descriptors\": null\n        }\n    }\n};", "import {\n    isDigit,\n    WhiteSpace,\n    Comment,\n    Ident,\n    Number,\n    Dimension\n} from '../../tokenizer/index.js';\n\nconst PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nconst HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nconst N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nconst DISALLOW_SIGN = true;\nconst ALLOW_SIGN = false;\n\nfunction checkInteger(offset, disallowSign) {\n    let pos = this.tokenStart + offset;\n    const code = this.charCodeAt(pos);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            this.error('Number sign is not allowed');\n        }\n        pos++;\n    }\n\n    for (; pos < this.tokenEnd; pos++) {\n        if (!isDigit(this.charCodeAt(pos))) {\n            this.error('Integer is expected', pos);\n        }\n    }\n}\n\nfunction checkTokenIsInteger(disallowSign) {\n    return checkInteger.call(this, 0, disallowSign);\n}\n\nfunction expectCharCode(offset, code) {\n    if (!this.cmpChar(this.tokenStart + offset, code)) {\n        let msg = '';\n\n        switch (code) {\n            case N:\n                msg = 'N is expected';\n                break;\n            case HYPHENMINUS:\n                msg = 'HyphenMinus is expected';\n                break;\n        }\n\n        this.error(msg, this.tokenStart + offset);\n    }\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB() {\n    let offset = 0;\n    let sign = 0;\n    let type = this.tokenType;\n\n    while (type === WhiteSpace || type === Comment) {\n        type = this.lookupType(++offset);\n    }\n\n    if (type !== Number) {\n        if (this.isDelim(PLUSSIGN, offset) ||\n            this.isDelim(HYPHENMINUS, offset)) {\n            sign = this.isDelim(PLUSSIGN, offset) ? PLUSSIGN : HYPHENMINUS;\n\n            do {\n                type = this.lookupType(++offset);\n            } while (type === WhiteSpace || type === Comment);\n\n            if (type !== Number) {\n                this.skip(offset);\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n            }\n        } else {\n            return null;\n        }\n    }\n\n    if (offset > 0) {\n        this.skip(offset);\n    }\n\n    if (sign === 0) {\n        type = this.charCodeAt(this.tokenStart);\n        if (type !== PLUSSIGN && type !== HYPHENMINUS) {\n            this.error('Number sign is expected');\n        }\n    }\n\n    checkTokenIsInteger.call(this, sign !== 0);\n    return sign === HYPHENMINUS ? '-' + this.consume(Number) : this.consume(Number);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nexport const name = 'AnPlusB';\nexport const structure = {\n    a: [String, null],\n    b: [String, null]\n};\n\nexport function parse() {\n    /* eslint-disable brace-style*/\n    const start = this.tokenStart;\n    let a = null;\n    let b = null;\n\n    // <integer>\n    if (this.tokenType === Number) {\n        checkTokenIsInteger.call(this, ALLOW_SIGN);\n        b = this.consume(Number);\n    }\n\n    // -n\n    // -n <signed-integer>\n    // -n ['+' | '-'] <signless-integer>\n    // -n- <signless-integer>\n    // <dashndashdigit-ident>\n    else if (this.tokenType === Ident && this.cmpChar(this.tokenStart, HYPHENMINUS)) {\n        a = '-1';\n\n        expectCharCode.call(this, 1, N);\n\n        switch (this.tokenEnd - this.tokenStart) {\n            // -n\n            // -n <signed-integer>\n            // -n ['+' | '-'] <signless-integer>\n            case 2:\n                this.next();\n                b = consumeB.call(this);\n                break;\n\n            // -n- <signless-integer>\n            case 3:\n                expectCharCode.call(this, 2, HYPHENMINUS);\n\n                this.next();\n                this.skipSC();\n\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                b = '-' + this.consume(Number);\n                break;\n\n            // <dashndashdigit-ident>\n            default:\n                expectCharCode.call(this, 2, HYPHENMINUS);\n                checkInteger.call(this, 3, DISALLOW_SIGN);\n                this.next();\n\n                b = this.substrToCursor(start + 2);\n        }\n    }\n\n    // '+'? n\n    // '+'? n <signed-integer>\n    // '+'? n ['+' | '-'] <signless-integer>\n    // '+'? n- <signless-integer>\n    // '+'? <ndashdigit-ident>\n    else if (this.tokenType === Ident || (this.isDelim(PLUSSIGN) && this.lookupType(1) === Ident)) {\n        let sign = 0;\n        a = '1';\n\n        // just ignore a plus\n        if (this.isDelim(PLUSSIGN)) {\n            sign = 1;\n            this.next();\n        }\n\n        expectCharCode.call(this, 0, N);\n\n        switch (this.tokenEnd - this.tokenStart) {\n            // '+'? n\n            // '+'? n <signed-integer>\n            // '+'? n ['+' | '-'] <signless-integer>\n            case 1:\n                this.next();\n                b = consumeB.call(this);\n                break;\n\n            // '+'? n- <signless-integer>\n            case 2:\n                expectCharCode.call(this, 1, HYPHENMINUS);\n\n                this.next();\n                this.skipSC();\n\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                b = '-' + this.consume(Number);\n                break;\n\n            // '+'? <ndashdigit-ident>\n            default:\n                expectCharCode.call(this, 1, HYPHENMINUS);\n                checkInteger.call(this, 2, DISALLOW_SIGN);\n                this.next();\n\n                b = this.substrToCursor(start + sign + 1);\n        }\n    }\n\n    // <ndashdigit-dimension>\n    // <ndash-dimension> <signless-integer>\n    // <n-dimension>\n    // <n-dimension> <signed-integer>\n    // <n-dimension> ['+' | '-'] <signless-integer>\n    else if (this.tokenType === Dimension) {\n        const code = this.charCodeAt(this.tokenStart);\n        const sign = code === PLUSSIGN || code === HYPHENMINUS;\n        let i = this.tokenStart + sign;\n\n        for (; i < this.tokenEnd; i++) {\n            if (!isDigit(this.charCodeAt(i))) {\n                break;\n            }\n        }\n\n        if (i === this.tokenStart + sign) {\n            this.error('Integer is expected', this.tokenStart + sign);\n        }\n\n        expectCharCode.call(this, i - this.tokenStart, N);\n        a = this.substring(start, i);\n\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        if (i + 1 === this.tokenEnd) {\n            this.next();\n            b = consumeB.call(this);\n        } else {\n            expectCharCode.call(this, i - this.tokenStart + 1, HYPHENMINUS);\n\n            // <ndash-dimension> <signless-integer>\n            if (i + 2 === this.tokenEnd) {\n                this.next();\n                this.skipSC();\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n                b = '-' + this.consume(Number);\n            }\n            // <ndashdigit-dimension>\n            else {\n                checkInteger.call(this, i - this.tokenStart + 2, DISALLOW_SIGN);\n                this.next();\n                b = this.substrToCursor(i + 1);\n            }\n        }\n    } else {\n        this.error();\n    }\n\n    if (a !== null && a.charCodeAt(0) === PLUSSIGN) {\n        a = a.substr(1);\n    }\n\n    if (b !== null && b.charCodeAt(0) === PLUSSIGN) {\n        b = b.substr(1);\n    }\n\n    return {\n        type: 'AnPlusB',\n        loc: this.getLocation(start, this.tokenStart),\n        a,\n        b\n    };\n}\n\nexport function generate(node) {\n    if (node.a) {\n        const a =\n            node.a === '+1' && 'n' ||\n            node.a ===  '1' && 'n' ||\n            node.a === '-1' && '-n' ||\n            node.a + 'n';\n\n        if (node.b) {\n            const b = node.b[0] === '-' || node.b[0] === '+'\n                ? node.b\n                : '+' + node.b;\n            this.tokenize(a + b);\n        } else {\n            this.tokenize(a);\n        }\n    } else {\n        this.tokenize(node.b);\n    }\n}\n", "import {\n    AtKeyword,\n    Semicolon,\n    LeftCurlyBracket,\n    RightCurlyBracket\n} from '../../tokenizer/index.js';\n\nfunction consumeRaw() {\n    return this.Raw(this.consumeUntilLeftCurlyBracketOrSemicolon, true);\n}\n\nfunction isDeclarationBlockAtrule() {\n    for (let offset = 1, type; type = this.lookupType(offset); offset++) {\n        if (type === RightCurlyBracket) {\n            return true;\n        }\n\n        if (type === LeftCurlyBracket ||\n            type === AtKeyword) {\n            return false;\n        }\n    }\n\n    return false;\n}\n\n\nexport const name = 'Atrule';\nexport const walkContext = 'atrule';\nexport const structure = {\n    name: String,\n    prelude: ['AtrulePrelude', 'Raw', null],\n    block: ['Block', null]\n};\n\nexport function parse(isDeclaration = false) {\n    const start = this.tokenStart;\n    let name;\n    let nameLowerCase;\n    let prelude = null;\n    let block = null;\n\n    this.eat(AtKeyword);\n\n    name = this.substrToCursor(start + 1);\n    nameLowerCase = name.toLowerCase();\n    this.skipSC();\n\n    // parse prelude\n    if (this.eof === false &&\n        this.tokenType !== LeftCurlyBracket &&\n        this.tokenType !== Semicolon) {\n        if (this.parseAtrulePrelude) {\n            prelude = this.parseWithFallback(this.AtrulePrelude.bind(this, name, isDeclaration), consumeRaw);\n        } else {\n            prelude = consumeRaw.call(this, this.tokenIndex);\n        }\n\n        this.skipSC();\n    }\n\n    switch (this.tokenType) {\n        case Semicolon:\n            this.next();\n            break;\n\n        case LeftCurlyBracket:\n            if (hasOwnProperty.call(this.atrule, nameLowerCase) &&\n                typeof this.atrule[nameLowerCase].block === 'function') {\n                block = this.atrule[nameLowerCase].block.call(this, isDeclaration);\n            } else {\n                // TODO: should consume block content as Raw?\n                block = this.Block(isDeclarationBlockAtrule.call(this));\n            }\n\n            break;\n    }\n\n    return {\n        type: 'Atrule',\n        loc: this.getLocation(start, this.tokenStart),\n        name,\n        prelude,\n        block\n    };\n}\n\nexport function generate(node) {\n    this.token(AtKeyword, '@' + node.name);\n\n    if (node.prelude !== null) {\n        this.node(node.prelude);\n    }\n\n    if (node.block) {\n        this.node(node.block);\n    } else {\n        this.token(Semicolon, ';');\n    }\n}\n", "import {\n    Semicolon,\n    LeftCurlyBracket\n} from '../../tokenizer/index.js';\n\nexport const name = 'AtrulePrelude';\nexport const walkContext = 'atrulePrelude';\nexport const structure = {\n    children: [[]]\n};\n\nexport function parse(name) {\n    let children = null;\n\n    if (name !== null) {\n        name = name.toLowerCase();\n    }\n\n    this.skipSC();\n\n    if (hasOwnProperty.call(this.atrule, name) &&\n        typeof this.atrule[name].prelude === 'function') {\n        // custom consumer\n        children = this.atrule[name].prelude.call(this);\n    } else {\n        // default consumer\n        children = this.readSequence(this.scope.AtrulePrelude);\n    }\n\n    this.skipSC();\n\n    if (this.eof !== true &&\n        this.tokenType !== LeftCurlyBracket &&\n        this.tokenType !== Semicolon) {\n        this.error('Semicolon or block is expected');\n    }\n\n    return {\n        type: 'AtrulePrelude',\n        loc: this.getLocationFromList(children),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node);\n}\n", "import {\n    Ident,\n    String as StringToken,\n    Delim,\n    LeftSquareBracket,\n    RightSquareBracket\n} from '../../tokenizer/index.js';\n\nconst DOLLARSIGN = 0x0024;       // U+0024 DOLLAR SIGN ($)\nconst ASTERISK = 0x002A;         // U+002A ASTERISK (*)\nconst EQUALSSIGN = 0x003D;       // U+003D EQUALS SIGN (=)\nconst CIRCUMFLEXACCENT = 0x005E; // U+005E (^)\nconst VERTICALLINE = 0x007C;     // U+007C VERTICAL LINE (|)\nconst TILDE = 0x007E;            // U+007E TILDE (~)\n\nfunction getAttributeName() {\n    if (this.eof) {\n        this.error('Unexpected end of input');\n    }\n\n    const start = this.tokenStart;\n    let expectIdent = false;\n\n    if (this.isDelim(ASTERISK)) {\n        expectIdent = true;\n        this.next();\n    } else if (!this.isDelim(VERTICALLINE)) {\n        this.eat(Ident);\n    }\n\n    if (this.isDelim(VERTICALLINE)) {\n        if (this.charCodeAt(this.tokenStart + 1) !== EQUALSSIGN) {\n            this.next();\n            this.eat(Ident);\n        } else if (expectIdent) {\n            this.error('Identifier is expected', this.tokenEnd);\n        }\n    } else if (expectIdent) {\n        this.error('Vertical line is expected');\n    }\n\n    return {\n        type: 'Identifier',\n        loc: this.getLocation(start, this.tokenStart),\n        name: this.substrToCursor(start)\n    };\n}\n\nfunction getOperator() {\n    const start = this.tokenStart;\n    const code = this.charCodeAt(start);\n\n    if (code !== EQUALSSIGN &&        // =\n        code !== TILDE &&             // ~=\n        code !== CIRCUMFLEXACCENT &&  // ^=\n        code !== DOLLARSIGN &&        // $=\n        code !== ASTERISK &&          // *=\n        code !== VERTICALLINE         // |=\n    ) {\n        this.error('Attribute selector (=, ~=, ^=, $=, *=, |=) is expected');\n    }\n\n    this.next();\n\n    if (code !== EQUALSSIGN) {\n        if (!this.isDelim(EQUALSSIGN)) {\n            this.error('Equal sign is expected');\n        }\n\n        this.next();\n    }\n\n    return this.substrToCursor(start);\n}\n\n// '[' <wq-name> ']'\n// '[' <wq-name> <attr-matcher> [ <string-token> | <ident-token> ] <attr-modifier>? ']'\nexport const name = 'AttributeSelector';\nexport const structure = {\n    name: 'Identifier',\n    matcher: [String, null],\n    value: ['String', 'Identifier', null],\n    flags: [String, null]\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    let name;\n    let matcher = null;\n    let value = null;\n    let flags = null;\n\n    this.eat(LeftSquareBracket);\n    this.skipSC();\n\n    name = getAttributeName.call(this);\n    this.skipSC();\n\n    if (this.tokenType !== RightSquareBracket) {\n        // avoid case `[name i]`\n        if (this.tokenType !== Ident) {\n            matcher = getOperator.call(this);\n\n            this.skipSC();\n\n            value = this.tokenType === StringToken\n                ? this.String()\n                : this.Identifier();\n\n            this.skipSC();\n        }\n\n        // attribute flags\n        if (this.tokenType === Ident) {\n            flags = this.consume(Ident);\n\n            this.skipSC();\n        }\n    }\n\n    this.eat(RightSquareBracket);\n\n    return {\n        type: 'AttributeSelector',\n        loc: this.getLocation(start, this.tokenStart),\n        name,\n        matcher,\n        value,\n        flags\n    };\n}\n\nexport function generate(node) {\n    this.token(Delim, '[');\n    this.node(node.name);\n\n    if (node.matcher !== null) {\n        this.tokenize(node.matcher);\n        this.node(node.value);\n    }\n\n    if (node.flags !== null) {\n        this.token(Ident, node.flags);\n    }\n\n    this.token(Delim, ']');\n}\n", "import {\n    WhiteSpace,\n    Comment,\n    Semicolon,\n    AtKeyword,\n    LeftCurlyBracket,\n    RightCurlyBracket\n} from '../../tokenizer/index.js';\n\nconst AMPERSAND = 0x0026;       // U+0026 AMPERSAND (&)\n\nfunction consumeRaw() {\n    return this.Raw(null, true);\n}\nfunction consumeRule() {\n    return this.parseWithFallback(this.Rule, consumeRaw);\n}\nfunction consumeRawDeclaration() {\n    return this.Raw(this.consumeUntilSemicolonIncluded, true);\n}\nfunction consumeDeclaration() {\n    if (this.tokenType === Semicolon) {\n        return consumeRawDeclaration.call(this, this.tokenIndex);\n    }\n\n    const node = this.parseWithFallback(this.Declaration, consumeRawDeclaration);\n\n    if (this.tokenType === Semicolon) {\n        this.next();\n    }\n\n    return node;\n}\n\nexport const name = 'Block';\nexport const walkContext = 'block';\nexport const structure = {\n    children: [[\n        'Atrule',\n        'Rule',\n        'Declaration'\n    ]]\n};\n\nexport function parse(isStyleBlock) {\n    const consumer = isStyleBlock ? consumeDeclaration : consumeRule;\n    const start = this.tokenStart;\n    let children = this.createList();\n\n    this.eat(LeftCurlyBracket);\n\n    scan:\n    while (!this.eof) {\n        switch (this.tokenType) {\n            case RightCurlyBracket:\n                break scan;\n\n            case WhiteSpace:\n            case Comment:\n                this.next();\n                break;\n\n            case AtKeyword:\n                children.push(this.parseWithFallback(this.Atrule.bind(this, isStyleBlock), consumeRaw));\n                break;\n\n            default:\n                if (isStyleBlock && this.isDelim(AMPERSAND))  {\n                    children.push(consumeRule.call(this));\n                } else {\n                    children.push(consumer.call(this));\n                }\n        }\n    }\n\n    if (!this.eof) {\n        this.eat(RightCurlyBracket);\n    }\n\n    return {\n        type: 'Block',\n        loc: this.getLocation(start, this.tokenStart),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.token(LeftCurlyBracket, '{');\n    this.children(node, prev => {\n        if (prev.type === 'Declaration') {\n            this.token(Semicolon, ';');\n        }\n    });\n    this.token(RightCurlyBracket, '}');\n}\n", "import {\n    Delim,\n    LeftSquareBracket,\n    RightSquareBracket\n} from '../../tokenizer/index.js';\n\nexport const name = 'Brackets';\nexport const structure = {\n    children: [[]]\n};\n\nexport function parse(readSequence, recognizer) {\n    const start = this.tokenStart;\n    let children = null;\n\n    this.eat(LeftSquareBracket);\n\n    children = readSequence.call(this, recognizer);\n\n    if (!this.eof) {\n        this.eat(RightSquareBracket);\n    }\n\n    return {\n        type: 'Brackets',\n        loc: this.getLocation(start, this.tokenStart),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.token(Delim, '[');\n    this.children(node);\n    this.token(Delim, ']');\n}\n", "import { CDC } from '../../tokenizer/index.js';\n\nexport const name = 'CDC';\nexport const structure = [];\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    this.eat(CDC); // -->\n\n    return {\n        type: 'CDC',\n        loc: this.getLocation(start, this.tokenStart)\n    };\n}\n\nexport function generate() {\n    this.token(CDC, '-->');\n}\n", "import { CDO } from '../../tokenizer/index.js';\n\nexport const name = 'CDO';\nexport const structure = [];\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    this.eat(CDO); // <!--\n\n    return {\n        type: 'CDO',\n        loc: this.getLocation(start, this.tokenStart)\n    };\n}\n\nexport function generate() {\n    this.token(CDO, '<!--');\n}\n", "import { Delim, Ident } from '../../tokenizer/index.js';\n\nconst FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\n// '.' ident\nexport const name = 'ClassSelector';\nexport const structure = {\n    name: String\n};\n\nexport function parse() {\n    this.eatDelim(FULLSTOP);\n\n    return {\n        type: 'ClassSelector',\n        loc: this.getLocation(this.tokenStart - 1, this.tokenEnd),\n        name: this.consume(Ident)\n    };\n}\n\nexport function generate(node) {\n    this.token(Delim, '.');\n    this.token(Ident, node.name);\n}\n", "import { WhiteSpace, Delim } from '../../tokenizer/index.js';\n\nconst PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nconst SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nconst GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\nconst TILDE = 0x007E;           // U+007E TILDE (~)\n\nexport const name = 'Combinator';\nexport const structure = {\n    name: String\n};\n\n// + | > | ~ | /deep/\nexport function parse() {\n    const start = this.tokenStart;\n    let name;\n\n    switch (this.tokenType) {\n        case WhiteSpace:\n            name = ' ';\n            break;\n\n        case Delim:\n            switch (this.charCodeAt(this.tokenStart)) {\n                case GREATERTHANSIGN:\n                case PLUSSIGN:\n                case TILDE:\n                    this.next();\n                    break;\n\n                case SOLIDUS:\n                    this.next();\n                    this.eatIdent('deep');\n                    this.eatDelim(SOLIDUS);\n                    break;\n\n                default:\n                    this.error('Combinator is expected');\n            }\n\n            name = this.substrToCursor(start);\n            break;\n    }\n\n    return {\n        type: 'Combinator',\n        loc: this.getLocation(start, this.tokenStart),\n        name\n    };\n}\n\nexport function generate(node) {\n    this.tokenize(node.name);\n}\n", "import { Comment } from '../../tokenizer/index.js';\n\nconst ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nconst SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\n\n\nexport const name = 'Comment';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    let end = this.tokenEnd;\n\n    this.eat(Comment);\n\n    if ((end - start + 2) >= 2 &&\n        this.charCodeAt(end - 2) === ASTERISK &&\n        this.charCodeAt(end - 1) === SOLIDUS) {\n        end -= 2;\n    }\n\n    return {\n        type: 'Comment',\n        loc: this.getLocation(start, this.tokenStart),\n        value: this.substring(start + 2, end)\n    };\n}\n\nexport function generate(node) {\n    this.token(Comment, '/*' + node.value + '*/');\n}\n", "import {\n    WhiteSpace,\n    Comment,\n    Ident,\n    LeftParenthesis,\n    RightParenthesis,\n    Function as FunctionToken,\n    Colon,\n    EOF\n} from '../../tokenizer/index.js';\n\nconst likelyFeatureToken = new Set([Colon, RightParenthesis, EOF]);\n\nexport const name = 'Condition';\nexport const structure = {\n    kind: String,\n    children: [[\n        'Identifier',\n        'Feature',\n        'FeatureFunction',\n        'FeatureRange',\n        'SupportsDeclaration'\n    ]]\n};\n\nfunction featureOrRange(kind) {\n    if (this.lookupTypeNonSC(1) === Ident &&\n        likelyFeatureToken.has(this.lookupTypeNonSC(2))) {\n        return this.Feature(kind);\n    }\n\n    return this.FeatureRange(kind);\n}\n\nconst parentheses = {\n    media: featureOrRange,\n    container: featureOrRange,\n    supports() {\n        return this.SupportsDeclaration();\n    }\n};\n\nexport function parse(kind = 'media') {\n    const children = this.createList();\n\n    scan: while (!this.eof) {\n        switch (this.tokenType) {\n            case Comment:\n            case WhiteSpace:\n                this.next();\n                continue;\n\n            case Ident:\n                children.push(this.Identifier());\n                break;\n\n            case LeftParenthesis: {\n                let term = this.parseWithFallback(\n                    () => parentheses[kind].call(this, kind),\n                    () => null\n                );\n\n                if (!term) {\n                    term = this.parseWithFallback(\n                        () => {\n                            this.eat(LeftParenthesis);\n                            const res = this.Condition(kind);\n                            this.eat(RightParenthesis);\n                            return res;\n                        },\n                        () => {\n                            return this.GeneralEnclosed(kind);\n                        }\n                    );\n                }\n\n                children.push(term);\n                break;\n            }\n\n            case FunctionToken: {\n                let term = this.parseWithFallback(\n                    () => this.FeatureFunction(kind),\n                    () => null\n                );\n\n                if (!term) {\n                    term = this.GeneralEnclosed(kind);\n                }\n\n                children.push(term);\n                break;\n            }\n\n            default:\n                break scan;\n        }\n    }\n\n    if (children.isEmpty) {\n        this.error('Condition is expected');\n    }\n\n    return {\n        type: 'Condition',\n        loc: this.getLocationFromList(children),\n        kind,\n        children\n    };\n}\n\nexport function generate(node) {\n    node.children.forEach(child => {\n        if (child.type === 'Condition') {\n            this.token(LeftParenthesis, '(');\n            this.node(child);\n            this.token(RightParenthesis, ')');\n        } else {\n            this.node(child);\n        }\n    });\n}\n\n", "import { isCustomProperty } from '../../utils/names.js';\nimport {\n    Ident,\n    Hash,\n    Colon,\n    Semicolon,\n    Delim,\n    WhiteSpace\n} from '../../tokenizer/index.js';\n\nconst EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\nconst NUMBERSIGN = 0x0023;      // U+0023 NUMBER SIGN (#)\nconst DOLLARSIGN = 0x0024;      // U+0024 DOLLAR SIGN ($)\nconst AMPERSAND = 0x0026;       // U+0026 AMPERSAND (&)\nconst ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nconst PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nconst SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\n\nfunction consumeValueRaw() {\n    return this.Raw(this.consumeUntilExclamationMarkOrSemicolon, true);\n}\n\nfunction consumeCustomPropertyRaw() {\n    return this.Raw(this.consumeUntilExclamationMarkOrSemicolon, false);\n}\n\nfunction consumeValue() {\n    const startValueToken = this.tokenIndex;\n    const value = this.Value();\n\n    if (value.type !== 'Raw' &&\n        this.eof === false &&\n        this.tokenType !== Semicolon &&\n        this.isDelim(EXCLAMATIONMARK) === false &&\n        this.isBalanceEdge(startValueToken) === false) {\n        this.error();\n    }\n\n    return value;\n}\n\nexport const name = 'Declaration';\nexport const walkContext = 'declaration';\nexport const structure = {\n    important: [Boolean, String],\n    property: String,\n    value: ['Value', 'Raw']\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    const startToken = this.tokenIndex;\n    const property = readProperty.call(this);\n    const customProperty = isCustomProperty(property);\n    const parseValue = customProperty ? this.parseCustomProperty : this.parseValue;\n    const consumeRaw = customProperty ? consumeCustomPropertyRaw : consumeValueRaw;\n    let important = false;\n    let value;\n\n    this.skipSC();\n    this.eat(Colon);\n\n    const valueStart = this.tokenIndex;\n\n    if (!customProperty) {\n        this.skipSC();\n    }\n\n    if (parseValue) {\n        value = this.parseWithFallback(consumeValue, consumeRaw);\n    } else {\n        value = consumeRaw.call(this, this.tokenIndex);\n    }\n\n    if (customProperty && value.type === 'Value' && value.children.isEmpty) {\n        for (let offset = valueStart - this.tokenIndex; offset <= 0; offset++) {\n            if (this.lookupType(offset) === WhiteSpace) {\n                value.children.appendData({\n                    type: 'WhiteSpace',\n                    loc: null,\n                    value: ' '\n                });\n                break;\n            }\n        }\n    }\n\n    if (this.isDelim(EXCLAMATIONMARK)) {\n        important = getImportant.call(this);\n        this.skipSC();\n    }\n\n    // Do not include semicolon to range per spec\n    // https://drafts.csswg.org/css-syntax/#declaration-diagram\n\n    if (this.eof === false &&\n        this.tokenType !== Semicolon &&\n        this.isBalanceEdge(startToken) === false) {\n        this.error();\n    }\n\n    return {\n        type: 'Declaration',\n        loc: this.getLocation(start, this.tokenStart),\n        important,\n        property,\n        value\n    };\n}\n\nexport function generate(node) {\n    this.token(Ident, node.property);\n    this.token(Colon, ':');\n    this.node(node.value);\n\n    if (node.important) {\n        this.token(Delim, '!');\n        this.token(Ident, node.important === true ? 'important' : node.important);\n    }\n}\n\nfunction readProperty() {\n    const start = this.tokenStart;\n\n    // hacks\n    if (this.tokenType === Delim) {\n        switch (this.charCodeAt(this.tokenStart)) {\n            case ASTERISK:\n            case DOLLARSIGN:\n            case PLUSSIGN:\n            case NUMBERSIGN:\n            case AMPERSAND:\n                this.next();\n                break;\n\n            // TODO: not sure we should support this hack\n            case SOLIDUS:\n                this.next();\n                if (this.isDelim(SOLIDUS)) {\n                    this.next();\n                }\n                break;\n        }\n    }\n\n    if (this.tokenType === Hash) {\n        this.eat(Hash);\n    } else {\n        this.eat(Ident);\n    }\n\n    return this.substrToCursor(start);\n}\n\n// ! ws* important\nfunction getImportant() {\n    this.eat(Delim);\n    this.skipSC();\n\n    const important = this.consume(Ident);\n\n    // store original value in case it differ from `important`\n    // for better original source restoring and hacks like `!ie` support\n    return important === 'important' ? true : important;\n}\n", "import {\n    WhiteSpace,\n    Comment,\n    Semicolon,\n    AtKeyword\n} from '../../tokenizer/index.js';\n\nconst AMPERSAND = 0x0026;       // U+0026 AMPERSAND (&)\n\nfunction consumeRaw() {\n    return this.Raw(this.consumeUntilSemicolonIncluded, true);\n}\n\nexport const name = 'DeclarationList';\nexport const structure = {\n    children: [[\n        'Declaration',\n        'Atrule',\n        'Rule'\n    ]]\n};\n\nexport function parse() {\n    const children = this.createList();\n\n    scan:\n    while (!this.eof) {\n        switch (this.tokenType) {\n            case WhiteSpace:\n            case Comment:\n            case Semicolon:\n                this.next();\n                break;\n\n            case AtKeyword:\n                children.push(this.parseWithFallback(this.Atrule.bind(this, true), consumeRaw));\n                break;\n\n            default:\n                if (this.isDelim(AMPERSAND))  {\n                    children.push(this.parseWithFallback(this.Rule, consumeRaw));\n                } else {\n                    children.push(this.parseWithFallback(this.Declaration, consumeRaw));\n                }\n        }\n    }\n\n    return {\n        type: 'DeclarationList',\n        loc: this.getLocationFromList(children),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node, prev => {\n        if (prev.type === 'Declaration') {\n            this.token(Semicolon, ';');\n        }\n    });\n}\n\n", "import { Dimension } from '../../tokenizer/index.js';\n\nexport const name = 'Dimension';\nexport const structure = {\n    value: String,\n    unit: String\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    const value = this.consumeNumber(Dimension);\n\n    return {\n        type: 'Dimension',\n        loc: this.getLocation(start, this.tokenStart),\n        value,\n        unit: this.substring(start + value.length, this.tokenStart)\n    };\n}\n\nexport function generate(node) {\n    this.token(Dimension, node.value + node.unit);\n}\n", "import {\n    Ident,\n    Number,\n    Dimension,\n    Function as FunctionToken,\n    LeftParenthesis,\n    RightParenthesis,\n    Colon,\n    Delim\n} from '../../tokenizer/index.js';\n\nconst SOLIDUS = 0x002F;  // U+002F SOLIDUS (/)\n\nexport const name = 'Feature';\nexport const structure = {\n    kind: String,\n    name: String,\n    value: ['Identifier', 'Number', 'Dimension', 'Ratio', 'Function', null]\n};\n\nexport function parse(kind) {\n    const start = this.tokenStart;\n    let name;\n    let value = null;\n\n    this.eat(LeftParenthesis);\n    this.skipSC();\n\n    name = this.consume(Ident);\n    this.skipSC();\n\n    if (this.tokenType !== RightParenthesis) {\n        this.eat(Colon);\n        this.skipSC();\n\n        switch (this.tokenType) {\n            case Number:\n                if (this.lookupNonWSType(1) === Delim) {\n                    value = this.Ratio();\n                } else {\n                    value = this.Number();\n                }\n\n                break;\n\n            case Dimension:\n                value = this.Dimension();\n                break;\n\n            case Ident:\n                value = this.Identifier();\n                break;\n\n            case FunctionToken:\n                value = this.parseWithFallback(\n                    () => {\n                        const res = this.Function(this.readSequence, this.scope.Value);\n\n                        this.skipSC();\n\n                        if (this.isDelim(SOLIDUS)) {\n                            this.error();\n                        }\n\n                        return res;\n                    },\n                    () => {\n                        return this.Ratio();\n                    }\n                );\n                break;\n\n            default:\n                this.error('Number, dimension, ratio or identifier is expected');\n        }\n\n        this.skipSC();\n    }\n\n    if (!this.eof) {\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'Feature',\n        loc: this.getLocation(start, this.tokenStart),\n        kind,\n        name,\n        value\n    };\n}\n\nexport function generate(node) {\n    this.token(LeftParenthesis, '(');\n    this.token(Ident, node.name);\n\n    if (node.value !== null) {\n        this.token(Colon, ':');\n        this.node(node.value);\n    }\n\n    this.token(RightParenthesis, ')');\n}\n", "import {\n    Function as FunctionToken,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nexport const name = 'FeatureFunction';\nexport const structure = {\n    kind: String,\n    feature: String,\n    value: ['Declaration', 'Selector']\n};\n\nfunction getFeatureParser(kind, name) {\n    const featuresOfKind = this.features[kind] || {};\n    const parser = featuresOfKind[name];\n\n    if (typeof parser !== 'function') {\n        this.error(`Unknown feature ${name}()`);\n    }\n\n    return parser;\n}\n\nexport function parse(kind = 'unknown') {\n    const start = this.tokenStart;\n    const functionName = this.consumeFunctionName();\n    const valueParser = getFeatureParser.call(this, kind, functionName.toLowerCase());\n\n    this.skipSC();\n\n    const value = this.parseWithFallback(\n        () => {\n            const startValueToken = this.tokenIndex;\n            const value = valueParser.call(this);\n\n            if (this.eof === false &&\n                this.isBalanceEdge(startValueToken) === false) {\n                this.error();\n            }\n\n            return value;\n        },\n        () => this.Raw(null, false)\n    );\n\n    if (!this.eof) {\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'FeatureFunction',\n        loc: this.getLocation(start, this.tokenStart),\n        kind,\n        feature: functionName,\n        value\n    };\n}\n\nexport function generate(node) {\n    this.token(FunctionToken, node.feature + '(');\n    this.node(node.value);\n    this.token(RightParenthesis, ')');\n}\n", "import {\n    Ident,\n    Number,\n    Dimension,\n    Function as FunctionToken,\n    LeftParenthesis,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nconst SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nconst LESSTHANSIGN = 0x003C;    // U+003C LESS-THAN SIGN (<)\nconst EQUALSSIGN = 0x003D;      // U+003D EQUALS SIGN (=)\nconst GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\n\nexport const name = 'FeatureRange';\nexport const structure = {\n    kind: String,\n    left: ['Identifier', 'Number', 'Dimension', 'Ratio', 'Function'],\n    leftComparison: String,\n    middle: ['Identifier', 'Number', 'Dimension', 'Ratio', 'Function'],\n    rightComparison: [String, null],\n    right: ['Identifier', 'Number', 'Dimension', 'Ratio', 'Function', null]\n};\n\nfunction readTerm() {\n    this.skipSC();\n\n    switch (this.tokenType) {\n        case Number:\n            if (this.isDelim(SOLIDUS, this.lookupOffsetNonSC(1))) {\n                return this.Ratio();\n            } else {\n                return this.Number();\n            }\n\n        case Dimension:\n            return this.Dimension();\n\n        case Ident:\n            return this.Identifier();\n\n        case FunctionToken:\n            return this.parseWithFallback(\n                () => {\n                    const res = this.Function(this.readSequence, this.scope.Value);\n\n                    this.skipSC();\n\n                    if (this.isDelim(SOLIDUS)) {\n                        this.error();\n                    }\n\n                    return res;\n                },\n                () => {\n                    return this.Ratio();\n                }\n            );\n\n        default:\n            this.error('Number, dimension, ratio or identifier is expected');\n    }\n}\n\nfunction readComparison(expectColon) {\n    this.skipSC();\n\n    if (this.isDelim(LESSTHANSIGN) ||\n        this.isDelim(GREATERTHANSIGN)) {\n        const value = this.source[this.tokenStart];\n\n        this.next();\n\n        if (this.isDelim(EQUALSSIGN)) {\n            this.next();\n            return value + '=';\n        }\n\n        return value;\n    }\n\n    if (this.isDelim(EQUALSSIGN)) {\n        return '=';\n    }\n\n    this.error(`Expected ${expectColon ? '\":\", ' : ''}\"<\", \">\", \"=\" or \")\"`);\n}\n\nexport function parse(kind = 'unknown') {\n    const start = this.tokenStart;\n\n    this.skipSC();\n    this.eat(LeftParenthesis);\n\n    const left = readTerm.call(this);\n    const leftComparison = readComparison.call(this, left.type === 'Identifier');\n    const middle = readTerm.call(this);\n    let rightComparison = null;\n    let right = null;\n\n    if (this.lookupNonWSType(0) !== RightParenthesis) {\n        rightComparison = readComparison.call(this);\n        right = readTerm.call(this);\n    }\n\n    this.skipSC();\n    this.eat(RightParenthesis);\n\n    return {\n        type: 'FeatureRange',\n        loc: this.getLocation(start, this.tokenStart),\n        kind,\n        left,\n        leftComparison,\n        middle,\n        rightComparison,\n        right\n    };\n}\n\nexport function generate(node) {\n    this.token(LeftParenthesis, '(');\n    this.node(node.left);\n    this.tokenize(node.leftComparison);\n    this.node(node.middle);\n\n    if (node.right) {\n        this.tokenize(node.rightComparison);\n        this.node(node.right);\n    }\n\n    this.token(RightParenthesis, ')');\n}\n", "import {\n    Function as FunctionToken,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\n\nexport const name = 'Function';\nexport const walkContext = 'function';\nexport const structure = {\n    name: String,\n    children: [[]]\n};\n\n// <function-token> <sequence> )\nexport function parse(readSequence, recognizer) {\n    const start = this.tokenStart;\n    const name = this.consumeFunctionName();\n    const nameLowerCase = name.toLowerCase();\n    let children;\n\n    children = recognizer.hasOwnProperty(nameLowerCase)\n        ? recognizer[nameLowerCase].call(this, recognizer)\n        : readSequence.call(this, recognizer);\n\n    if (!this.eof) {\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'Function',\n        loc: this.getLocation(start, this.tokenStart),\n        name,\n        children\n    };\n}\n\nexport function generate(node) {\n    this.token(FunctionToken, node.name + '(');\n    this.children(node);\n    this.token(RightParenthesis, ')');\n}\n", "import {\n    Function as FunctionToken,\n    LeftParenthesis,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\n\nexport const name = 'GeneralEnclosed';\nexport const structure = {\n    kind: String,\n    function: [String, null],\n    children: [[]]\n};\n\n// <function-token> <any-value> )\n// ( <any-value> )\nexport function parse(kind) {\n    const start = this.tokenStart;\n    let functionName = null;\n\n    if (this.tokenType === FunctionToken) {\n        functionName = this.consumeFunctionName();\n    } else {\n        this.eat(LeftParenthesis);\n    }\n\n    const children = this.parseWithFallback(\n        () => {\n            const startValueToken = this.tokenIndex;\n            const children = this.readSequence(this.scope.Value);\n\n            if (this.eof === false &&\n                this.isBalanceEdge(startValueToken) === false) {\n                this.error();\n            }\n\n            return children;\n        },\n        () => this.createSingleNodeList(\n            this.Raw(null, false)\n        )\n    );\n\n    if (!this.eof) {\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'GeneralEnclosed',\n        loc: this.getLocation(start, this.tokenStart),\n        kind,\n        function: functionName,\n        children\n    };\n}\n\nexport function generate(node) {\n    if (node.function) {\n        this.token(FunctionToken, node.function + '(');\n    } else {\n        this.token(LeftParenthesis, '(');\n    }\n\n    this.children(node);\n    this.token(RightParenthesis, ')');\n}\n", "import { Hash } from '../../tokenizer/index.js';\n\n// '#' ident\nexport const xxx = 'XXX';\nexport const name = 'Hash';\nexport const structure = {\n    value: String\n};\nexport function parse() {\n    const start = this.tokenStart;\n\n    this.eat(Hash);\n\n    return {\n        type: 'Hash',\n        loc: this.getLocation(start, this.tokenStart),\n        value: this.substrToCursor(start + 1)\n    };\n}\nexport function generate(node) {\n    this.token(Hash, '#' + node.value);\n}\n\n", "import { Ident } from '../../tokenizer/index.js';\n\nexport const name = 'Identifier';\nexport const structure = {\n    name: String\n};\n\nexport function parse() {\n    return {\n        type: 'Identifier',\n        loc: this.getLocation(this.tokenStart, this.tokenEnd),\n        name: this.consume(Ident)\n    };\n}\n\nexport function generate(node) {\n    this.token(Ident, node.name);\n}\n", "import { Hash, Delim } from '../../tokenizer/index.js';\n\nexport const name = 'IdSelector';\nexport const structure = {\n    name: String\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    // TODO: check value is an ident\n    this.eat(Hash);\n\n    return {\n        type: 'IdSelector',\n        loc: this.getLocation(start, this.tokenStart),\n        name: this.substrToCursor(start + 1)\n    };\n}\n\nexport function generate(node) {\n    // Using Delim instead of Hash is a hack to avoid for a whitespace between ident and id-selector\n    // in safe mode (e.g. \"a#id\"), because IE11 doesn't allow a sequence <ident-token> <hash-token>\n    // without a whitespace in values (e.g. \"1px solid#000\")\n    this.token(Delim, '#' + node.name);\n}\n", "import { Ident, Delim } from '../../tokenizer/index.js';\n\nconst FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\nexport const name = 'Layer';\nexport const structure = {\n    name: String\n};\n\nexport function parse() {\n    let name = this.consume(Ident);\n\n    while (this.isDelim(FULLSTOP)) {\n        this.eat(Delim);\n        name += '.' + this.consume(Ident);\n    }\n\n    return {\n        type: 'Layer',\n        loc: this.getLocation(this.tokenStart, this.tokenEnd),\n        name\n    };\n}\n\nexport function generate(node) {\n    this.tokenize(node.name);\n}\n", "import { Comma } from '../../tokenizer/index.js';\n\nexport const name = 'LayerList';\nexport const structure = {\n    children: [[\n        'Layer'\n    ]]\n};\n\nexport function parse() {\n    const children = this.createList();\n\n    this.skipSC();\n\n    while (!this.eof) {\n        children.push(this.Layer());\n\n        if (this.lookupTypeNonSC(0) !== Comma) {\n            break;\n        }\n\n        this.skipSC();\n        this.next();\n        this.skipSC();\n    }\n\n    return {\n        type: 'LayerList',\n        loc: this.getLocationFromList(children),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node, () => this.token(Comma, ','));\n}\n", "import {\n    Comma,\n    EOF,\n    Ident,\n    LeftCurlyBracket,\n    LeftParenthesis,\n    Function as FunctionToken,\n    Semicolon\n} from '../../tokenizer/index.js';\n\nexport const name = 'MediaQuery';\nexport const structure = {\n    modifier: [String, null],\n    mediaType: [String, null],\n    condition: ['Condition', null]\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    let modifier = null;\n    let mediaType = null;\n    let condition = null;\n\n    this.skipSC();\n\n    if (this.tokenType === Ident && this.lookupTypeNonSC(1) !== LeftParenthesis) {\n        // [ not | only ]? <media-type>\n        const ident = this.consume(Ident);\n        const identLowerCase = ident.toLowerCase();\n\n        if (identLowerCase === 'not' || identLowerCase === 'only') {\n            this.skipSC();\n            modifier = identLowerCase;\n            mediaType = this.consume(Ident);\n        } else {\n            mediaType = ident;\n        }\n\n        switch (this.lookupTypeNonSC(0)) {\n            case Ident: {\n                // and <media-condition-without-or>\n                this.skipSC();\n                this.eatIdent('and');\n                condition = this.Condition('media');\n                break;\n            }\n\n            case LeftCurlyBracket:\n            case Semicolon:\n            case Comma:\n            case EOF:\n                break;\n\n            default:\n                this.error('Identifier or parenthesis is expected');\n        }\n    } else {\n        switch (this.tokenType) {\n            case Ident:\n            case LeftParenthesis:\n            case FunctionToken: {\n                // <media-condition>\n                condition = this.Condition('media');\n                break;\n            }\n\n            case LeftCurlyBracket:\n            case Semicolon:\n            case EOF:\n                break;\n\n            default:\n                this.error('Identifier or parenthesis is expected');\n        }\n    }\n\n    return {\n        type: 'MediaQuery',\n        loc: this.getLocation(start, this.tokenStart),\n        modifier,\n        mediaType,\n        condition\n    };\n}\n\nexport function generate(node) {\n    if (node.mediaType) {\n        if (node.modifier) {\n            this.token(Ident, node.modifier);\n        }\n\n        this.token(Ident, node.mediaType);\n\n        if (node.condition) {\n            this.token(Ident, 'and');\n            this.node(node.condition);\n        }\n    } else if (node.condition) {\n        this.node(node.condition);\n    }\n}\n\n", "import { Comma } from '../../tokenizer/index.js';\n\nexport const name = 'MediaQueryList';\nexport const structure = {\n    children: [[\n        'MediaQuery'\n    ]]\n};\n\nexport function parse() {\n    const children = this.createList();\n\n    this.skipSC();\n\n    while (!this.eof) {\n        children.push(this.MediaQuery());\n\n        if (this.tokenType !== Comma) {\n            break;\n        }\n\n        this.next();\n    }\n\n    return {\n        type: 'MediaQueryList',\n        loc: this.getLocationFromList(children),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node, () => this.token(Comma, ','));\n}\n", "import { Delim } from '../../tokenizer/index.js';\n\nconst AMPERSAND = 0x0026;       // U+0026 AMPERSAND (&)\n\nexport const name = 'NestingSelector';\nexport const structure = {\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    this.eatDelim(AMPERSAND);\n\n    return {\n        type: 'NestingSelector',\n        loc: this.getLocation(start, this.tokenStart)\n    };\n}\n\nexport function generate() {\n    this.token(Delim, '&');\n}\n", "import { Ident } from '../../tokenizer/index.js';\n\nexport const name = 'Nth';\nexport const structure = {\n    nth: ['AnPlusB', 'Identifier'],\n    selector: ['SelectorList', null]\n};\n\nexport function parse() {\n    this.skipSC();\n\n    const start = this.tokenStart;\n    let end = start;\n    let selector = null;\n    let nth;\n\n    if (this.lookupValue(0, 'odd') || this.lookupValue(0, 'even')) {\n        nth = this.Identifier();\n    } else {\n        nth = this.AnPlusB();\n    }\n\n    end = this.tokenStart;\n    this.skipSC();\n\n    if (this.lookupValue(0, 'of')) {\n        this.next();\n\n        selector = this.SelectorList();\n        end = this.tokenStart;\n    }\n\n    return {\n        type: 'Nth',\n        loc: this.getLocation(start, end),\n        nth,\n        selector\n    };\n}\n\nexport function generate(node) {\n    this.node(node.nth);\n    if (node.selector !== null) {\n        this.token(Ident, 'of');\n        this.node(node.selector);\n    }\n}\n", "import { Number as NumberToken } from '../../tokenizer/index.js';\n\nexport const name = 'Number';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    return {\n        type: 'Number',\n        loc: this.getLocation(this.tokenStart, this.tokenEnd),\n        value: this.consume(NumberToken)\n    };\n}\n\nexport function generate(node) {\n    this.token(NumberToken, node.value);\n}\n", "// '/' | '*' | ',' | ':' | '+' | '-'\nexport const name = 'Operator';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    this.next();\n\n    return {\n        type: 'Operator',\n        loc: this.getLocation(start, this.tokenStart),\n        value: this.substrToCursor(start)\n    };\n}\n\nexport function generate(node) {\n    this.tokenize(node.value);\n}\n", "import {\n    LeftParenthesis,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nexport const name = 'Parentheses';\nexport const structure = {\n    children: [[]]\n};\n\nexport function parse(readSequence, recognizer) {\n    const start = this.tokenStart;\n    let children = null;\n\n    this.eat(LeftParenthesis);\n\n    children = readSequence.call(this, recognizer);\n\n    if (!this.eof) {\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'Parentheses',\n        loc: this.getLocation(start, this.tokenStart),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.token(LeftParenthesis, '(');\n    this.children(node);\n    this.token(RightParenthesis, ')');\n}\n", "import { Percentage } from '../../tokenizer/index.js';\n\nexport const name = 'Percentage';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    return {\n        type: 'Percentage',\n        loc: this.getLocation(this.tokenStart, this.tokenEnd),\n        value: this.consumeNumber(Percentage)\n    };\n}\n\nexport function generate(node) {\n    this.token(Percentage, node.value + '%');\n}\n", "import {\n    Ident,\n    Function as FunctionToken,\n    Colon,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\n\nexport const name = 'PseudoClassSelector';\nexport const walkContext = 'function';\nexport const structure = {\n    name: String,\n    children: [['Raw'], null]\n};\n\n// : [ <ident> | <function-token> <any-value>? ) ]\nexport function parse() {\n    const start = this.tokenStart;\n    let children = null;\n    let name;\n    let nameLowerCase;\n\n    this.eat(Colon);\n\n    if (this.tokenType === FunctionToken) {\n        name = this.consumeFunctionName();\n        nameLowerCase = name.toLowerCase();\n\n        if (this.lookupNonWSType(0) == RightParenthesis) {\n            children = this.createList();\n        } else if (hasOwnProperty.call(this.pseudo, nameLowerCase)) {\n            this.skipSC();\n            children = this.pseudo[nameLowerCase].call(this);\n            this.skipSC();\n        } else {\n            children = this.createList();\n            children.push(\n                this.Raw(null, false)\n            );\n        }\n\n        this.eat(RightParenthesis);\n    } else {\n        name = this.consume(Ident);\n    }\n\n    return {\n        type: 'PseudoClassSelector',\n        loc: this.getLocation(start, this.tokenStart),\n        name,\n        children\n    };\n}\n\nexport function generate(node) {\n    this.token(Colon, ':');\n\n    if (node.children === null) {\n        this.token(Ident, node.name);\n    } else {\n        this.token(FunctionToken, node.name + '(');\n        this.children(node);\n        this.token(RightParenthesis, ')');\n    }\n}\n", "import {\n    Ident,\n    Function as FunctionToken,\n    Colon,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nexport const name = 'PseudoElementSelector';\nexport const walkContext = 'function';\nexport const structure = {\n    name: String,\n    children: [['Raw'], null]\n};\n\n// :: [ <ident> | <function-token> <any-value>? ) ]\nexport function parse() {\n    const start = this.tokenStart;\n    let children = null;\n    let name;\n    let nameLowerCase;\n\n    this.eat(Colon);\n    this.eat(Colon);\n\n    if (this.tokenType === FunctionToken) {\n        name = this.consumeFunctionName();\n        nameLowerCase = name.toLowerCase();\n\n        if (this.lookupNonWSType(0) == RightParenthesis) {\n            children = this.createList();\n        } else if (hasOwnProperty.call(this.pseudo, nameLowerCase)) {\n            this.skipSC();\n            children = this.pseudo[nameLowerCase].call(this);\n            this.skipSC();\n        } else {\n            children = this.createList();\n            children.push(\n                this.Raw(null, false)\n            );\n        }\n\n        this.eat(RightParenthesis);\n    } else {\n        name = this.consume(Ident);\n    }\n\n    return {\n        type: 'PseudoElementSelector',\n        loc: this.getLocation(start, this.tokenStart),\n        name,\n        children\n    };\n}\n\nexport function generate(node) {\n    this.token(Colon, ':');\n    this.token(Colon, ':');\n\n    if (node.children === null) {\n        this.token(Ident, node.name);\n    } else {\n        this.token(FunctionToken, node.name + '(');\n        this.children(node);\n        this.token(RightParenthesis, ')');\n    }\n}\n", "import {\n    Delim,\n    Number as NumberToken,\n    Function as FunctionToken\n} from '../../tokenizer/index.js';\n\nconst SOLIDUS = 0x002F;  // U+002F SOLIDUS (/)\n\n// Media Queries Level 3 defines terms of <ratio> as a positive (not zero or negative)\n// integers (see https://drafts.csswg.org/mediaqueries-3/#values)\n// However, Media Queries Level 4 removes any definition of values\n// (see https://drafts.csswg.org/mediaqueries-4/#values) and refers to\n// CSS Values and Units for detail. In CSS Values and Units Level 4 a <ratio>\n// definition was added (see https://drafts.csswg.org/css-values-4/#ratios) which\n// defines ratio as \"<number [0,∞]> [ / <number [0,∞]> ]?\" and based on it\n// any constrains on terms were removed. Parser also doesn't test numbers\n// in any way to make possible for linting and fixing them by the tools using CSSTree.\n// An additional syntax examination may be applied by a lexer.\nfunction consumeTerm() {\n    this.skipSC();\n\n    switch (this.tokenType) {\n        case NumberToken:\n            return this.Number();\n\n        case FunctionToken:\n            return this.Function(this.readSequence, this.scope.Value);\n\n        default:\n            this.error('Number of function is expected');\n    }\n}\n\nexport const name = 'Ratio';\nexport const structure = {\n    left: ['Number', 'Function'],\n    right: ['Number', 'Function', null]\n};\n\n// <number [0,∞]> [ / <number [0,∞]> ]?\nexport function parse() {\n    const start = this.tokenStart;\n    const left = consumeTerm.call(this);\n    let right = null;\n\n    this.skipSC();\n    if (this.isDelim(SOLIDUS)) {\n        this.eatDelim(SOLIDUS);\n        right = consumeTerm.call(this);\n    }\n\n    return {\n        type: 'Ratio',\n        loc: this.getLocation(start, this.tokenStart),\n        left,\n        right\n    };\n}\n\nexport function generate(node) {\n    this.node(node.left);\n    this.token(Delim, '/');\n    if (node.right) {\n        this.node(node.right);\n    } else {\n        this.node(NumberToken, 1);\n    }\n}\n", "import { WhiteSpace } from '../../tokenizer/index.js';\n\nfunction getOffsetExcludeWS() {\n    if (this.tokenIndex > 0) {\n        if (this.lookupType(-1) === WhiteSpace) {\n            return this.tokenIndex > 1\n                ? this.getTokenStart(this.tokenIndex - 1)\n                : this.firstCharOffset;\n        }\n    }\n\n    return this.tokenStart;\n}\n\nexport const name = 'Raw';\nexport const structure = {\n    value: String\n};\n\nexport function parse(consumeUntil, excludeWhiteSpace) {\n    const startOffset = this.getTokenStart(this.tokenIndex);\n    let endOffset;\n\n    this.skipUntilBalanced(this.tokenIndex, consumeUntil || this.consumeUntilBalanceEnd);\n\n    if (excludeWhiteSpace && this.tokenStart > startOffset) {\n        endOffset = getOffsetExcludeWS.call(this);\n    } else {\n        endOffset = this.tokenStart;\n    }\n\n    return {\n        type: 'Raw',\n        loc: this.getLocation(startOffset, endOffset),\n        value: this.substring(startOffset, endOffset)\n    };\n}\n\nexport function generate(node) {\n    this.tokenize(node.value);\n}\n", "import { LeftCurlyBracket } from '../../tokenizer/index.js';\n\nfunction consumeRaw() {\n    return this.Raw(this.consumeUntilLeftCurlyBracket, true);\n}\n\nfunction consumePrelude() {\n    const prelude = this.SelectorList();\n\n    if (prelude.type !== 'Raw' &&\n        this.eof === false &&\n        this.tokenType !== LeftCurlyBracket) {\n        this.error();\n    }\n\n    return prelude;\n}\n\nexport const name = 'Rule';\nexport const walkContext = 'rule';\nexport const structure = {\n    prelude: ['SelectorList', 'Raw'],\n    block: ['Block']\n};\n\nexport function parse() {\n    const startToken = this.tokenIndex;\n    const startOffset = this.tokenStart;\n    let prelude;\n    let block;\n\n    if (this.parseRulePrelude) {\n        prelude = this.parseWithFallback(consumePrelude, consumeRaw);\n    } else {\n        prelude = consumeRaw.call(this, startToken);\n    }\n\n    block = this.Block(true);\n\n    return {\n        type: 'Rule',\n        loc: this.getLocation(startOffset, this.tokenStart),\n        prelude,\n        block\n    };\n}\nexport function generate(node) {\n    this.node(node.prelude);\n    this.node(node.block);\n}\n\n", "import {\n    Ident,\n    LeftParenthesis,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nexport const name = 'Scope';\nexport const structure = {\n    root: ['SelectorList', 'Raw', null],\n    limit: ['SelectorList', 'Raw', null]\n};\n\nexport function parse() {\n    let root = null;\n    let limit = null;\n\n    this.skipSC();\n\n    const startOffset = this.tokenStart;\n    if (this.tokenType === LeftParenthesis) {\n        this.next();\n        this.skipSC();\n        root = this.parseWithFallback(\n            this.SelectorList,\n            () => this.Raw(false, true)\n        );\n        this.skipSC();\n        this.eat(RightParenthesis);\n    }\n\n    if (this.lookupNonWSType(0) === Ident) {\n        this.skipSC();\n        this.eatIdent('to');\n        this.skipSC();\n        this.eat(LeftParenthesis);\n        this.skipSC();\n        limit = this.parseWithFallback(\n            this.SelectorList,\n            () => this.Raw(false, true)\n        );\n        this.skipSC();\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'Scope',\n        loc: this.getLocation(startOffset, this.tokenStart),\n        root,\n        limit\n    };\n}\n\nexport function generate(node) {\n    if (node.root) {\n        this.token(LeftParenthesis, '(');\n        this.node(node.root);\n        this.token(RightParenthesis, ')');\n    }\n\n    if (node.limit) {\n        this.token(Ident, 'to');\n        this.token(LeftParenthesis, '(');\n        this.node(node.limit);\n        this.token(RightParenthesis, ')');\n    }\n}\n", "export const name = 'Selector';\nexport const structure = {\n    children: [[\n        'TypeSelector',\n        'IdSelector',\n        'ClassSelector',\n        'AttributeSelector',\n        'PseudoClassSelector',\n        'PseudoElementSelector',\n        'Combinator'\n    ]]\n};\n\nexport function parse() {\n    const children = this.readSequence(this.scope.Selector);\n\n    // nothing were consumed\n    if (this.getFirstListNode(children) === null) {\n        this.error('Selector is expected');\n    }\n\n    return {\n        type: 'Selector',\n        loc: this.getLocationFromList(children),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node);\n}\n", "import { Comma } from '../../tokenizer/index.js';\n\nexport const name = 'SelectorList';\nexport const walkContext = 'selector';\nexport const structure = {\n    children: [[\n        'Selector',\n        'Raw'\n    ]]\n};\n\nexport function parse() {\n    const children = this.createList();\n\n    while (!this.eof) {\n        children.push(this.Selector());\n\n        if (this.tokenType === Comma) {\n            this.next();\n            continue;\n        }\n\n        break;\n    }\n\n    return {\n        type: 'SelectorList',\n        loc: this.getLocationFromList(children),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node, () => this.token(Comma, ','));\n}\n", "import {\n    isHexDigit,\n    isWhiteSpace,\n    isValidEscape,\n    consumeEscaped,\n    decodeEscaped\n} from '../tokenizer/index.js';\n\nconst REVERSE_SOLIDUS = 0x005c; // U+005C REVERSE SOLIDUS (\\)\nconst QUOTATION_MARK = 0x0022;  // \"\nconst APOSTROPHE = 0x0027;      // '\n\nexport function decode(str) {\n    const len = str.length;\n    const firstChar = str.charCodeAt(0);\n    const start = firstChar === QUOTATION_MARK || firstChar === APOSTROPHE ? 1 : 0;\n    const end = start === 1 && len > 1 && str.charCodeAt(len - 1) === firstChar ? len - 2 : len - 1;\n    let decoded = '';\n\n    for (let i = start; i <= end; i++) {\n        let code = str.charCodeAt(i);\n\n        if (code === REVERSE_SOLIDUS) {\n            // special case at the ending\n            if (i === end) {\n                // if the next input code point is EOF, do nothing\n                // otherwise include last quote as escaped\n                if (i !== len - 1) {\n                    decoded = str.substr(i + 1);\n                }\n                break;\n            }\n\n            code = str.charCodeAt(++i);\n\n            // consume escaped\n            if (isValidEscape(REVERSE_SOLIDUS, code)) {\n                const escapeStart = i - 1;\n                const escapeEnd = consumeEscaped(str, escapeStart);\n\n                i = escapeEnd - 1;\n                decoded += decodeEscaped(str.substring(escapeStart + 1, escapeEnd));\n            } else {\n                // \\r\\n\n                if (code === 0x000d && str.charCodeAt(i + 1) === 0x000a) {\n                    i++;\n                }\n            }\n        } else {\n            decoded += str[i];\n        }\n    }\n\n    return decoded;\n}\n\n// https://drafts.csswg.org/cssom/#serialize-a-string\n// § 2.1. Common Serializing Idioms\nexport function encode(str, apostrophe) {\n    const quote = apostrophe ? '\\'' : '\"';\n    const quoteCode = apostrophe ? APOSTROPHE : QUOTATION_MARK;\n    let encoded = '';\n    let wsBeforeHexIsNeeded = false;\n\n    for (let i = 0; i < str.length; i++) {\n        const code = str.charCodeAt(i);\n\n        // If the character is NULL (U+0000), then the REPLACEMENT CHARACTER (U+FFFD).\n        if (code === 0x0000) {\n            encoded += '\\uFFFD';\n            continue;\n        }\n\n        // If the character is in the range [\\1-\\1f] (U+0001 to U+001F) or is U+007F,\n        // the character escaped as code point.\n        // Note: Do not compare with 0x0001 since 0x0000 is precessed before\n        if (code <= 0x001f || code === 0x007F) {\n            encoded += '\\\\' + code.toString(16);\n            wsBeforeHexIsNeeded = true;\n            continue;\n        }\n\n        // If the character is '\"' (U+0022) or \"\\\" (U+005C), the escaped character.\n        if (code === quoteCode || code === REVERSE_SOLIDUS) {\n            encoded += '\\\\' + str.charAt(i);\n            wsBeforeHexIsNeeded = false;\n        } else {\n            if (wsBeforeHexIsNeeded && (isHexDigit(code) || isWhiteSpace(code))) {\n                encoded += ' ';\n            }\n\n            // Otherwise, the character itself.\n            encoded += str.charAt(i);\n            wsBeforeHexIsNeeded = false;\n        }\n    }\n\n    return quote + encoded + quote;\n}\n", "import { String as StringToken } from '../../tokenizer/index.js';\nimport { decode, encode } from '../../utils/string.js';\n\nexport const name = 'String';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    return {\n        type: 'String',\n        loc: this.getLocation(this.tokenStart, this.tokenEnd),\n        value: decode(this.consume(StringToken))\n    };\n}\n\nexport function generate(node) {\n    this.token(StringToken, encode(node.value));\n}\n", "import {\n    WhiteSpace,\n    Comment,\n    AtKeyword,\n    CDO,\n    CDC\n} from '../../tokenizer/index.js';\n\nconst EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\n\nfunction consumeRaw() {\n    return this.Raw(null, false);\n}\n\nexport const name = 'StyleSheet';\nexport const walkContext = 'stylesheet';\nexport const structure = {\n    children: [[\n        'Comment',\n        'CDO',\n        'CDC',\n        'Atrule',\n        'Rule',\n        'Raw'\n    ]]\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    const children = this.createList();\n    let child;\n\n    scan:\n    while (!this.eof) {\n        switch (this.tokenType) {\n            case WhiteSpace:\n                this.next();\n                continue;\n\n            case Comment:\n                // ignore comments except exclamation comments (i.e. /*! .. */) on top level\n                if (this.charCodeAt(this.tokenStart + 2) !== EXCLAMATIONMARK) {\n                    this.next();\n                    continue;\n                }\n\n                child = this.Comment();\n                break;\n\n            case CDO: // <!--\n                child = this.CDO();\n                break;\n\n            case CDC: // -->\n                child = this.CDC();\n                break;\n\n            // CSS Syntax Module Level 3\n            // §2.2 Error handling\n            // At the \"top level\" of a stylesheet, an <at-keyword-token> starts an at-rule.\n            case AtKeyword:\n                child = this.parseWithFallback(this.Atrule, consumeRaw);\n                break;\n\n            // Anything else starts a qualified rule ...\n            default:\n                child = this.parseWithFallback(this.Rule, consumeRaw);\n        }\n\n        children.push(child);\n    }\n\n    return {\n        type: 'StyleSheet',\n        loc: this.getLocation(start, this.tokenStart),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node);\n}\n", "import {\n    LeftParenthesis,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nexport const name = 'SupportsDeclaration';\nexport const structure = {\n    declaration: 'Declaration'\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    this.eat(LeftParenthesis);\n    this.skipSC();\n\n    const declaration = this.Declaration();\n\n    if (!this.eof) {\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'SupportsDeclaration',\n        loc: this.getLocation(start, this.tokenStart),\n        declaration\n    };\n}\n\nexport function generate(node) {\n    this.token(LeftParenthesis, '(');\n    this.node(node.declaration);\n    this.token(RightParenthesis, ')');\n}\n", "import { Ident } from '../../tokenizer/index.js';\n\nconst ASTERISK = 0x002A;     // U+002A ASTERISK (*)\nconst VERTICALLINE = 0x007C; // U+007C VERTICAL LINE (|)\n\nfunction eatIdentifierOrAsterisk() {\n    if (this.tokenType !== Ident &&\n        this.isDelim(ASTERISK) === false) {\n        this.error('Identifier or asterisk is expected');\n    }\n\n    this.next();\n}\n\nexport const name = 'TypeSelector';\nexport const structure = {\n    name: String\n};\n\n// ident\n// ident|ident\n// ident|*\n// *\n// *|ident\n// *|*\n// |ident\n// |*\nexport function parse() {\n    const start = this.tokenStart;\n\n    if (this.isDelim(VERTICALLINE)) {\n        this.next();\n        eatIdentifierOrAsterisk.call(this);\n    } else {\n        eatIdentifierOrAsterisk.call(this);\n\n        if (this.isDelim(VERTICALLINE)) {\n            this.next();\n            eatIdentifierOrAsterisk.call(this);\n        }\n    }\n\n    return {\n        type: 'TypeSelector',\n        loc: this.getLocation(start, this.tokenStart),\n        name: this.substrToCursor(start)\n    };\n}\n\nexport function generate(node) {\n    this.tokenize(node.name);\n}\n", "import {\n    isHexDigit,\n    Ident,\n    Number,\n    Dimension\n} from '../../tokenizer/index.js';\n\nconst PLUSSIGN = 0x002B;     // U+002B PLUS SIGN (+)\nconst HYPHENMINUS = 0x002D;  // U+002D HYPHEN-MINUS (-)\nconst QUESTIONMARK = 0x003F; // U+003F QUESTION MARK (?)\n\nfunction eatHexSequence(offset, allowDash) {\n    let len = 0;\n\n    for (let pos = this.tokenStart + offset; pos < this.tokenEnd; pos++) {\n        const code = this.charCodeAt(pos);\n\n        if (code === HYPHENMINUS && allowDash && len !== 0) {\n            eatHexSequence.call(this, offset + len + 1, false);\n            return -1;\n        }\n\n        if (!isHexDigit(code)) {\n            this.error(\n                allowDash && len !== 0\n                    ? 'Hyphen minus' + (len < 6 ? ' or hex digit' : '') + ' is expected'\n                    : (len < 6 ? 'Hex digit is expected' : 'Unexpected input'),\n                pos\n            );\n        }\n\n        if (++len > 6) {\n            this.error('Too many hex digits', pos);\n        };\n    }\n\n    this.next();\n    return len;\n}\n\nfunction eatQuestionMarkSequence(max) {\n    let count = 0;\n\n    while (this.isDelim(QUESTIONMARK)) {\n        if (++count > max) {\n            this.error('Too many question marks');\n        }\n\n        this.next();\n    }\n}\n\nfunction startsWith(code) {\n    if (this.charCodeAt(this.tokenStart) !== code) {\n        this.error((code === PLUSSIGN ? 'Plus sign' : 'Hyphen minus') + ' is expected');\n    }\n}\n\n// https://drafts.csswg.org/css-syntax/#urange\n// Informally, the <urange> production has three forms:\n// U+0001\n//      Defines a range consisting of a single code point, in this case the code point \"1\".\n// U+0001-00ff\n//      Defines a range of codepoints between the first and the second value, in this case\n//      the range between \"1\" and \"ff\" (255 in decimal) inclusive.\n// U+00??\n//      Defines a range of codepoints where the \"?\" characters range over all hex digits,\n//      in this case defining the same as the value U+0000-00ff.\n// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat \"?\" as a hexadecimal digit).\n//\n// <urange> =\n//   u '+' <ident-token> '?'* |\n//   u <dimension-token> '?'* |\n//   u <number-token> '?'* |\n//   u <number-token> <dimension-token> |\n//   u <number-token> <number-token> |\n//   u '+' '?'+\nfunction scanUnicodeRange() {\n    let hexLength = 0;\n\n    switch (this.tokenType) {\n        case Number:\n            // u <number-token> '?'*\n            // u <number-token> <dimension-token>\n            // u <number-token> <number-token>\n            hexLength = eatHexSequence.call(this, 1, true);\n\n            if (this.isDelim(QUESTIONMARK)) {\n                eatQuestionMarkSequence.call(this, 6 - hexLength);\n                break;\n            }\n\n            if (this.tokenType === Dimension ||\n                this.tokenType === Number) {\n                startsWith.call(this, HYPHENMINUS);\n                eatHexSequence.call(this, 1, false);\n                break;\n            }\n\n            break;\n\n        case Dimension:\n            // u <dimension-token> '?'*\n            hexLength = eatHexSequence.call(this, 1, true);\n\n            if (hexLength > 0) {\n                eatQuestionMarkSequence.call(this, 6 - hexLength);\n            }\n\n            break;\n\n        default:\n            // u '+' <ident-token> '?'*\n            // u '+' '?'+\n            this.eatDelim(PLUSSIGN);\n\n            if (this.tokenType === Ident) {\n                hexLength = eatHexSequence.call(this, 0, true);\n                if (hexLength > 0) {\n                    eatQuestionMarkSequence.call(this, 6 - hexLength);\n                }\n                break;\n            }\n\n            if (this.isDelim(QUESTIONMARK)) {\n                this.next();\n                eatQuestionMarkSequence.call(this, 5);\n                break;\n            }\n\n            this.error('Hex digit or question mark is expected');\n    }\n}\n\nexport const name = 'UnicodeRange';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    // U or u\n    this.eatIdent('u');\n    scanUnicodeRange.call(this);\n\n    return {\n        type: 'UnicodeRange',\n        loc: this.getLocation(start, this.tokenStart),\n        value: this.substrToCursor(start)\n    };\n}\n\nexport function generate(node) {\n    this.tokenize(node.value);\n}\n", "import {\n    isHexDigit,\n    isWhiteSpace,\n    isValidEscape,\n    consumeEscaped,\n    decodeEscaped\n} from '../tokenizer/index.js';\n\nconst SPACE = 0x0020;            // U+0020 SPACE\nconst REVERSE_SOLIDUS = 0x005c;  // U+005C REVERSE SOLIDUS (\\)\nconst QUOTATION_MARK = 0x0022;   // \"\nconst APOSTROPHE = 0x0027;       // '\nconst LEFTPARENTHESIS = 0x0028;  // U+0028 LEFT PARENTHESIS (()\nconst RIGHTPARENTHESIS = 0x0029; // U+0029 RIGHT PARENTHESIS ())\n\nexport function decode(str) {\n    const len = str.length;\n    let start = 4; // length of \"url(\"\n    let end = str.charCodeAt(len - 1) === RIGHTPARENTHESIS ? len - 2 : len - 1;\n    let decoded = '';\n\n    while (start < end && isWhiteSpace(str.charCodeAt(start))) {\n        start++;\n    }\n\n    while (start < end && isWhiteSpace(str.charCodeAt(end))) {\n        end--;\n    }\n\n    for (let i = start; i <= end; i++) {\n        let code = str.charCodeAt(i);\n\n        if (code === REVERSE_SOLIDUS) {\n            // special case at the ending\n            if (i === end) {\n                // if the next input code point is EOF, do nothing\n                // otherwise include last left parenthesis as escaped\n                if (i !== len - 1) {\n                    decoded = str.substr(i + 1);\n                }\n                break;\n            }\n\n            code = str.charCodeAt(++i);\n\n            // consume escaped\n            if (isValidEscape(REVERSE_SOLIDUS, code)) {\n                const escapeStart = i - 1;\n                const escapeEnd = consumeEscaped(str, escapeStart);\n\n                i = escapeEnd - 1;\n                decoded += decodeEscaped(str.substring(escapeStart + 1, escapeEnd));\n            } else {\n                // \\r\\n\n                if (code === 0x000d && str.charCodeAt(i + 1) === 0x000a) {\n                    i++;\n                }\n            }\n        } else {\n            decoded += str[i];\n        }\n    }\n\n    return decoded;\n}\n\nexport function encode(str) {\n    let encoded = '';\n    let wsBeforeHexIsNeeded = false;\n\n    for (let i = 0; i < str.length; i++) {\n        const code = str.charCodeAt(i);\n\n        // If the character is NULL (U+0000), then the REPLACEMENT CHARACTER (U+FFFD).\n        if (code === 0x0000) {\n            encoded += '\\uFFFD';\n            continue;\n        }\n\n        // If the character is in the range [\\1-\\1f] (U+0001 to U+001F) or is U+007F,\n        // the character escaped as code point.\n        // Note: Do not compare with 0x0001 since 0x0000 is precessed before\n        if (code <= 0x001f || code === 0x007F) {\n            encoded += '\\\\' + code.toString(16);\n            wsBeforeHexIsNeeded = true;\n            continue;\n        }\n\n        if (code === SPACE ||\n            code === REVERSE_SOLIDUS ||\n            code === QUOTATION_MARK ||\n            code === APOSTROPHE ||\n            code === LEFTPARENTHESIS ||\n            code === RIGHTPARENTHESIS) {\n            encoded += '\\\\' + str.charAt(i);\n            wsBeforeHexIsNeeded = false;\n        } else {\n            if (wsBeforeHexIsNeeded && isHexDigit(code)) {\n                encoded += ' ';\n            }\n\n            encoded += str.charAt(i);\n            wsBeforeHexIsNeeded = false;\n        }\n    }\n\n    return 'url(' + encoded + ')';\n}\n", "import * as url from '../../utils/url.js';\nimport * as string from '../../utils/string.js';\nimport {\n    Function as FunctionToken,\n    String as StringToken,\n    Url,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nexport const name = 'Url';\nexport const structure = {\n    value: String\n};\n\n// <url-token> | <function-token> <string> )\nexport function parse() {\n    const start = this.tokenStart;\n    let value;\n\n    switch (this.tokenType) {\n        case Url:\n            value = url.decode(this.consume(Url));\n            break;\n\n        case FunctionToken:\n            if (!this.cmpStr(this.tokenStart, this.tokenEnd, 'url(')) {\n                this.error('Function name must be `url`');\n            }\n\n            this.eat(FunctionToken);\n            this.skipSC();\n            value = string.decode(this.consume(StringToken));\n            this.skipSC();\n            if (!this.eof) {\n                this.eat(RightParenthesis);\n            }\n            break;\n\n        default:\n            this.error('Url or Function is expected');\n    }\n\n    return {\n        type: 'Url',\n        loc: this.getLocation(start, this.tokenStart),\n        value\n    };\n}\n\nexport function generate(node) {\n    this.token(Url, url.encode(node.value));\n}\n", "export const name = 'Value';\nexport const structure = {\n    children: [[]]\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    const children = this.readSequence(this.scope.Value);\n\n    return {\n        type: 'Value',\n        loc: this.getLocation(start, this.tokenStart),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node);\n}\n", "import { WhiteSpace } from '../../tokenizer/index.js';\n\nconst SPACE = Object.freeze({\n    type: 'WhiteSpace',\n    loc: null,\n    value: ' '\n});\n\nexport const name = 'WhiteSpace';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    this.eat(WhiteSpace);\n    return SPACE;\n\n    // return {\n    //     type: 'WhiteSpace',\n    //     loc: this.getLocation(this.tokenStart, this.tokenEnd),\n    //     value: this.consume(WHITESPACE)\n    // };\n}\n\nexport function generate(node) {\n    this.token(WhiteSpace, node.value);\n}\n", "import { cssWideKeywords } from '../../lexer/generic-const.js';\nimport definitions from '../../data.js';\nimport * as node from '../node/index.js';\n\nexport default {\n    generic: true,\n    cssWideKeywords,\n    ...definitions,\n    node\n};\n", "import {\n    Ident,\n    String as StringToken,\n    Number as NumberToken,\n    Function as FunctionToken,\n    Url,\n    Hash,\n    Dimension,\n    Percentage,\n    LeftParenthesis,\n    LeftSquareBracket,\n    Comma,\n    Delim\n} from '../../tokenizer/index.js';\n\nconst NUMBERSIGN = 0x0023;  // U+0023 NUMBER SIGN (#)\nconst ASTERISK = 0x002A;    // U+002A ASTERISK (*)\nconst PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nconst HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nconst SOLIDUS = 0x002F;     // U+002F SOLIDUS (/)\nconst U = 0x0075;           // U+0075 LATIN SMALL LETTER U (u)\n\nexport default function defaultRecognizer(context) {\n    switch (this.tokenType) {\n        case Hash:\n            return this.Hash();\n\n        case Comma:\n            return this.Operator();\n\n        case LeftParenthesis:\n            return this.Parentheses(this.readSequence, context.recognizer);\n\n        case LeftSquareBracket:\n            return this.Brackets(this.readSequence, context.recognizer);\n\n        case StringToken:\n            return this.String();\n\n        case Dimension:\n            return this.Dimension();\n\n        case Percentage:\n            return this.Percentage();\n\n        case NumberToken:\n            return this.Number();\n\n        case FunctionToken:\n            return this.cmpStr(this.tokenStart, this.tokenEnd, 'url(')\n                ? this.Url()\n                : this.Function(this.readSequence, context.recognizer);\n\n        case Url:\n            return this.Url();\n\n        case Ident:\n            // check for unicode range, it should start with u+ or U+\n            if (this.cmpChar(this.tokenStart, U) &&\n                this.cmpChar(this.tokenStart + 1, PLUSSIGN)) {\n                return this.UnicodeRange();\n            } else {\n                return this.Identifier();\n            }\n\n        case Delim: {\n            const code = this.charCodeAt(this.tokenStart);\n\n            if (code === SOLIDUS ||\n                code === ASTERISK ||\n                code === PLUSSIGN ||\n                code === HYPHENMINUS) {\n                return this.Operator(); // TODO: replace with Delim\n            }\n\n            // TODO: produce a node with Delim node type\n\n            if (code === NUMBERSIGN) {\n                this.error('Hex or identifier is expected', this.tokenStart + 1);\n            }\n\n            break;\n        }\n    }\n};\n", "import getNode from './default.js';\n\nexport default {\n    getNode\n};\n", "import {\n    Delim,\n    Ident,\n    Dimension,\n    Percentage,\n    Number as NumberToken,\n    Hash,\n    Colon,\n    LeftSquareBracket\n} from '../../tokenizer/index.js';\n\nconst NUMBERSIGN = 0x0023;      // U+0023 NUMBER SIGN (#)\nconst AMPERSAND = 0x0026;       // U+0026 AMPERSAND (&)\nconst ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nconst PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nconst SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nconst FULLSTOP = 0x002E;        // U+002E FULL STOP (.)\nconst GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\nconst VERTICALLINE = 0x007C;    // U+007C VERTICAL LINE (|)\nconst TILDE = 0x007E;           // U+007E TILDE (~)\n\nfunction onWhiteSpace(next, children) {\n    if (children.last !== null && children.last.type !== 'Combinator' &&\n        next !== null && next.type !== 'Combinator') {\n        children.push({  // FIXME: this.Combinator() should be used instead\n            type: 'Combinator',\n            loc: null,\n            name: ' '\n        });\n    }\n}\n\nfunction getNode() {\n    switch (this.tokenType) {\n        case LeftSquareBracket:\n            return this.AttributeSelector();\n\n        case Hash:\n            return this.IdSelector();\n\n        case Colon:\n            if (this.lookupType(1) === Colon) {\n                return this.PseudoElementSelector();\n            } else {\n                return this.PseudoClassSelector();\n            }\n\n        case Ident:\n            return this.TypeSelector();\n\n        case NumberToken:\n        case Percentage:\n            return this.Percentage();\n\n        case Dimension:\n            // throws when .123ident\n            if (this.charCodeAt(this.tokenStart) === FULLSTOP) {\n                this.error('Identifier is expected', this.tokenStart + 1);\n            }\n            break;\n\n        case Delim: {\n            const code = this.charCodeAt(this.tokenStart);\n\n            switch (code) {\n                case PLUSSIGN:\n                case GREATERTHANSIGN:\n                case TILDE:\n                case SOLIDUS:  // /deep/\n                    return this.Combinator();\n\n                case FULLSTOP:\n                    return this.ClassSelector();\n\n                case ASTERISK:\n                case VERTICALLINE:\n                    return this.TypeSelector();\n\n                case NUMBERSIGN:\n                    return this.IdSelector();\n\n                case AMPERSAND:\n                    return this.NestingSelector();\n            }\n\n            break;\n        }\n    }\n};\n\nexport default {\n    onWhiteSpace,\n    getNode\n};\n", "// legacy IE function\n// expression( <any-value> )\nexport default function() {\n    return this.createSingleNodeList(\n        this.Raw(null, false)\n    );\n}\n", "import { Comma, WhiteSpace } from '../../tokenizer/index.js';\n\n// var( <ident> , <value>? )\nexport default function() {\n    const children = this.createList();\n\n    this.skipSC();\n\n    // NOTE: Don't check more than a first argument is an ident, rest checks are for lexer\n    children.push(this.Identifier());\n\n    this.skipSC();\n\n    if (this.tokenType === Comma) {\n        children.push(this.Operator());\n\n        const startIndex = this.tokenIndex;\n        const value = this.parseCustomProperty\n            ? this.Value(null)\n            : this.Raw(this.consumeUntilExclamationMarkOrSemicolon, false);\n\n        if (value.type === 'Value' && value.children.isEmpty) {\n            for (let offset = startIndex - this.tokenIndex; offset <= 0; offset++) {\n                if (this.lookupType(offset) === WhiteSpace) {\n                    value.children.appendData({\n                        type: 'WhiteSpace',\n                        loc: null,\n                        value: ' '\n                    });\n                    break;\n                }\n            }\n        }\n\n        children.push(value);\n    }\n\n    return children;\n};\n", "import getNode from './default.js';\nimport expressionFn from '../function/expression.js';\nimport varFn from '../function/var.js';\n\nfunction isPlusMinusOperator(node) {\n    return (\n        node !== null &&\n        node.type === 'Operator' &&\n        (node.value[node.value.length - 1] === '-' || node.value[node.value.length - 1] === '+')\n    );\n}\n\nexport default {\n    getNode,\n    onWhiteSpace(next, children) {\n        if (isPlusMinusOperator(next)) {\n            next.value = ' ' + next.value;\n        }\n        if (isPlusMinusOperator(children.last)) {\n            children.last.value += ' ';\n        }\n    },\n    'expression': expressionFn,\n    'var': varFn\n};\n", "import { Ident } from '../../tokenizer/index.js';\n\n// https://drafts.csswg.org/css-contain-3/#container-rule\n// The keywords `none`, `and`, `not`, and `or` are excluded from the <custom-ident> above.\nconst nonContainerNameKeywords = new Set(['none', 'and', 'not', 'or']);\n\nexport default {\n    parse: {\n        prelude() {\n            const children = this.createList();\n\n            if (this.tokenType === Ident) {\n                const name = this.substring(this.tokenStart, this.tokenEnd);\n\n                if (!nonContainerNameKeywords.has(name.toLowerCase())) {\n                    children.push(this.Identifier());\n                }\n            }\n\n            children.push(this.Condition('container'));\n\n            return children;\n        },\n        block(nested = false) {\n            return this.Block(nested);\n        }\n    }\n};\n", "export default {\n    parse: {\n        prelude: null,\n        block() {\n            return this.Block(true);\n        }\n    }\n};\n", "import {\n    String as StringToken,\n    Ident,\n    Url,\n    Function as FunctionToken,\n    LeftParenthesis,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nfunction parseWithFallback(parse, fallback) {\n    return this.parseWithFallback(\n        () => {\n            try {\n                return parse.call(this);\n            } finally {\n                this.skipSC();\n                if (this.lookupNonWSType(0) !== RightParenthesis) {\n                    this.error();\n                }\n            }\n        },\n        fallback || (() => this.Raw(null, true))\n    );\n}\n\nconst parseFunctions = {\n    layer() {\n        this.skipSC();\n\n        const children = this.createList();\n        const node = parseWithFallback.call(this, this.Layer);\n\n        if (node.type !== 'Raw' || node.value !== '') {\n            children.push(node);\n        }\n\n        return children;\n    },\n    supports() {\n        this.skipSC();\n\n        const children = this.createList();\n        const node = parseWithFallback.call(\n            this,\n            this.Declaration,\n            () => parseWithFallback.call(this, () => this.Condition('supports'))\n        );\n\n        if (node.type !== 'Raw' || node.value !== '') {\n            children.push(node);\n        }\n\n        return children;\n    }\n};\n\nexport default {\n    parse: {\n        prelude() {\n            const children = this.createList();\n\n            switch (this.tokenType) {\n                case StringToken:\n                    children.push(this.String());\n                    break;\n\n                case Url:\n                case FunctionToken:\n                    children.push(this.Url());\n                    break;\n\n                default:\n                    this.error('String or url() is expected');\n            }\n\n            this.skipSC();\n\n            if (this.tokenType === Ident &&\n                this.cmpStr(this.tokenStart, this.tokenEnd, 'layer')) {\n                children.push(this.Identifier());\n            } else if (\n                this.tokenType === FunctionToken &&\n                this.cmpStr(this.tokenStart, this.tokenEnd, 'layer(')\n            ) {\n                children.push(this.Function(null, parseFunctions));\n            }\n\n            this.skipSC();\n\n            if (this.tokenType === FunctionToken &&\n                this.cmpStr(this.tokenStart, this.tokenEnd, 'supports(')) {\n                children.push(this.Function(null, parseFunctions));\n            }\n\n            if (this.lookupNonWSType(0) === Ident ||\n                this.lookupNonWSType(0) === LeftParenthesis) {\n                children.push(this.MediaQueryList());\n            }\n\n            return children;\n        },\n        block: null\n    }\n};\n", "export default {\n    parse: {\n        prelude() {\n            return this.createSingleNodeList(\n                this.LayerList()\n            );\n        },\n        block() {\n            return this.Block(false);\n        }\n    }\n};\n", "export default {\n    parse: {\n        prelude() {\n            return this.createSingleNodeList(\n                this.MediaQueryList()\n            );\n        },\n        block(nested = false) {\n            return this.Block(nested);\n        }\n    }\n};\n", "export default {\n    parse: {\n        prelude() {\n            return this.createSingleNodeList(\n                this.SelectorList()\n            );\n        },\n        block() {\n            return this.Block(true);\n        }\n    }\n};\n", "export default {\n    parse: {\n        prelude() {\n            return this.createSingleNodeList(\n                this.SelectorList()\n            );\n        },\n        block() {\n            return this.Block(true);\n        }\n    }\n};\n", "export default {\n    parse: {\n        prelude() {\n            return this.createSingleNodeList(\n                this.Scope()\n            );\n        },\n        block(nested = false) {\n            return this.Block(nested);\n        }\n    }\n};\n", "export default {\n    parse: {\n        prelude: null,\n        block(nested = false) {\n            return this.Block(nested);\n        }\n    }\n};\n", "export default {\n    parse: {\n        prelude() {\n            return this.createSingleNodeList(\n                this.Condition('supports')\n            );\n        },\n        block(nested = false) {\n            return this.Block(nested);\n        }\n    }\n};\n", "import container from './container.js';\nimport fontFace from './font-face.js';\nimport importAtrule from './import.js';\nimport layer from './layer.js';\nimport media from './media.js';\nimport nest from './nest.js';\nimport page from './page.js';\nimport scope from './scope.js';\nimport startingStyle from './starting-style.js';\nimport supports from './supports.js';\n\nexport default {\n    container,\n    'font-face': fontFace,\n    import: importAtrule,\n    layer,\n    media,\n    nest,\n    page,\n    scope,\n    'starting-style': startingStyle,\n    supports\n};\n", "import { Comma, String as StringToken, Ident, RightParenthesis } from '../../tokenizer/index.js';\n\nexport function parseLanguageRangeList() {\n    const children = this.createList();\n\n    this.skipSC();\n\n    loop: while (!this.eof) {\n        switch (this.tokenType) {\n            case Ident:\n                children.push(this.Identifier());\n                break;\n\n            case StringToken:\n                children.push(this.String());\n                break;\n\n            case Comma:\n                children.push(this.Operator());\n                break;\n\n            case RightParenthesis:\n                break loop;\n\n            default:\n                this.error('Identifier, string or comma is expected');\n        }\n\n        this.skipSC();\n    }\n\n    return children;\n}\n", "import { parseLanguageRangeList } from './lang.js';\n\nconst selectorList = {\n    parse() {\n        return this.createSingleNodeList(\n            this.SelectorList()\n        );\n    }\n};\n\nconst selector = {\n    parse() {\n        return this.createSingleNodeList(\n            this.Selector()\n        );\n    }\n};\n\nconst identList = {\n    parse() {\n        return this.createSingleNodeList(\n            this.Identifier()\n        );\n    }\n};\n\nconst langList = {\n    parse: parseLanguageRangeList\n};\n\nconst nth = {\n    parse() {\n        return this.createSingleNodeList(\n            this.Nth()\n        );\n    }\n};\n\nexport default {\n    'dir': identList,\n    'has': selectorList,\n    'lang': langList,\n    'matches': selectorList,\n    'is': selectorList,\n    '-moz-any': selectorList,\n    '-webkit-any': selectorList,\n    'where': selectorList,\n    'not': selectorList,\n    'nth-child': nth,\n    'nth-last-child': nth,\n    'nth-last-of-type': nth,\n    'nth-of-type': nth,\n    'slotted': selector,\n    'host': selector,\n    'host-context': selector\n};\n", "import * as scope from '../scope/index.js';\nimport atrule from '../atrule/index.js';\nimport pseudo from '../pseudo/index.js';\nimport * as node from '../node/index-parse.js';\n\nexport default {\n    parseContext: {\n        default: 'StyleSheet',\n        stylesheet: 'StyleSheet',\n        atrule: 'Atrule',\n        atrulePrelude(options) {\n            return this.AtrulePrelude(options.atrule ? String(options.atrule) : null);\n        },\n        mediaQueryList: 'MediaQueryList',\n        mediaQuery: 'MediaQuery',\n        condition(options) {\n            return this.Condition(options.kind);\n        },\n        rule: 'Rule',\n        selectorList: 'SelectorList',\n        selector: 'Selector',\n        block() {\n            return this.Block(true);\n        },\n        declarationList: 'DeclarationList',\n        declaration: 'Declaration',\n        value: 'Value'\n    },\n    features: {\n        supports: {\n            selector() {\n                return this.Selector();\n            }\n        },\n        container: {\n            style() {\n                return this.Declaration();\n            }\n        }\n    },\n    scope,\n    atrule,\n    pseudo,\n    node\n};\n", "import * as node from '../node/index.js';\n\nexport default {\n    node\n};\n", "import createSyntax from './create.js';\nimport lexerConfig from './config/lexer.js';\nimport parserConfig from './config/parser.js';\nimport walkerConfig from './config/walker.js';\n\nexport default createSyntax({\n    ...lexerConfig,\n    ...parserConfig,\n    ...walkerConfig\n});\n", "import syntax from './syntax/index.js';\n\nexport * from './version.js';\nexport { default as createSyntax } from './syntax/create.js';\nexport { List } from './utils/List.js';\nexport { Lexer } from './lexer/Lexer.js';\nexport { tokenTypes, tokenNames, TokenStream } from './tokenizer/index.js';\nexport * as definitionSyntax from './definition-syntax/index.js';\nexport { clone } from './utils/clone.js';\nexport * from './utils/names.js';\nexport * as ident from './utils/ident.js';\nexport * as string from './utils/string.js';\nexport * as url from './utils/url.js';\nexport const {\n    tokenize,\n    parse,\n    generate,\n    lexer,\n    createLexer,\n\n    walk,\n    find,\n    findLast,\n    findAll,\n\n    toPlainObject,\n    fromPlainObject,\n\n    fork\n} = syntax;\n", "import * as csstree from 'css-tree';\n\nexport function isPseudoElementSelector(\n  selector: csstree.CssNodeCommon\n): selector is csstree.PseudoElementSelector {\n  return selector.type === 'PseudoElementSelector';\n}\nexport function isRawNode(node: csstree.CssNodeCommon): node is csstree.Raw {\n  return node.type === 'Raw';\n}\nexport function isDeclaration(\n  node: csstree.CssNodeCommon\n): node is csstree.Declaration {\n  return node.type === 'Declaration';\n}\nexport function isIdentifier(\n  node: csstree.CssNodeCommon\n): node is csstree.Identifier {\n  return node.type === 'Identifier';\n}\nexport function isValue(node: csstree.CssNodeCommon): node is csstree.Value {\n  return node.type === 'Value';\n}\nexport function isSelector(\n  node: csstree.CssNodeCommon\n): node is csstree.Selector {\n  return node.type === 'Selector';\n}\nexport function isRule(node: csstree.CssNodeCommon): node is csstree.Rule {\n  return node.type === 'Rule';\n}\n", "import * as csstree from 'css-tree';\nimport { isPseudoElementSelector, isRawNode } from './style-types';\n\nexport const VIEW_TRANSITION_ELEMENTS = [\n  'view-transition',\n  'view-transition-group',\n  'view-transition-image-pair',\n  'view-transition-old',\n  'view-transition-new',\n];\n\n// CSS at-rules with blocks that could be relevant for view transitions\nexport const ATRULES = ['media', 'layer', 'container', 'scope', 'supports'];\n\nexport function getElementSelector(\n  pseudoElementSelector: csstree.PseudoElementSelector\n): csstree.Selector {\n  // Transform a custom element selector string into an item to use in csstree\n  //  to replace the corresponding pseudo-element\n\n  // Separate (for example with group) the ::view-transition-group from the (view-transition-name)\n  let pseudoElement = '';\n  let parentheses = '';\n  csstree.walk(pseudoElementSelector, {\n    enter(node: csstree.CssNodeCommon) {\n      if (isPseudoElementSelector(node)) {\n        pseudoElement = node.name;\n      } else if (\n        isRawNode(node) &&\n        (<csstree.WalkContext>this).root === pseudoElementSelector\n      ) {\n        parentheses = node.value;\n      }\n    },\n  });\n\n  const selectorString =\n    parentheses !== '' && parentheses !== '*'\n      ? `${pseudoElement}[name=\"${parentheses}\"]`\n      : pseudoElement;\n  const selectorAST = csstree.parse(selectorString, {\n    context: 'selector',\n  }) as csstree.Selector;\n\n  return selectorAST;\n}\n\nexport function getNameDeclaration(\n  declaration: csstree.Declaration\n): csstree.ListItem<csstree.Declaration> {\n  // Transform a view-transition-name declaration into --vt-polyfill-name.\n  // This will be a ListItem such that it can be used for replacement in an AST.\n  declaration.property = '--vt-polyfill-name';\n\n  const declarationItem = generateListItem(declaration);\n  return declarationItem;\n}\n\nexport function generateListItem<T>(node: T): csstree.ListItem<T> {\n  const list = new csstree.List();\n  const nodeItem = list.createItem(node) as csstree.ListItem<T>;\n  return nodeItem;\n}\n\nexport function replaceDeclarations(ast: csstree.CssNode) {\n  // Find view-transition-name declarations\n  //  to replace them with --vt-polyfill-name,\n  //  as that will be parsed by the polyfill is getComputedStyle()\n  csstree.walk(ast, {\n    visit: 'Declaration',\n    enter(node, item, list) {\n      if (node.property === 'view-transition-name') {\n        const newDeclaration = getNameDeclaration(node);\n        list.replace(item, newDeclaration);\n      }\n    },\n  });\n}\n", "import * as csstree from 'css-tree';\nimport {\n  isDeclaration,\n  isPseudoElementSelector,\n  isRule,\n  isSelector,\n} from './style-types';\nimport {\n  VIEW_TRANSITION_ELEMENTS,\n  ATRULES,\n  getElementSelector,\n  replaceDeclarations,\n  generateListItem,\n} from './parsing-utils';\n\nfunction removeNonPolyfillCSS(ast: csstree.CssNode) {\n  // Remove most CSS from a stylesheet that is not relevant for view transitions.\n  // This means we only care about:\n  //  - any rule with a view transition pseudo element selector, like ::view-transition ()\n  //  - any rule whose block contains the view-transition-name property\n\n  // Recursive functions used to clear irrelevant CSS\n  const nestedRulesHaveName = (node: csstree.Rule): boolean => {\n    return node.block.children.some((node) => {\n      if (isRule(node)) return nestedRulesHaveName(node);\n      return isDeclaration(node) && node.property === 'view-transition-name';\n    });\n  };\n  const clearIrrelevantProperties = (node: csstree.Rule) => {\n    node.block.children.forEach((node, item, list) => {\n      if (isDeclaration(node) && node.property === 'view-transition-name')\n        return;\n      if (isRule(node)) {\n        clearIrrelevantProperties(node);\n        return;\n      }\n      list.remove(item);\n    });\n  };\n\n  csstree.walk(ast, {\n    visit: 'Rule',\n    enter(node, item, list) {\n      if (this.atrule && !ATRULES.includes(this.atrule.name)) {\n        // Skip at-rules that contain blocks we don't want to touch, like @keyframes.\n        return;\n      }\n      const hasTransitionName = node.block.children.some((node) => {\n        return isDeclaration(node) && node.property === 'view-transition-name';\n      });\n      const isPseudoElRule = (\n        node.prelude as csstree.SelectorList\n      ).children.some((selector) => {\n        if (!isSelector(selector)) return false;\n        return selector.children.some((selectorPart) => {\n          return (\n            isPseudoElementSelector(selectorPart) &&\n            VIEW_TRANSITION_ELEMENTS.includes(selectorPart.name)\n          );\n        });\n      });\n      if (!hasTransitionName && !isPseudoElRule) {\n        // Check that there aren't any nested rules with view-transition-name\n        const hasNestedName = nestedRulesHaveName(node);\n        if (hasNestedName) {\n          // Only delete declarations, not nested rules\n          node.block.children.forEach((node, item, list) => {\n            if (isDeclaration(node)) list.remove(item);\n          });\n          return;\n        }\n        list.remove(item);\n        return;\n      }\n      if (hasTransitionName) {\n        clearIrrelevantProperties(node);\n      }\n    },\n  });\n}\n\nfunction replaceSelectors(ast: csstree.CssNode) {\n  // Find view transition pseudo element selectors\n  // ::view-transition, ::view-transition-group(),\n  // ::view-transition-image-pair(), ::view-transition-old(),\n  // ::view-transition-new()\n\n  // Two conditions, one in visit option for possible performance gains\n  csstree.walk(ast, {\n    visit: 'PseudoElementSelector',\n    enter(node, item, list) {\n      if (VIEW_TRANSITION_ELEMENTS.includes(node.name)) {\n        const selector = node;\n\n        if (selector.name === 'view-transition') {\n          if (selector.children) {\n            // Parse error: ::view-transition should not have parentheses\n            console.warn(\n              `View Transition API polyfill, CSS parse error: ::view-transition should not have parentheses. ${node.loc ? `Source: ${node.loc.source}; Line: ${node.loc.start.line}; Column: ${node.loc.start.column}` : ''}`\n            );\n          }\n        }\n        // Replace pseudo-element selector in AST with custom element selector\n        const newSelector = getElementSelector(node);\n        list.replace(item, generateListItem(newSelector));\n      }\n    },\n  });\n  return ast;\n}\n\nexport default function parseStyleString(styleString: string): string {\n  // Given a CSS stylesheet, output a new stylesheet\n  //  (as a string, to be put inside a <style> element)\n  //  which has had its pseudo elements and transition properties\n  //  replaced with ones understood by the polyfill.\n\n  const parserOptions: csstree.ParseOptions = {\n    // The only detailed things needed are rule preludes (may contain ::view-transition pseudo elements)\n    // The values for view-transition-name can just be raw, they do not need to be dissected.\n    parseAtrulePrelude: false,\n    parseValue: false,\n    parseCustomProperty: false,\n    positions: true,\n  };\n  const parsed = csstree.parse(styleString, parserOptions);\n  removeNonPolyfillCSS(parsed);\n  replaceSelectors(parsed);\n  replaceDeclarations(parsed);\n  const newStyleString = csstree.generate(parsed);\n  return newStyleString;\n}\n", "import parseStyleString from './style-parser';\n\nexport async function parseStyles() {\n  // Get all stylesheets and build an array (stylesheetContents) of their unparsed contents\n  // We cannot rely on the built-in cssText property, as it won't return unsupported properties\n  const stylesheets = [...document.styleSheets];\n\n  const styleElementsContents: Map<CSSStyleSheet, string> = new Map();\n  for (const stylesheet of stylesheets) {\n    if (stylesheet.ownerNode instanceof HTMLStyleElement) {\n      if (stylesheet.ownerNode.hasAttribute('data-vt-polyfill-style')) continue;\n      const styleString = stylesheet.ownerNode.textContent;\n      if (!styleString) continue;\n      styleElementsContents.set(stylesheet, styleString);\n    }\n  }\n\n  // Get <link rel=\"stylesheet\"> contents\n  const linkedStylesheets = stylesheets.filter(\n    (stylesheet) => stylesheet.ownerNode instanceof HTMLLinkElement\n  );\n  const linkedStylesheetsContents: Map<CSSStyleSheet, string> = new Map();\n  await Promise.all(\n    linkedStylesheets.map(async (stylesheet) => {\n      const href = stylesheet.href;\n      if (!href) return;\n      const fetchResponse = await fetch(href, {\n        headers: { Accept: 'text/css' },\n      });\n      const responseText = await fetchResponse.text();\n      linkedStylesheetsContents.set(stylesheet, responseText);\n    })\n  );\n\n  // Merge arrays following the order of document.styleSheets\n  const stylesheetContents = stylesheets.map((stylesheet) => {\n    return (\n      styleElementsContents.get(stylesheet) ||\n      linkedStylesheetsContents.get(stylesheet)\n    );\n  });\n\n  // Parse each stylesheet\n  const parsedStyleStrings: string[] = [];\n  await Promise.all(\n    stylesheetContents.map((stylesheetString) => {\n      if (!stylesheetString) return;\n      const parsedString = parseStyleString(stylesheetString);\n      parsedStyleStrings.push(parsedString);\n    })\n  );\n  return parsedStyleStrings.join('\\n');\n}\n", "import CaptureElement from '../capture-element';\nexport class ViewTransitionImagePair extends HTMLElement {\n  constructor() {\n    super();\n  }\n  name = '';\n  captureElement = new CaptureElement();\n  oldImage: ViewTransitionOld | undefined;\n  newImage: ViewTransitionNew | undefined;\n  setupForOldImage(name: string, captureElement: CaptureElement) {\n    this.name = name;\n    this.setAttribute('name', name);\n    this.captureElement = captureElement;\n\n    if (this.captureElement.oldElement) {\n      this.oldImage = new ViewTransitionOld();\n      this.oldImage.setup(this.name, this.captureElement);\n      this.appendChild(this.oldImage);\n    }\n\n    return this.oldImage;\n  }\n  setupForNewImage(name: string, captureElement: CaptureElement) {\n    this.name = name;\n    this.setAttribute('name', name);\n    this.captureElement = captureElement;\n\n    if (this.captureElement.newElement) {\n      this.newImage = new ViewTransitionNew();\n      this.newImage.setup(this.name, this.captureElement);\n      this.appendChild(this.newImage);\n    }\n\n    return this.newImage;\n  }\n  addNewImage() {\n    if (this.captureElement.newElement) {\n      this.newImage = new ViewTransitionNew();\n      this.newImage.setup(this.name, this.captureElement);\n      this.appendChild(this.newImage);\n    }\n\n    return this.newImage;\n  }\n}\nclass PolyfillInnerElement {\n  static stylesheet = `\n      .polyfill-inner-element {\n        display: block;\n        position: relative;\n        inline-size: fit-content;\n      }\n      `;\n  styleEl: HTMLStyleElement;\n  element: HTMLDivElement;\n  constructor() {\n    this.element = document.createElement('div');\n    this.element.classList.add('polyfill-inner-element');\n    this.styleEl = document.createElement('style');\n    this.styleEl.textContent = PolyfillInnerElement.stylesheet;\n    this.element.appendChild(this.styleEl);\n  }\n}\ntype CSSTranslateFunction = string;\ntype CSSScaleFunction = string;\nclass ViewTransitionImage extends HTMLElement {\n  constructor() {\n    super();\n    const polyfillInnerElement = new PolyfillInnerElement();\n    this.innerElement = polyfillInnerElement.element;\n  }\n  protected innerElement: HTMLDivElement;\n  name = '';\n  captureElement = new CaptureElement();\n  protected image: Element | undefined;\n  protected element: Element | undefined;\n  setup(name: string, captureElement: CaptureElement) {\n    this.name = name;\n    if (!this.image)\n      throw new Error(\n        `View Transitions API polyfill: could not find old captured clone for name ${name}`\n      );\n    if (!this.element)\n      throw new Error(\n        `View Transitions API polyfill: could not find old captured element for name ${name}`\n      );\n    this.setAttribute('name', name);\n    this.captureElement = captureElement;\n\n    const shadow = this.attachShadow({ mode: 'closed' });\n\n    // To simulate the sizing of the replaced content that should be put inside ::view-transition-old and ::view-transition-new\n    // An extra element to put inside the old and new images is required, because the polyfill uses actual elements instead of images\n    // The size of this element will be animated as a transform: scale() to fit the requirements of the applied object-fit CSS properties\n    // We can be sure that oldImage is not undefined as ViewTransitionImagePair checks for it\n    this.innerElement.appendChild(this.image);\n    shadow.appendChild(this.innerElement);\n  }\n  connectedCallback() {\n    // Restore the scroll position of each cloned element\n    // We need to wait for connectedCallback, as the element needs to be in the document\n    this.innerElement\n      .querySelectorAll('[data-vt-scroll-top]')\n      .forEach((element) => {\n        // Make element scrollable by constraining its size\n        if (element instanceof HTMLElement) {\n          element.style.overflow = 'hidden';\n          element.style.maxHeight = '100vh';\n          element.style.maxWidth = '100vw';\n          const scrollTop =\n            parseInt(element.getAttribute('data-vt-scroll-top') || '0') ?? 0;\n          element.scrollTop = scrollTop;\n        }\n      });\n\n    this.innerElement\n      .querySelectorAll('[data-vt-scroll-left]')\n      .forEach((element) => {\n        if (element instanceof HTMLElement) {\n          element.style.overflow = 'hidden';\n          element.style.maxHeight = '100vh';\n          element.style.maxWidth = '100vw';\n          const scrollTop =\n            parseInt(element.getAttribute('data-vt-scroll-top') || '0') ?? 0;\n          element.scrollTop = scrollTop;\n        }\n      });\n\n    // Check for margin on root cloned element.\n    // If there was margin collapsing before but not anymore,\n    //  it should be removed becuase it won't be collapsed\n    //  with the position: fixed transition elements.\n    const childMarginCollapsingEl = this.innerElement.querySelector(\n      ':scope > :not(style) > :not(style)'\n    );\n    if (\n      this.offsetHeight !== this.innerElement.offsetHeight &&\n      childMarginCollapsingEl instanceof HTMLElement &&\n      !(this.element instanceof HTMLHtmlElement)\n    ) {\n      childMarginCollapsingEl.style.marginBlockStart = '0';\n    }\n  }\n  getScaleFactor(\n    objectFit: string,\n    fromWidth: number,\n    toWidth: number,\n    fromHeight: number,\n    toHeight: number\n  ): [number, number, string] {\n    let scaleFunction: CSSScaleFunction = '';\n    let scaleFactorX = 1;\n    let scaleFactorY = 1;\n\n    if (this.element instanceof HTMLHtmlElement) {\n      // Do not do any scale on the clone of <html>\n      // https://drafts.csswg.org/css-view-transitions/#capture-the-image\n      scaleFactorX = 1;\n      scaleFactorY = 1;\n      scaleFunction = '';\n\n      return [scaleFactorX, scaleFactorY, scaleFunction];\n    }\n\n    const fromAspectRatio = fromWidth / fromHeight;\n    const toAspectRatio = toWidth / toHeight;\n\n    switch (objectFit) {\n      case 'fill':\n        // The scale factors for X and Y are only different when stretching\n        scaleFactorX = toWidth / fromWidth;\n        scaleFactorY = toHeight / fromHeight;\n        break;\n      case 'contain':\n        if (fromAspectRatio > toAspectRatio) {\n          scaleFactorX = toWidth / fromWidth;\n        } else {\n          scaleFactorX = toHeight / fromHeight;\n        }\n        scaleFactorY = scaleFactorX;\n        break;\n      case 'cover':\n        if (fromAspectRatio > toAspectRatio) {\n          scaleFactorX = toHeight / fromHeight;\n        } else {\n          scaleFactorX = toWidth / fromWidth;\n        }\n        scaleFactorY = scaleFactorX;\n        break;\n      case 'scale-down':\n        scaleFactorX = 1;\n        scaleFactorY = scaleFactorX;\n        break;\n    }\n\n    // Fix possible divisions by zero\n    scaleFactorX = Number.isNaN(scaleFactorX) ? 1 : scaleFactorX;\n    scaleFactorY = Number.isNaN(scaleFactorY) ? 1 : scaleFactorY;\n\n    scaleFactorX = parseFloat(scaleFactorX.toFixed(2));\n    scaleFactorY = parseFloat(scaleFactorY.toFixed(2));\n    scaleFunction = `scale(${scaleFactorX}, ${scaleFactorY})`;\n\n    return [scaleFactorX, scaleFactorY, scaleFunction];\n  }\n  getObjectPositionValues(\n    objectPosition: string,\n    oldWidth: number,\n    newWidth: number,\n    oldHeight: number,\n    newHeight: number\n  ) {\n    // Do not do any translation on the clone of <html>\n    // https://drafts.csswg.org/css-view-transitions/#capture-the-image\n    if (this.element instanceof HTMLHtmlElement)\n      return {\n        old: { top: '0px', left: '0px' },\n        new: { top: '0px', left: '0px' },\n      };\n\n    const [objectPositionX, objectPositionY] = objectPosition.split(' ');\n\n    const oldContainerWidth = this.captureElement.old.width;\n    const oldContainerHeight = this.captureElement.old.height;\n    const newContainerWidth = this.captureElement.new.width;\n    const newContainerHeight = this.captureElement.new.height;\n\n    let oldLeft: string;\n    let newLeft: string;\n    if (objectPositionX.includes('%')) {\n      // Calculating the position of the top left corner of the image given the percentage object-position\n      // https://developer.mozilla.org/en-US/docs/Web/CSS/background-position#regarding_percentages\n      const positionOffset = parseFloat(objectPositionX) / 100;\n      oldLeft = ((oldContainerWidth - oldWidth) * positionOffset)\n        .toString()\n        .concat('px');\n      newLeft = ((newContainerWidth - newWidth) * positionOffset)\n        .toString()\n        .concat('px');\n    } else {\n      oldLeft = objectPositionX;\n      newLeft = objectPositionX;\n    }\n\n    let oldTop: string;\n    let newTop: string;\n    if (objectPositionY.includes('%')) {\n      const positionOffset = parseFloat(objectPositionY) / 100;\n      oldTop = ((oldContainerHeight - oldHeight) * positionOffset)\n        .toString()\n        .concat('px');\n      newTop = ((newContainerHeight - newHeight) * positionOffset)\n        .toString()\n        .concat('px');\n    } else {\n      oldTop = objectPositionY;\n      newTop = objectPositionY;\n    }\n\n    return {\n      old: { top: oldTop, left: oldLeft },\n      new: { top: newTop, left: newLeft },\n    };\n  }\n  animateImage(\n    animationDuration: number,\n    CSSeasing: string,\n    fromTransform: string,\n    toTransform: string\n  ) {\n    this.innerElement.animate(\n      [\n        {\n          transform: fromTransform,\n          transformOrigin: 'top left',\n        },\n        {\n          transform: toTransform,\n          transformOrigin: 'top left',\n        },\n      ],\n      {\n        duration: animationDuration,\n        iterations: 1,\n        fill: 'forwards',\n        easing: CSSeasing,\n      }\n    );\n  }\n}\nexport class ViewTransitionOld extends ViewTransitionImage {\n  setup(name: string, captureElement: CaptureElement) {\n    this.image = captureElement.old.image;\n    this.element = captureElement.oldElement;\n    return super.setup(name, captureElement);\n  }\n  getAnimateImageFunctions() {\n    // Simulate the replaced content sizing of ::view-transition-old and ::view-transition-new\n    // Since view-transition-old and view-transition-new are not images in the polyfill,\n    // their size will fit the change in size of the animation by animating transform: scale() on them\n\n    // The value for transform will be determined using the value of object-fit\n    const style = getComputedStyle(this);\n    const objectFit = style.objectFit;\n\n    const [scaleFactorX, scaleFactorY, scaleFunction] =\n      this.getScaleFactor(objectFit);\n\n    const objectPosition = style.objectPosition;\n    const objectPositionValues = this.getObjectPositionValues(\n      objectPosition,\n      scaleFactorX,\n      scaleFactorY\n    );\n    const oldObjectPositionTranslate: CSSTranslateFunction = `translate(${objectPositionValues.old.left}, ${objectPositionValues.old.top})`;\n    const newObjectPositionTranslate: CSSTranslateFunction = `translate(${objectPositionValues.new.left}, ${objectPositionValues.new.top})`;\n\n    return [\n      oldObjectPositionTranslate,\n      newObjectPositionTranslate,\n      scaleFunction,\n    ];\n  }\n  getScaleFactor(objectFit: string): [number, number, string] {\n    const fromWidth = this.captureElement.old.width;\n    const fromHeight = this.captureElement.old.height;\n    const toWidth = this.captureElement.new.width;\n    const toHeight = this.captureElement.new.height;\n    return super.getScaleFactor(\n      objectFit,\n      fromWidth,\n      toWidth,\n      fromHeight,\n      toHeight\n    );\n  }\n  getObjectPositionValues(\n    objectPosition: string,\n    scaleFactorX: number,\n    scaleFactorY: number\n  ): {\n    old: { top: string; left: string };\n    new: { top: string; left: string };\n  } {\n    const oldWidth = this.innerElement.offsetWidth;\n    const oldHeight = this.innerElement.offsetHeight;\n    const newWidth = Math.floor(oldWidth * scaleFactorX);\n    const newHeight = Math.floor(oldHeight * scaleFactorY);\n    return super.getObjectPositionValues(\n      objectPosition,\n      oldWidth,\n      newWidth,\n      oldHeight,\n      newHeight\n    );\n  }\n  animateImage(animationDuration: number, CSSeasing: string) {\n    const [\n      oldObjectPositionTranslate,\n      newObjectPositionTranslate,\n      scaleFunction,\n    ] = this.getAnimateImageFunctions();\n    return super.animateImage(\n      animationDuration,\n      CSSeasing,\n      oldObjectPositionTranslate,\n      `${newObjectPositionTranslate} ${scaleFunction}`\n    );\n  }\n}\nexport class ViewTransitionNew extends ViewTransitionImage {\n  setup(name: string, captureElement: CaptureElement) {\n    this.image = captureElement.new.image;\n    this.element = captureElement.newElement;\n    super.setup(name, captureElement);\n  }\n  getAnimateImageFunctions() {\n    // Simulate the replaced content sizing of ::view-transition-old and ::view-transition-new\n    // Since view-transition-old and view-transition-new are not images in the polyfill,\n    // their size will fit the change in size of the animation by animating transform: scale() on them\n\n    // The value for transform will be determined using the value of object-fit\n    const style = getComputedStyle(this);\n    const objectFit = style.objectFit;\n\n    const [scaleFactorX, scaleFactorY, scaleFunction] =\n      this.getScaleFactor(objectFit);\n\n    const objectPosition = style.objectPosition;\n    const objectPositionValues = this.getObjectPositionValues(\n      objectPosition,\n      scaleFactorX,\n      scaleFactorY\n    );\n    const oldObjectPositionTranslate: CSSTranslateFunction = `translate(${objectPositionValues.old.left}, ${objectPositionValues.old.top})`;\n    const newObjectPositionTranslate: CSSTranslateFunction = `translate(${objectPositionValues.new.left}, ${objectPositionValues.new.top})`;\n\n    return [\n      oldObjectPositionTranslate,\n      newObjectPositionTranslate,\n      scaleFunction,\n    ];\n  }\n  getScaleFactor(objectFit: string): [number, number, string] {\n    const fromWidth = this.captureElement.new.width;\n    const fromHeight = this.captureElement.new.height;\n    const toWidth = this.captureElement.old.width;\n    const toHeight = this.captureElement.old.height;\n    return super.getScaleFactor(\n      objectFit,\n      fromWidth,\n      toWidth,\n      fromHeight,\n      toHeight\n    );\n  }\n  getObjectPositionValues(\n    objectPosition: string,\n    scaleFactorX: number,\n    scaleFactorY: number\n  ): {\n    old: { top: string; left: string };\n    new: { top: string; left: string };\n  } {\n    const newWidth = this.innerElement.offsetWidth;\n    const newHeight = this.innerElement.offsetHeight;\n    const oldWidth = Math.floor(newWidth * scaleFactorX);\n    const oldHeight = Math.floor(newHeight * scaleFactorY);\n    return super.getObjectPositionValues(\n      objectPosition,\n      oldWidth,\n      newWidth,\n      oldHeight,\n      newHeight\n    );\n  }\n  animateImage(animationDuration: number, CSSeasing: string) {\n    const [\n      oldObjectPositionTranslate,\n      newObjectPositionTranslate,\n      scaleFunction,\n    ] = this.getAnimateImageFunctions();\n    return super.animateImage(\n      animationDuration,\n      CSSeasing,\n      `${oldObjectPositionTranslate} ${scaleFunction}`,\n      newObjectPositionTranslate\n    );\n  }\n}\n\ncustomElements.define('view-transition-image-pair', ViewTransitionImagePair);\ncustomElements.define('view-transition-old', ViewTransitionOld);\ncustomElements.define('view-transition-new', ViewTransitionNew);\n", "import {\n  ViewTransitionImagePair,\n  ViewTransitionOld,\n  ViewTransitionNew,\n} from './view-transition-image-elements';\nimport CaptureElement from '../capture-element';\n\ntype GroupStyleRuleValues = {\n  width: string;\n  height: string;\n  transform: string;\n  writingMode: string;\n  direction: string;\n  textOrientation: string;\n  mixBlendMode: string;\n  backdropFilter: string;\n  colorScheme: string;\n};\n\nexport default class ViewTransitionGroup extends HTMLElement {\n  constructor() {\n    super();\n  }\n  transitionName = '';\n  captureElement = new CaptureElement();\n  imagePair = new ViewTransitionImagePair();\n  oldImage: ViewTransitionOld | undefined;\n  newImage: ViewTransitionNew | undefined;\n  groupStyle = document.createElement('style');\n  setupForOldImage(name: string, captureElement: CaptureElement) {\n    this.transitionName = name;\n    this.setAttribute('name', name);\n    this.captureElement = captureElement;\n\n    this.imagePair = new ViewTransitionImagePair();\n    this.oldImage = this.imagePair.setupForOldImage(name, captureElement);\n    if (this.oldImage) this.forceDisplay(this.oldImage, true);\n\n    // Set initial positioning values for the group\n    // This prevents a flash of unpositioned groups before the update callback\n    const initialValues: GroupStyleRuleValues = this.getStyleValues('old');\n    this.mapStyleValuesForAttribute(initialValues);\n    this.appendChild(this.imagePair);\n    this.appendChild(this.groupStyle);\n  }\n  forceDisplay(image: ViewTransitionOld | ViewTransitionNew, toggle: boolean) {\n    // Force an element's CSS display value to block (therefore not none)\n    // This is useful for the old image: because ViewTransitionManager\n    //  yields to the browser's event loop before showing the new images\n    //  of captured elements, we need to avoid a flash of missing elements.\n    // This could happen if the website's authour has set display: none\n    //  on a class of ::view-transition-old expecting the new image to already\n    //  be there, even though the polyfill cannot place it in the DOM yet.\n    image.style.display = toggle ? 'block' : '';\n  }\n  setupForNewImage(name: string, captureElement: CaptureElement) {\n    this.transitionName = name;\n    this.setAttribute('name', name);\n    this.captureElement = captureElement;\n\n    this.imagePair = new ViewTransitionImagePair();\n    this.newImage = this.imagePair.setupForNewImage(name, captureElement);\n\n    // Set initial positioning values for the group\n    // This prevents a flash of unpositioned groups before the update callback\n    const initialValues: GroupStyleRuleValues = this.getStyleValues('new');\n    this.mapStyleValuesForAttribute(initialValues);\n    this.appendChild(this.imagePair);\n    this.appendChild(this.groupStyle);\n  }\n  addNewImage() {\n    this.newImage = this.imagePair.addNewImage();\n  }\n  setup() {\n    // Move the values previously initialized in the style attribute to a <style> element\n    // This enables changing the specificity to match that expected from a user agent style\n    if (!this.newImage) {\n      const values: GroupStyleRuleValues = this.getStyleValues('old');\n      this.captureElement.groupStylesRule = `\n      :where(view-transition-group[name=\"${this.transitionName}\"]) {\n        width: ${values.width};\n        height: ${values.height};\n        transform: ${values.transform};\n        writing-mode: ${values.writingMode};\n        direction: ${values.direction};\n        text-orientation: ${values.textOrientation};\n        mix-blend-mode: ${values.mixBlendMode};\n        backdrop-filter: ${values.backdropFilter};\n        color-scheme: ${values.colorScheme};\n      }\n      `;\n      this.appendToStyle(this.captureElement.groupStylesRule);\n      this.setAttribute('style', '');\n      this.appendToStyle(\n        `:where(view-transition-old[name=\"${this.transitionName}\"]) {\n          animation-name: -ua-view-transition-fade-out;\n        }`\n      );\n      return;\n    }\n\n    const values: GroupStyleRuleValues = this.getStyleValues('new');\n    this.captureElement.groupStylesRule = `\n      :where(view-transition-group[name=\"${this.transitionName}\"]) {\n        width: ${values.width};\n        height: ${values.height};\n        transform: ${values.transform};\n        writing-mode: ${values.writingMode};\n        direction: ${values.direction};\n        text-orientation: ${values.textOrientation};\n        mix-blend-mode: ${values.mixBlendMode};\n        backdrop-filter: ${values.backdropFilter};\n        color-scheme: ${values.colorScheme};\n      }\n      `;\n    this.appendToStyle(this.captureElement.groupStylesRule);\n    this.setAttribute('style', '');\n\n    if (!this.oldImage) {\n      this.appendToStyle(\n        `:where(view-transition-new[name=\"${this.transitionName}\"]) {\n          animation-name: -ua-view-transition-fade-in;\n        }`\n      );\n      return;\n    }\n\n    // Reset forced display mode\n    this.forceDisplay(this.oldImage, false);\n\n    this.captureElement.groupKeyframes = `\n        @keyframes -ua-view-transition-group-anim-${this.transitionName} {\n          from {\n            transform: ${this.captureElement.old.transform};\n            width: ${this.captureElement.old.width}px;\n            height: ${this.captureElement.old.height}px;\n            backdrop-filter: ${this.captureElement.old.backdropFilter};\n          }\n        }\n      `;\n    this.appendToStyle(this.captureElement.groupKeyframes);\n    this.captureElement.groupAnimationNameRule = `\n        :where(view-transition-group[name=\"${this.transitionName}\"]) {\n          animation-name: -ua-view-transition-group-anim-${this.transitionName};\n        }\n      `;\n    this.appendToStyle(this.captureElement.groupAnimationNameRule);\n    this.captureElement.imagePairIsolationRule = `\n        :where(view-transition-image-pair[name=\"${this.transitionName}\"]) {\n          isolation: isolate;\n        }\n      `;\n    this.appendToStyle(this.captureElement.imagePairIsolationRule);\n    this.captureElement.imageAnimationNameRule = `\n        :where(view-transition-old[name=\"${this.transitionName}\"]) {\n          animation-name: -ua-view-transition-fade-out, -ua-mix-blend-mode-plus-lighter;\n        }\n        :where(view-transition-new[name=\"${this.transitionName}\"]) {\n          animation-name: -ua-view-transition-fade-in, -ua-mix-blend-mode-plus-lighter;\n        }\n      `;\n    this.appendToStyle(this.captureElement.imageAnimationNameRule);\n  }\n  appendToStyle(string: string) {\n    const text = this.groupStyle.textContent || '';\n    this.groupStyle.textContent = text.concat(string);\n  }\n  getStyleValues(stage: 'old' | 'new' = 'old'): GroupStyleRuleValues {\n    if (stage === 'old') {\n      const values: GroupStyleRuleValues = {\n        width: this.captureElement.old.width.toString().concat('px'),\n        height: this.captureElement.old.height.toString().concat('px'),\n        transform: this.captureElement.old.transform,\n        writingMode: this.captureElement.old.writingMode,\n        direction: this.captureElement.old.direction,\n        textOrientation: this.captureElement.old.textOrientation,\n        mixBlendMode: this.captureElement.old.mixBlendMode,\n        backdropFilter: this.captureElement.old.mixBlendMode,\n        colorScheme: this.captureElement.old.colorScheme,\n      };\n      return values;\n    } else {\n      const values: GroupStyleRuleValues = {\n        width: this.captureElement.new.width.toString().concat('px'),\n        height: this.captureElement.new.height.toString().concat('px'),\n        transform: this.captureElement.new.transform,\n        writingMode: this.captureElement.new.writingMode,\n        direction: this.captureElement.new.direction,\n        textOrientation: this.captureElement.new.textOrientation,\n        mixBlendMode: this.captureElement.new.mixBlendMode,\n        backdropFilter: this.captureElement.new.backdropFilter,\n        colorScheme: this.captureElement.new.colorScheme,\n      };\n      return values;\n    }\n  }\n  mapStyleValuesForAttribute(values: GroupStyleRuleValues) {\n    enum caseConverter {\n      width = 'width',\n      height = 'height',\n      transform = 'transform',\n      writingMode = 'writing-mode',\n      direction = 'direction',\n      textOrientation = 'text-orientation',\n      mixBlendMode = 'mix-blend-mode',\n      backdropFilter = 'backdrop-filter',\n      colorScheme = 'color-scheme',\n    }\n    for (const [property, value] of Object.entries(values)) {\n      const converted = caseConverter[property as keyof typeof caseConverter];\n      if (!converted) continue;\n      this.style.setProperty(converted, value);\n    }\n    return;\n  }\n  getSizingAnimationParemters(): [number, string] {\n    // This function returns the duration of the user agent animation that resizes the view-transition-group\n    // It is used to simulate the replaced content sizing effect in this.animateImages()\n    const style = getComputedStyle(this);\n    return [\n      this.getSizingAnimationDuration(style),\n      this.getSizingAnimationEasing(style),\n    ];\n  }\n  getSizingAnimationDuration(style: CSSStyleDeclaration) {\n    const animations = style.animationName.split(', ');\n    const animationDurations = style.animationDuration.split(', ');\n    const durationsMap = new Map(\n      animations.map((animationName) => {\n        return [\n          animationName,\n          animationDurations[animations.indexOf(animationName)],\n        ];\n      })\n    );\n    const rawDuration = durationsMap.get(\n      `-ua-view-transition-group-anim-${this.transitionName}`\n    );\n    const duration = parseFloat(rawDuration || '0') * 1000;\n    return duration;\n  }\n  getSizingAnimationEasing(style: CSSStyleDeclaration) {\n    const animations = style.animationName.split(', ');\n    const animationEasings = style.animationTimingFunction.split(', ');\n    const easingsMap = new Map(\n      animations.map((animationName) => {\n        return [\n          animationName,\n          animationEasings[animations.indexOf(animationName)],\n        ];\n      })\n    );\n    const easing = easingsMap.get(\n      `-ua-view-transition-group-anim-${this.transitionName}`\n    );\n    return easing || 'ease';\n  }\n  animateImages() {\n    const [duration, easing] = this.getSizingAnimationParemters();\n    if (this.oldImage) this.oldImage.animateImage(duration, easing);\n    if (this.newImage) this.newImage.animateImage(duration, easing);\n  }\n}\ncustomElements.define('view-transition-group', ViewTransitionGroup);\n", "import ViewTransitionGroup from './elements/view-transition-group';\n\nclass ImageData {\n  image: Element | undefined;\n  width = 0;\n  height = 0;\n  styleTransform = 'initial';\n  transform = 'initial';\n  writingMode = 'initial';\n  direction = 'initial';\n  textOrientation = 'initial';\n  mixBlendMode = 'initial';\n  backdropFilter = 'initial';\n  colorScheme = 'initial';\n}\n\nexport default class CaptureElement {\n  // The initial structure of captureElement follows https://drafts.csswg.org/css-view-transitions/#captured-element\n  old = new ImageData();\n  groupKeyframes = '';\n  groupAnimationNameRule = '';\n  groupStylesRule = '';\n  imagePairIsolationRule = '';\n  imageAnimationNameRule = '';\n\n  oldElement: Element | undefined;\n  newElement: Element | undefined;\n  name = '';\n  group: ViewTransitionGroup | undefined;\n\n  new = new ImageData();\n}\n", "export class ViewTransitionElement extends HTMLElement {\n  constructor() {\n    super();\n    this.setAttribute('aria-hidden', 'true');\n    this.setAttribute('inert', '');\n  }\n}\ncustomElements.define('view-transition', ViewTransitionElement);\n", "import { parseStyles } from './style-parsing/style-sheet-parser';\nimport CaptureElement from './capture-element';\nimport {\n  cloneElementWithStyles,\n  getElementPosition,\n  isStylableElement,\n  CSSTransformPropertyToFunction,\n  ViewTransition,\n} from './polyfill-utils';\nimport ViewTransitionGroup from './elements/view-transition-group';\nimport type { StylableElement } from './polyfill-utils';\nimport type { Callback } from './polyfill-utils';\nimport { ViewTransitionElement } from './elements/view-transition-element';\nimport {\n  setElementVisibility,\n  setDocumentVisibility,\n  afterNextPaint,\n} from './polyfill-utils';\n\ndeclare global {\n  interface CSSStyleDeclaration {\n    viewTransitionName: string;\n  }\n}\nclass DuplicateNamesError extends Error {\n  elements: [Element, Element];\n  constructor(message: string | undefined, elements: [Element, Element]) {\n    super(message);\n    this.elements = elements;\n  }\n}\n\ntype NamedElementsMap = Map<string, CaptureElement>;\ntype viewTransitionElementsMap = Map<string, HTMLElement>;\ntype ViewTransitionPhase =\n  | 'pending-capture'\n  | 'update-callback-called'\n  | 'animating'\n  | 'done';\n\nexport default class ViewTransitionManager {\n  static isViewTransitionActive() {\n    return document.querySelector('view-transition') ? true : false;\n  }\n\n  // Adapted from https://drafts.csswg.org/css-view-transitions/#ua-styles\n  // :where() removes specificity, simulating a user agent style sheet\n  static UAStylesheetText = `* {\n      --vt-polyfill-name: initial;\n    }\n    \n    :where(:root) {\n      --vt-polyfill-name: root;\n    }\n    \n    :where(view-transition) {\n      position: fixed;\n      inset: 0;\n      z-index: 100000;\n  \n      pointer-events: none;\n    }\n    \n    :where(view-transition-group) {\n      position: absolute;\n      top: 0;\n      left: 0;\n    \n      animation-duration: 0.25s;\n      animation-fill-mode: both;\n    }\n    \n    :where(view-transition-image-pair) {\n      position: absolute;\n      inset: 0;\n    \n      isolation: isolate;\n    \n      animation-duration: inherit;\n      animation-fill-mode: inherit;\n    }\n    \n    :where(view-transition-old,\n    view-transition-new) {\n      position: absolute;\n      inset-block-start: 0;\n      inline-size: 100%;\n      block-size: auto;\n    \n      mix-blend-mode: plus-lighter;\n    \n      animation-duration: inherit;\n      animation-fill-mode: inherit;\n    }\n  \n    @keyframes -ua-view-transition-fade-out {\n      to { opacity: 0; }\n    }\n    @keyframes -ua-view-transition-fade-in {\n      from { opacity: 0; }\n    }\n    @keyframes -ua-mix-blend-mode-plus-lighter {\n      from { mix-blend-mode: plus-lighter }\n      to { mix-blend-mode: plus-lighter }\n    }\n    `;\n\n  phase: ViewTransitionPhase = 'pending-capture';\n  transitionPromises: ViewTransition = new ViewTransition(this);\n  viewTransitionElement = new ViewTransitionElement();\n  parsedStyleElement = document.createElement('style');\n  namedElements: NamedElementsMap = new Map();\n  oldElements: viewTransitionElementsMap = new Map();\n  newElements: viewTransitionElementsMap = new Map();\n  callback: Callback | undefined = () => undefined;\n  animationPromises: Promise<Animation>[] = [];\n\n  // Store focus to be restored from inert\n  activeElement: HTMLElement | undefined;\n\n  constructor() {}\n  async startViewTransition(\n    viewTransitionObject: ViewTransition,\n    callback?: Callback\n  ) {\n    this.phase = 'pending-capture';\n    this.transitionPromises = viewTransitionObject;\n    if (callback) this.callback = callback;\n    if (ViewTransitionManager.isViewTransitionActive()) {\n      this.skipTransition(\n        'Tried to initiate a View Transition from the polyfill, but one was already active.'\n      );\n      return;\n    }\n    this.viewTransitionElement = new ViewTransitionElement();\n    document.documentElement.appendChild(this.viewTransitionElement);\n\n    try {\n      const parsedStyleString = await parseStyles();\n      this.parsedStyleElement = document.createElement('style');\n      this.parsedStyleElement.textContent = parsedStyleString;\n    } catch (error) {\n      const reason =\n        error instanceof Error\n          ? `View Transitions API polyfill: could not parse stylesheets: ${error.name} ${error.message}`\n          : error;\n      this.skipTransition(reason);\n      throw reason;\n    }\n\n    this.addUAStylesheet();\n    this.viewTransitionElement.appendChild(this.parsedStyleElement);\n\n    this.namedElements = new Map();\n    try {\n      this.oldElements = this.getNamedTransitionElements();\n    } catch (e) {\n      if (e instanceof DuplicateNamesError) {\n        return;\n      }\n    }\n    this.captureElements('old');\n    this.initialSetupGroups();\n\n    this.activeElement =\n      document.activeElement instanceof HTMLElement\n        ? document.activeElement\n        : undefined;\n    document.body.setAttribute('inert', '');\n\n    try {\n      if (callback) await callback();\n      this.transitionPromises.updateCallbackDone.resolve();\n      this.phase = 'update-callback-called';\n    } catch (error) {\n      this.transitionPromises.updateCallbackDone.reject(error);\n      this.skipTransition(error);\n      return;\n    }\n\n    this.parsedStyleElement?.remove();\n    try {\n      const parsedStyleString = await parseStyles();\n      this.parsedStyleElement = document.createElement('style');\n      this.parsedStyleElement.textContent = parsedStyleString;\n      this.viewTransitionElement.appendChild(this.parsedStyleElement);\n    } catch (error) {\n      const reason =\n        error instanceof Error\n          ? `View Transitions API polyfill: could not parse stylesheets: ${error.name} ${error.message}`\n          : error;\n      this.skipTransition(reason);\n      throw reason;\n    }\n\n    try {\n      this.newElements = this.getNamedTransitionElements();\n    } catch (e) {\n      if (e instanceof DuplicateNamesError) {\n        return;\n      }\n    }\n    this.captureElements('new');\n\n    // Yield control of the event loop to the browser\n    await afterNextPaint();\n    this.setupGroups();\n    this.newElements.forEach((element) => setElementVisibility(element, false));\n    this.transitionPromises.ready.resolve();\n    this.phase = 'animating';\n\n    // Clear the view transition once every animation is over\n    // https://drafts.csswg.org/css-view-transitions/#handle-transition-frame-algorithm\n    const animations = this.viewTransitionElement.getAnimations({\n      subtree: true,\n    });\n    const finishedPromises = animations.map((animation) => animation.finished);\n    this.animationPromises.push(...finishedPromises);\n    this.animationsFinished();\n  }\n  skipTransition(reason?: unknown) {\n    if (this.phase === 'pending-capture') {\n      // Call the update callback if it has not been called yet\n      queueMicrotask(async () => {\n        if (this.callback) await this.callback();\n        this.transitionPromises.updateCallbackDone.resolve();\n      });\n    }\n    setDocumentVisibility(true);\n    document.body.removeAttribute('inert');\n    this.phase = 'done';\n    this.transitionPromises.ready.reject(reason);\n    this.transitionPromises.finished.resolve();\n\n    // Account for multiple view transition elements\n    // in case the polyfill has erroneously added more than one\n    const viewTransitionElements = document.querySelectorAll('view-transition');\n    viewTransitionElements.forEach((element) => element.remove());\n  }\n  captureElements(stage: 'old' | 'new') {\n    // For each old or new element captured, add its data to a new CapturedElement struct\n    // https://drafts.csswg.org/css-view-transitions/#capture-old-state-algorithm\n    const map = stage === 'old' ? this.oldElements : this.newElements;\n    for (const [viewTransitionName, element] of map) {\n      let captureElement = this.namedElements.get(viewTransitionName);\n      if (!captureElement) {\n        captureElement = new CaptureElement();\n        this.namedElements.set(viewTransitionName, captureElement);\n      }\n      const style = getComputedStyle(element);\n      captureElement.name = viewTransitionName;\n      if (stage === 'old') {\n        captureElement.oldElement = element;\n      } else {\n        captureElement.newElement = element;\n      }\n\n      try {\n        const live = stage === 'new';\n        captureElement[stage].image = cloneElementWithStyles(element, live);\n      } catch (error) {\n        const reason =\n          error instanceof Error\n            ? `Could not clone element ${element}: ${error.message}`\n            : error;\n        this.skipTransition(reason);\n        return;\n      }\n      captureElement[stage].width = element.offsetWidth;\n      captureElement[stage].height = element.offsetHeight;\n\n      captureElement[stage].styleTransform = style.transform;\n      // Within the scope of this function, if the style transform is none,\n      // replace it with an empty string to concat\n      const styleTransform =\n        captureElement[stage].styleTransform === 'none'\n          ? ''\n          : captureElement[stage].styleTransform;\n\n      // Convert the standalone CSS transform properties to CSS functions\n      const standaloneTranslate = CSSTransformPropertyToFunction(\n        'translate',\n        style.translate\n      );\n      const standaloneRotate = CSSTransformPropertyToFunction(\n        'rotate',\n        style.rotate\n      );\n      const standaloneScale = CSSTransformPropertyToFunction(\n        'scale',\n        style.scale\n      );\n      const standaloneTransforms = [\n        standaloneTranslate,\n        standaloneRotate,\n        standaloneScale,\n      ].join(' ');\n\n      try {\n        // Get the element's position and put it in the form of a translate()\n        const elementPosition = getElementPosition(element);\n        const elementPositionTranslateFunction = `translate(${elementPosition.left}px, ${elementPosition.top}px)`;\n        // Combine the translate() for the element's position with any transforms the element had\n        // This follows a specific order according to how CSS transforms are applied:\n        //  first the element position, then the standalone transforms, then the previous value of the transform property\n        captureElement[stage].transform =\n          `${elementPositionTranslateFunction} ${standaloneTransforms} ${styleTransform}`.trim();\n      } catch (error) {\n        const reason =\n          error instanceof Error\n            ? `Could not get position of element ${element}: ${error.message}`\n            : error;\n        this.skipTransition(reason);\n        return;\n      }\n\n      captureElement[stage].writingMode = style.writingMode;\n      captureElement[stage].direction = style.direction;\n      captureElement[stage].textOrientation = style.textOrientation;\n      captureElement[stage].mixBlendMode = style.mixBlendMode;\n      captureElement[stage].backdropFilter = style.backdropFilter;\n      captureElement[stage].colorScheme = style.colorScheme;\n      if (stage === 'old')\n        this.namedElements.set(viewTransitionName, captureElement);\n    }\n  }\n  addUAStylesheet() {\n    // Append a <style> element with the default styles normally in the UA stylesheet for browsers that support the API\n    const UAStyleEl = document.createElement('style');\n    UAStyleEl.setAttribute('data-vt-polyfill-style', '');\n    UAStyleEl.textContent = ViewTransitionManager.UAStylesheetText;\n    this.viewTransitionElement.appendChild(UAStyleEl);\n  }\n  getNamedTransitionElements() {\n    // This function parses the DOM for elements with a view transition name\n\n    const usedTransitionNames: string[] = [];\n    // capturedElements maps view transition names to the elements that have them\n    const capturedElements = new Map();\n    const loopforNamedElements = (element: StylableElement): void => {\n      // Recursive function: analyze the given element and call the function again individually for each of its children\n\n      if (element === document.head) return;\n\n      const style = getComputedStyle(element);\n\n      const isRendered =\n        element.checkVisibility() ??\n        style.getPropertyValue('display') !== 'none';\n      if (!isRendered) return;\n      const viewTransitionName =\n        element.style.viewTransitionName ||\n        style.getPropertyValue('--vt-polyfill-name');\n\n      const loopOverChildren = (element: StylableElement) =>\n        element.querySelectorAll(':scope > *').forEach((child) => {\n          if (!isStylableElement(child)) return;\n          loopforNamedElements(child);\n        });\n\n      if (viewTransitionName === 'none') {\n        return loopOverChildren(element);\n      }\n\n      if (usedTransitionNames.includes(viewTransitionName)) {\n        const duplicateNamesError = new DuplicateNamesError(\n          'View Transitions API Polyfill: two elements with the same view transition name have been found',\n          [capturedElements.get(viewTransitionName), element]\n        );\n        throw duplicateNamesError;\n      }\n\n      if (viewTransitionName !== '') {\n        usedTransitionNames.push(viewTransitionName);\n        capturedElements.set(viewTransitionName, element);\n        if (element === document.documentElement || element === document.body) {\n          // If <html> (or <body>) has a view transition name (which is the default case, but can be overridden),\n          //  a white background (specified in the polyfill's user agent stylesheet) is applied to <view-transition>.\n          this.viewTransitionElement.classList.add('has-root-group');\n        }\n      }\n      return loopOverChildren(element);\n    };\n    try {\n      loopforNamedElements(document.documentElement);\n    } catch (e) {\n      if (e instanceof DuplicateNamesError) {\n        this.skipTransition(e);\n        throw e;\n      }\n    }\n    return capturedElements;\n  }\n  initialSetupGroups() {\n    // Append partially completed groups with old images to DOM to simulate rendering freeze for callback\n    for (const [key, value] of this.namedElements) {\n      const captureElement = value;\n      const viewTransitionName = key;\n\n      const viewTransitionGroup = new ViewTransitionGroup();\n      captureElement.group = viewTransitionGroup;\n      viewTransitionGroup.setupForOldImage(viewTransitionName, captureElement);\n      this.viewTransitionElement.appendChild(viewTransitionGroup);\n    }\n  }\n  setupGroups() {\n    for (const entry of this.namedElements) {\n      const viewTransitionName = entry[0];\n      const captureElement = entry[1];\n\n      let viewTransitionGroup = captureElement.group;\n      if (!viewTransitionGroup) {\n        viewTransitionGroup = new ViewTransitionGroup();\n        captureElement.group = viewTransitionGroup;\n        viewTransitionGroup.setupForNewImage(\n          viewTransitionName,\n          captureElement\n        );\n        this.viewTransitionElement.appendChild(viewTransitionGroup);\n      } else {\n        viewTransitionGroup.addNewImage();\n      }\n      viewTransitionGroup.setup();\n      viewTransitionGroup.animateImages();\n    }\n  }\n  updateAnimations(newAnimation: Animation) {\n    // Add animations from document.documentElement.animate()\n    //  to the finished promises to be awaited for the end of the transition.\n    this.animationPromises.push(newAnimation.finished);\n  }\n  animationsFinished() {\n    Promise.allSettled(this.animationPromises).then((resolvedPromises) => {\n      // The array of resolvedPromises was initially made to include\n      //  the animations generated by the polyfill itself, not including\n      //  any animations added by document.documentElement.animate()\n      //  to this.animationPromises.\n      if (resolvedPromises.length === this.animationPromises.length) {\n        this.animationPromises = [];\n        this.phase = 'done';\n        this.transitionPromises.finished.resolve();\n        setDocumentVisibility(true);\n        document.body.removeAttribute('inert');\n        if (this.activeElement && document.body.contains(this.activeElement)) {\n          this.activeElement.focus();\n        }\n        this.viewTransitionElement.remove();\n      } else {\n        this.animationsFinished();\n      }\n    });\n  }\n}\n", "import { MediaClone } from './elements/media-clone';\nimport ViewTransitionManager from './view-transition-manager';\n\ntype PromiseResolve = (value?: PromiseLike<undefined> | undefined) => void;\ntype PromiseReject = (reason?: unknown) => void;\n\nexport type DeferredPromise = Promise<undefined> & {\n  resolve: PromiseResolve;\n  reject: PromiseReject;\n};\n\nexport function defer() {\n  let resolve!: PromiseResolve;\n  let reject!: PromiseReject;\n\n  const promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  }) as DeferredPromise;\n  promise.resolve = resolve;\n  promise.reject = reject;\n\n  return promise;\n}\n\nexport type Callback = () => unknown;\n\nexport class ViewTransition {\n  private viewTransitionElement: ViewTransitionManager;\n  finished: DeferredPromise;\n  ready: DeferredPromise;\n  updateCallbackDone: DeferredPromise;\n  constructor(viewTransitionElement: ViewTransitionManager) {\n    // Deferred promises are resolved remotely as needed by the ViewTransitionElement governing the transition\n    this.finished = defer();\n    this.ready = defer();\n    this.updateCallbackDone = defer();\n    this.viewTransitionElement = viewTransitionElement;\n  }\n  skipTransition() {\n    this.viewTransitionElement.skipTransition(\n      new DOMException('Transition skipped')\n    );\n  }\n}\n\nexport const afterNextPaint = (): Promise<void> =>\n  new Promise<void>((resolve) => {\n    requestAnimationFrame(() => {\n      setTimeout(resolve, 0);\n    });\n  });\n\nconst isElementUnallowed = (el: Element) => {\n  const unallowedTagNames = [\n    'head',\n    'script',\n    'style',\n    'view-transition',\n    'view-transition-group',\n    'view-transition-image-pair',\n    'view-transition-old',\n    'view-transition-new',\n  ];\n  return unallowedTagNames.includes(el.tagName.toLowerCase());\n};\n\nconst isVoidElement = (el: Element) => {\n  const voidElements = [\n    'area',\n    'base',\n    'br',\n    'col',\n    'embed',\n    'hr',\n    'img',\n    'input',\n    'link',\n    'meta',\n    'param',\n    'source',\n    'track',\n    'wbr',\n  ];\n  return voidElements.includes(el.tagName.toLowerCase());\n};\n\nconst isElementOutsideViewport = (el: Element) => {\n  const rect = el.getBoundingClientRect();\n\n  return (\n    rect.top > window.innerHeight + document.documentElement.scrollTop ||\n    rect.left > window.innerWidth + document.documentElement.scrollLeft\n  );\n};\n\n// Always clone these link properties, as their real values\n// could be hidden by the :visited pseudo-class.\n// https://developer.mozilla.org/en-US/docs/Web/CSS/:visited#privacy_restrictions\nconst linkProperties = [\n  'color',\n  'background-color',\n  'border-color',\n  'border-bottom-color',\n  'border-left-color',\n  'border-right-color',\n  'border-top-color',\n  'column-rule-color',\n  'outline-color',\n  'text-decoration-color',\n  'text-emphasis-color',\n  'text-decoration-line',\n];\n\n// Always clone the values of these layout-related CSS properties.\n// Using longhands because shorthands are not included in CSSStyleDeclaration.\nconst alwaysCloneProperties = [\n  'width',\n  'height',\n  'inline-size',\n  'block-size',\n  'padding-top',\n  'padding-bottom',\n  'padding-left',\n  'padding-right',\n  'border-top-width',\n  'border-bottom-width',\n  'border-left-width',\n  'border-right-width',\n  'margin-top',\n  'margin-bottom',\n  'margin-left',\n  'margin-right',\n  'box-sizing',\n  'display',\n];\n// Never clone the values of these layout-related CSS properties.\n// Their values would hinder animations on ViewTransitionImage.\nconst neverCloneProperties = [\n  'max-width',\n  'max-height',\n  'max-inline-size',\n  'max-block-size',\n  'min-width',\n  'min-height',\n  'min-inline-size',\n  'min-block-size',\n];\n\nconst spacerProperties = [\n  'position',\n  'margin-top',\n  'margin-bottom',\n  'margin-right',\n  'margin-left',\n  'position',\n  'top',\n  'bottom',\n  'right',\n  'left',\n];\n\nconst cloneAsSpacer = (el: Element) => {\n  const clone = document.createElement('div');\n  clone.dataset.vtSpacer = '';\n\n  const rect = el.getBoundingClientRect();\n  clone.style.width = `${rect.width}px`;\n  clone.style.height = `${rect.height}px`;\n\n  const style = getComputedStyle(el);\n  for (const prop of spacerProperties) {\n    clone.style.setProperty(prop, style.getPropertyValue(prop));\n  }\n  return clone;\n};\n\n// The Element interface does not implement the style property (needed for cloning),\n//  but all of its subclasses do.\nexport type StylableElement = Element & { style: CSSStyleDeclaration };\nexport function isStylableElement(\n  element: unknown\n): element is StylableElement {\n  return (\n    element instanceof HTMLElement ||\n    element instanceof SVGElement ||\n    element instanceof MathMLElement\n  );\n}\n\nexport function cloneElementWithStyles(\n  element: StylableElement,\n  live = false\n): Element | undefined {\n  // This is a recursive function that clones an element while also applying its computed styles\n\n  // Create a defaultStyle object which contains the default\n  // CSS declarations from the user agent, in order to avoid\n  // duplicating these when cloning an element's style.\n  const div = document.createElement('div');\n  div.setAttribute('data-vt-default-style-div', '');\n  div.style.all = 'initial';\n  div.style.display = 'none';\n  document.body.appendChild(div);\n  const defaultStyle = getComputedStyle(div);\n\n  const cloneElement = (el: StylableElement) => {\n    // Check that the element is:\n    // + Not the <html> element (in such a case, go clone the <body> directly and skip <html>)\n    // + Not an element that would be redundant to clone\n    if (isElementUnallowed(el)) {\n      return;\n    }\n\n    // Create the clone\n    // Avoid duplicate <body> tags\n    // Clone <video> elements as <canvas>\n    let clone: StylableElement;\n    if (el instanceof HTMLBodyElement || el instanceof HTMLHtmlElement) {\n      clone = document.createElement('div');\n    } else if (el instanceof HTMLVideoElement) {\n      try {\n        const mediaClone = new MediaClone();\n        mediaClone.setup(el, live);\n        clone = mediaClone;\n      } catch {\n        // Canvas context 2D unsupported\n        return undefined;\n      }\n    } else {\n      clone = el.cloneNode() as StylableElement;\n    }\n\n    // Iterate over the properties of getComputedStyle() to make up the contents of a style attribute\n    const style = getComputedStyle(el);\n    const CSSProperties: Array<string> = [];\n    CSSProperties.push('all: initial;'); // Disable inheritance\n    if (style) {\n      for (const property of [...style]) {\n        if (neverCloneProperties.includes(property)) continue;\n        const value = style.getPropertyValue(property);\n        if (\n          value === defaultStyle.getPropertyValue(property) &&\n          !alwaysCloneProperties.includes(property)\n        ) {\n          continue;\n        }\n        if (property === '-webkit-text-fill-color') {\n          // There are cases of shadow DOMs which override the color property\n          //  but where the polyfill still applies the inherited color\n          //  because of -webkit-text-fill-color, which overrides it.\n          // As such, normalize it to the color property.\n          CSSProperties.push(`color: ${value}`);\n        }\n        CSSProperties.push(`${property}: ${value};`);\n      }\n    }\n\n    if (el instanceof HTMLAnchorElement) {\n      for (const property of linkProperties) {\n        clone.style.setProperty(property, style.getPropertyValue(property));\n      }\n    }\n\n    // Make up an ID for the clone to be referenced in <style> tags\n    const cloneID = 'VT' + Math.random().toString(36).slice(2);\n    clone.setAttribute('id', cloneID);\n\n    if (el instanceof HTMLHtmlElement) {\n      // If <html> has a view transition name (which is the default case, but can be overridden),\n      //  a white background (specified in the polyfill's user agent stylesheet) is applied to <view-transition>\n\n      // This ensures all content behind the transition is obscured, even before a view-transition group for <html> is added.\n      // As such, there won't be a flash of content visible through the transparent <view-transition>\n      //  if the transition is supposed to encompass the whole document.\n      const backgroundStyle = document.createElement('style');\n      backgroundStyle.textContent = `:where(#${cloneID}) {background-color: Canvas}`;\n      clone.appendChild(backgroundStyle);\n    }\n\n    if (cloningRoot) {\n      clone.style.margin = '0';\n    }\n\n    if (isVoidElement(clone)) {\n      clone.setAttribute('style', CSSProperties.join(''));\n    } else {\n      const styleElement = document.createElement('style');\n      styleElement.textContent = `#${cloneID} {${CSSProperties.join('')}}`;\n      clone.appendChild(styleElement);\n    }\n\n    clone.style.opacity = el.hasAttribute('data-vt-polyfill-opacity')\n      ? el.getAttribute('data-vt-polyfill-opacity') || '1'\n      : style\n        ? style.getPropertyValue('opacity')\n        : '1';\n    clone.removeAttribute('data-vt-polyfill-opacity');\n\n    if (cloningRoot) {\n      clone.style.position = 'relative';\n      clone.style.inset = '0';\n      clone.style.transform = 'none';\n      if (clone.style.translate !== undefined) {\n        // The browser supports standalone CSS transform properties\n        clone.style.translate = 'none';\n        clone.style.rotate = 'none';\n        clone.style.scale = 'none';\n      }\n    }\n\n    // Clone the ::before and ::after pseudo elements if they are present\n    // Their styles need to be placed withing a separate <style> tag, not the style attribute\n\n    const beforePseudoEl = getComputedStyle(el, '::before');\n    if (\n      beforePseudoEl.content !== 'none' &&\n      beforePseudoEl.content !== '-moz-alt-content'\n      // If a pseudo-element's content is none, it does not exist\n      // -moz-alt-content is returned for images in firefox\n      // For our purposes, -moz-alt-content is like none\n    ) {\n      const styleEl = document.createElement('style');\n      const CSSProperties: Array<string> = [];\n      for (const property of [...beforePseudoEl]) {\n        CSSProperties.push(\n          `${property}: ${beforePseudoEl.getPropertyValue(property)};`\n        );\n      }\n      styleEl.textContent = `#${cloneID}::before {${CSSProperties.join('')}}`;\n      clone.appendChild(styleEl);\n    }\n\n    const afterPseudoEl = getComputedStyle(el, '::after');\n    if (\n      afterPseudoEl.content !== 'none' &&\n      afterPseudoEl.content !== '-moz-alt-content'\n    ) {\n      const styleEl = document.createElement('style');\n      const CSSProperties: Array<string> = [];\n      for (const property of [...afterPseudoEl]) {\n        CSSProperties.push(\n          `${property}: ${afterPseudoEl.getPropertyValue(property)};`\n        );\n      }\n      styleEl.textContent = `#${cloneID}::after {${CSSProperties.join('')}}`;\n      clone.appendChild(styleEl);\n    }\n\n    // Clone scroll position\n\n    const scrollTop = el.scrollTop;\n\n    if (scrollTop !== 0) {\n      clone.setAttribute('data-vt-scroll-top', scrollTop.toString());\n    }\n\n    const scrollLeft = el.scrollLeft;\n\n    if (scrollLeft !== 0) {\n      clone.setAttribute('data-vt-scroll-left', scrollLeft.toString());\n    }\n\n    // Recursively call the clone function for the element's childNodes,\n    // then appending the resulting child clones to the parent clone\n    const elementChildren = el.childNodes;\n    for (const child of [...elementChildren]) {\n      if (child instanceof Element && !isElementUnallowed(child)) {\n        cloningRoot = false;\n        if (child.hasAttribute('data-vt-default-style-div')) continue;\n        // If a child has a view transition name, its contents will be skipped.\n        const childHasName =\n          getComputedStyle(child).getPropertyValue('--vt-polyfill-name');\n        if (isElementOutsideViewport(child) || childHasName) {\n          // If the element is outside the viewport's bounds,\n          // only clone it as an empty div to take up space,\n          // saving resources by not cloning its subtree.\n          const childClone = cloneAsSpacer(child);\n          clone.appendChild(childClone);\n          continue;\n        }\n        const childClone = cloneElement(child as StylableElement);\n        if (childClone) {\n          clone.appendChild(childClone);\n        }\n      } else if (child instanceof Text && child.textContent?.trim()) {\n        const childClone = child.cloneNode();\n        clone.append(childClone);\n      }\n    }\n\n    return clone;\n  };\n\n  let cloningRoot = true;\n  try {\n    const rootElement = cloneElement(element);\n    return rootElement;\n  } finally {\n    div.remove();\n  }\n}\n\ntype CSSTransformProperty = 'translate' | 'rotate' | 'scale';\nexport function CSSTransformPropertyToFunction(\n  transformProperty: CSSTransformProperty,\n  transformString: string\n): string {\n  // Convert a standalone CSS transform property (translate, rotate, scale)\n  //  to an equivalent CSS function for the transform property.\n  // This is mostly about converting space-separated lists of values to comma-separated ones.\n  if (transformString === 'none') return '';\n  const transformValues = transformString.split(' ').join(', ');\n  switch (transformProperty) {\n    case 'translate':\n      return `translate(${transformValues})`;\n    case 'rotate':\n      return `rotate(${transformValues})`;\n    case 'scale':\n      return `scale(${transformValues})`;\n  }\n  return '';\n}\n\nfunction getScrollOffset(element: HTMLElement): [number, number] {\n  // Function to get the total amount of pixels that an element's\n  //  layout position is offset on the screen due to the parents' scrolling\n  let scrollTop = 0;\n  let scrollLeft = 0;\n  const addOffset = (el: HTMLElement): void => {\n    if (el.scrollTop === 0 && el.scrollLeft === 0) {\n      if (!el.parentElement) return;\n      return addOffset(el.parentElement);\n    }\n    scrollTop += el.scrollTop;\n    scrollLeft += el.scrollLeft;\n  };\n  if (!element.parentElement) return [0, 0];\n  addOffset(element.parentElement);\n  return [scrollTop, scrollLeft];\n}\n\nexport function getElementPosition(element: HTMLElement): {\n  top: number;\n  left: number;\n} {\n  const offsetPosition = (el: HTMLElement) => {\n    // Recursive function to get an element's position in page layout without transforms\n    // offsetTop and offsetLeft are relative to the nearest ancestor with position =/= static\n    // Recursion is needed to loop through offsetParents and get an absolute position\n\n    const top = el.offsetTop;\n    const left = el.offsetLeft;\n\n    const offsetParent = el.offsetParent as HTMLElement;\n    let parentPosition = { top: 0, left: 0 };\n    if (offsetParent) {\n      // When the limit has been reached, offsetParent will be <html>\n      // When el.offsetParent is <html>, it actually returns null\n      parentPosition = offsetPosition(offsetParent);\n    }\n    const positionObject = {\n      top: top + parentPosition.top,\n      left: left + parentPosition.left,\n    };\n    return positionObject;\n  };\n  const [scrollTopOffset, scrollLeftOffset] = getScrollOffset(element);\n  const position = offsetPosition(element);\n  position.top -= scrollTopOffset;\n  position.left -= scrollLeftOffset;\n  return position;\n}\n\nexport function setElementVisibility(element: StylableElement, value: boolean) {\n  if (element instanceof HTMLHtmlElement) {\n    // Forward visibility of <html> to body to avoid hiding view-transition\n    setElementVisibility(document.body, value);\n    return;\n  }\n  if (value === false) {\n    // Hide elements\n    if (element.hasAttribute('data-vt-polyfill-opacity')) return;\n    const elementOpacity = element.style.opacity;\n    element.setAttribute('data-vt-polyfill-opacity', elementOpacity);\n    element.style.opacity = '0.001';\n  } else if (value === true) {\n    // Show elements\n    if (element.hasAttribute('data-vt-polyfill-opacity')) {\n      element.style.opacity =\n        element.getAttribute('data-vt-polyfill-opacity') ?? '';\n      element.removeAttribute('data-vt-polyfill-opacity');\n    }\n  }\n}\nexport function setDocumentVisibility(value: boolean) {\n  // Reset visibility of previously hidden elements with a view-transition-name\n  const elements = document.querySelectorAll('[data-vt-polyfill-opacity]');\n  for (const element of elements) {\n    setElementVisibility(element as StylableElement, value);\n  }\n}\n", "import * as csstree from 'css-tree';\nimport {\n  isDeclaration,\n  isIdentifier,\n  isPseudoElementSelector,\n  isValue,\n} from './style-types';\nimport {\n  getElementSelector,\n  generateListItem,\n  VIEW_TRANSITION_ELEMENTS,\n  replaceDeclarations,\n} from './parsing-utils';\n\nexport function getSerializedElementSelector(\n  pseudoElementSelector: string\n): string {\n  const ast = csstree.parse(pseudoElementSelector, { context: 'selector' });\n  const pseudoAST = csstree.find(\n    ast,\n    (node) =>\n      isPseudoElementSelector(node) &&\n      VIEW_TRANSITION_ELEMENTS.includes(node.name)\n  ) as csstree.PseudoElementSelector | null;\n  if (!pseudoAST) {\n    throw new Error(\n      `View Transitions API polyfill: invalid pseudo-element selector given: ${pseudoElementSelector}`\n    );\n  }\n  const selectorAST = getElementSelector(pseudoAST);\n  return csstree.generate(selectorAST);\n}\n\nfunction isValidValue(valueAST: csstree.Value): boolean {\n  // Parse the value of view-transition-name (from the value itself), which must be one <custom-ident> in CSS\n  const plainObject = csstree.toPlainObject(valueAST) as csstree.ValuePlain;\n  const childrenArray = plainObject.children;\n  if (childrenArray.length !== 1) return false;\n  if (!isIdentifier(childrenArray[0])) return false;\n  return true;\n}\n\nfunction getNameValue(valueAST: csstree.Declaration): string {\n  // Parse the value of view-transition-name, which must be one <custom-ident> in CSS\n  const plainObject = csstree.toPlainObject(\n    valueAST\n  ) as csstree.DeclarationPlain;\n  const childrenArray = (plainObject.value as csstree.ValuePlain).children;\n  if (childrenArray.length !== 1) return '';\n  if (!isIdentifier(childrenArray[0])) return '';\n  return childrenArray[0].name;\n}\n\nexport function getFromStyleAttribute(styleAttribute: string): string {\n  // Given the style=\"\" HTML attribute of an element,\n  //  get the value of view-transition-name\n  const ast = csstree.parse(styleAttribute, {\n    context: 'declarationList',\n    parseCustomProperty: true,\n  });\n  // Replace view-transition-name declarations with --vt-polyfill-name\n  replaceDeclarations(ast);\n  const lastDeclaration = csstree.findLast(\n    ast,\n    (node) => isDeclaration(node) && node.property === '--vt-polyfill-name'\n  ) as csstree.Declaration | null;\n  if (!lastDeclaration) return '';\n  return getNameValue(lastDeclaration);\n}\n\nexport function setStyleAttribute(\n  styleAttribute: string,\n  value: string\n): string {\n  // Given the style=\"\" HTML attribute of an element,\n  //  get what style=\"\" should be if view-transition name is set\n  const ast = csstree.parse(styleAttribute, {\n    context: 'declarationList',\n    parseCustomProperty: true,\n  }) as csstree.DeclarationList;\n  // Normalize view-transition-name declarations to --vt-polyfill-name\n  replaceDeclarations(ast);\n\n  const declarations = csstree.findAll(\n    ast,\n    (node) => isDeclaration(node) && node.property === '--vt-polyfill-name'\n  ) as csstree.Declaration[];\n\n  if (value === '') {\n    // Remove any declarations\n    csstree.walk(ast, {\n      visit: 'Declaration',\n      enter(node, item, list) {\n        if (node.property === '--vt-polyfill-name') {\n          list.remove(item);\n        }\n      },\n    });\n\n    const serializedAttribute = csstree.generate(ast);\n    return serializedAttribute;\n  }\n\n  if (declarations.length >= 2) {\n    // Remove all declarations except for the last one\n    const lastDeclaration = declarations[declarations.length - 1];\n    csstree.walk(ast, {\n      visit: 'Declaration',\n      enter(node, item, list) {\n        if (\n          node.property === '--vt-polyfill-name' &&\n          node !== lastDeclaration\n        ) {\n          list.remove(item);\n        }\n      },\n    });\n  }\n\n  if (declarations.length === 1) {\n    const lastDeclaration = declarations[declarations.length - 1];\n    // Create new csstree.Value object\n    const valueAST = csstree.parse(value, { context: 'value' });\n    const valueTree = csstree.find(valueAST, (node) =>\n      isValue(node)\n    ) as csstree.Value | null;\n    // Early exit: return styleAttribute as-is to avoid modifications\n    if (!valueTree || !isValidValue(valueTree)) return styleAttribute;\n\n    const valueItem = generateListItem(valueTree);\n    (lastDeclaration.value as csstree.Value).children.clear();\n    (lastDeclaration.value as csstree.Value).children.append(valueItem);\n\n    const serializedAttribute = csstree.generate(ast);\n    return serializedAttribute;\n  } else {\n    // Create new csstree.Declaration object\n    const serialized = `--vt-polyfill-name: ${value}`;\n    const valueAST = csstree.parse(serialized, {\n      context: 'declaration',\n      parseCustomProperty: true,\n    });\n    const declaration = csstree.find(\n      valueAST,\n      (node) => isDeclaration(node) && node.property === '--vt-polyfill-name'\n    ) as csstree.Declaration | null;\n    // Early exit: return styleAttribute as-is to avoid modifications\n    if (!declaration || !isValidValue(declaration.value as csstree.Value))\n      return styleAttribute;\n\n    // Get declaration as a list item to be appended to style attribute\n    const declarationItem = generateListItem(declaration);\n    ast.children.append(declarationItem);\n  }\n\n  const serializedAttribute = csstree.generate(ast);\n  return serializedAttribute;\n}\n", "import type { Callback } from './polyfill-utils';\nimport { ViewTransition } from './polyfill-utils';\nimport ViewTransitionManager from './view-transition-manager';\nimport {\n  getFromStyleAttribute,\n  setStyleAttribute,\n  getSerializedElementSelector,\n} from './style-parsing/style-attribute-parser';\n\nlet activeViewTransition: ViewTransitionManager | undefined;\n\nexport function startViewTransitionPolyfill(\n  callback: Callback | undefined\n): ViewTransition {\n  // The ViewTransitionManager class handles most of the transition work\n  const viewTransitionManager = new ViewTransitionManager();\n  // The ViewTransition class acts as the polyfill for the user-facing object returned by document.startViewTransition\n  const viewTransitionObject = new ViewTransition(viewTransitionManager);\n  activeViewTransition = viewTransitionManager;\n  viewTransitionManager.startViewTransition(viewTransitionObject, callback);\n  viewTransitionObject.finished.then(() => {\n    activeViewTransition = undefined;\n  });\n\n  return viewTransitionObject;\n}\n\nexport function mapStartViewTransition() {\n  Object.defineProperty(Document.prototype, 'startViewTransition', {\n    value: startViewTransitionPolyfill,\n    writable: true,\n  });\n}\n\ndeclare global {\n  interface Document {\n    startViewTransition:\n      | ((callback?: () => void) => ViewTransition)\n      | undefined;\n  }\n}\n\nexport function mapPolyfillViewTransitionAnimate() {\n  // Decorate the animate function of <html>\n  // The new function must account for changing view transition pseudo elements to polyfill elements\n\n  const animateFunction = HTMLHtmlElement.prototype.animate;\n\n  Object.defineProperty(HTMLHtmlElement.prototype, 'animate', {\n    value: (\n      keyframes: Keyframe[] | PropertyIndexedKeyframes | null,\n      options?: number | KeyframeAnimationOptions\n    ): Animation => {\n      const callAnimation = () =>\n        animateFunction.call(document.documentElement, keyframes, options);\n\n      if (!options || typeof options === 'number') return callAnimation();\n      const pseudoElement = options.pseudoElement;\n      const hasViewTransitionPseudoElement =\n        pseudoElement && pseudoElement.startsWith('::view-transition');\n      if (!hasViewTransitionPseudoElement) {\n        return callAnimation();\n      }\n      // Intercept normal animate function if it refers to view transition pseudo elements\n      // The polyfill needs to forward the animation to the custom elements in the DOM\n\n      // Turn the pseudo element name into a valid polyfill element name\n      const elementName = getSerializedElementSelector(pseudoElement);\n\n      // Remove the pseudoElement option from the animation options now that we are animating a real element\n      const animationOptions = { ...options };\n      delete animationOptions.pseudoElement;\n      const element = document.querySelector(elementName);\n      if (!element) {\n        // Return an empty Animation that won't ever finish,\n        //  following Chrome's behavior\n        const keyframeEffect = new KeyframeEffect(\n          document.documentElement,\n          keyframes,\n          animationOptions\n        );\n        Object.defineProperty(keyframeEffect, 'pseudoElement', {\n          get() {\n            return pseudoElement;\n          },\n        });\n        const animation = new Animation(keyframeEffect, document.timeline);\n        return animation;\n      }\n      const animation = element.animate(keyframes, animationOptions);\n      activeViewTransition?.updateAnimations(animation);\n      return animation;\n    },\n    configurable: true,\n    writable: true,\n  });\n}\n\nexport function mapToGetAnimations() {\n  // Patch document.getAnimations() such that\n  // The animations on polyfill elements are returned as animations of pseudo elements\n  // To account for functions looking for animations on view transition pseudo elements\n\n  const getAnimations = Document.prototype.getAnimations;\n\n  Object.defineProperty(Document.prototype, 'getAnimations', {\n    value: () => {\n      interface AnimationKeyframe extends Animation {\n        // Extend the Animation interface to tell TypeScript that Animation.effect is a KeyframeEffect\n        //  instead of an AnimationEffect, an abstract interface (never touched in the browser) which does not have a target\n        effect: KeyframeEffect;\n      }\n      const animations = getAnimations.call(document) as AnimationKeyframe[];\n      const viewTransitionElementAnimations = animations.filter((animation) => {\n        {\n          return animation.effect.target?.tagName\n            .toLowerCase()\n            .startsWith('view-transition');\n        }\n      });\n      viewTransitionElementAnimations.forEach((animation) => {\n        const target = animation.effect?.target;\n        Object.defineProperty(animation.effect, 'target', {\n          get(): HTMLElement {\n            // The view transition pseudo elements are attached to <html>\n            return document.documentElement;\n          },\n        });\n        Object.defineProperty(animation.effect, 'pseudoElement', {\n          get(): string {\n            let pseudoElementString = `::${target?.tagName.toLowerCase()}`;\n            if (!(target instanceof ViewTransition)) {\n              // All view transition elements except for the root have a name\n              pseudoElementString = pseudoElementString.concat(\n                `(${target?.getAttribute('name')})`\n              );\n            }\n            return pseudoElementString;\n          },\n        });\n      });\n\n      return animations;\n    },\n    configurable: true,\n    writable: true,\n  });\n}\n\nexport function mapViewTransitionName() {\n  // Monkey patching HTMLElement.prototype.style.viewTransitionName.\n  // To do this, we first monkey patch HTMLElement.prototype.style,\n  //  such that the CSSStyleDeclaration object it returns is intercepted\n  //  in order to add the viewTransitionName getter and setter.\n  // Monkey patching CSSStyleDeclaration directly is not feasible\n  //  because 'this' wouldn't refer to an HTMLElement.\n  const originalStyle = Object.getOwnPropertyDescriptor(\n    HTMLElement.prototype,\n    'style'\n  );\n  Object.defineProperty(HTMLElement.prototype, 'style', {\n    get() {\n      const styleObject: CSSStyleDeclaration = originalStyle?.get?.call(this);\n      /* eslint-disable @typescript-eslint/no-this-alias */\n      const element = this;\n      /* eslint-enable @typescript-eslint/no-this-alias */\n      Object.defineProperty(styleObject, 'viewTransitionName', {\n        get() {\n          const styleAttribute = element.getAttribute('style') || '';\n          return getFromStyleAttribute(styleAttribute);\n        },\n        set(value: string) {\n          const styleAttribute = element.getAttribute('style') || '';\n          const attribute = setStyleAttribute(styleAttribute, value);\n          element.setAttribute('style', attribute);\n          return value;\n        },\n        configurable: true,\n      });\n      return styleObject;\n    },\n    configurable: true,\n  });\n}\n", "import {\n  mapViewTransitionName,\n  mapStartViewTransition,\n  mapPolyfillViewTransitionAnimate,\n  mapToGetAnimations,\n} from './polyfill-functions';\n\nif (!document.startViewTransition) {\n  mapStartViewTransition();\n  mapPolyfillViewTransitionAnimate();\n  mapToGetAnimations();\n  mapViewTransitionName();\n}\n"],
  "mappings": "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C5B,CACb,CACK,EAED,OAAA7Q,EAAO,MAAQ,IAAIqO,GAAM,CACrB,QAAS1gB,EAAO,QAChB,gBAAiBA,EAAO,gBACxB,MAAOA,EAAO,MACd,MAAOA,EAAO,MACd,QAASA,EAAO,QAChB,WAAYA,EAAO,WACnB,KAAMA,EAAO,IAChB,EAAEqS,CAAM,EAEFA,CACX,CAEA,IAAe+Q,GAAApjB,GAAU+iB,GAAaP,GAAI,CAAE,EAAExiB,CAAM,CAAC,ECtDtCqjB,GAAA,CACX,QAAW,GACX,gBAAmB,CACf,UACA,UACA,QACA,SACA,cACH,EACD,MAAS,CACL,MAAS,CACL,MACA,OACA,MACA,MACH,EACD,QAAW,CACP,IACH,EACD,KAAQ,CACJ,IACH,EACD,UAAa,CACT,KACA,KACH,EACD,OAAU,CACN,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,MACA,MACA,OACA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,OACA,QACA,QACA,QACA,OACA,QACA,QACA,QACA,MACA,MACA,MACA,MACA,QACA,OACH,EACD,WAAc,CACV,MACA,OACA,OACA,GACH,EACD,UAAa,CACT,IACH,EACD,KAAQ,CACJ,IACA,IACZ,CACK,EACD,MAAS,CACL,QAAS,oBACT,gBAAiB,iEACjB,SAAU,qBACV,cAAe,wBACf,mBAAoB,uBACpB,qBAAsB,qBACtB,qBAAsB,+BACtB,0BAA2B,2EAC3B,sBAAuB,0CACvB,SAAU,qBACV,SAAU,qBACV,UAAW,mCACX,WAAc,qBACd,SAAU,2DACV,eAAgB,6BAChB,gBAAiB,MACjB,qBAAsB,qGACtB,cAAe,+EACf,kBAAmB,0IACnB,KAAQ,mCACR,oBAAqB,yBACrB,cAAe,0EACf,WAAY,eACZ,WAAY,uFACZ,cAAe,8NACf,UAAW,gDACX,SAAU,mBACV,aAAc,kJACd,IAAO,qCACP,eAAgB,oCAChB,SAAU,qBACV,WAAY,6CACZ,eAAgB,gDAChB,aAAc,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",
  "names": ["classNames", "NODE_TYPE", "findElement", "node", "selector", "activeGrids", "styleGrid", "grid", "initializeMasonryGrid", "element", "style", "i", "resizeObserver", "cleanupMasonryGrid", "mutationObserver", "mutations", "mutation", "Token", "IdentToken", "value", "__publicField", "this", "FunctionToken", "AtKeywordToken", "HashToken", "type", "StringToken", "BadStringToken", "UrlToken", "BadUrlToken", "DelimToken", "NumberToken", "PercentageToken", "DimensionToken", "unit", "WhitespaceToken", "CDOToken", "CDCToken", "ColonToken", "SemicolonToken", "CommaToken", "LeftSquareBracketToken", "RightSquareBracketToken", "LeftParenthesisToken", "RightParenthesisToken", "LeftCurlyBracketToken", "RightCurlyBracketToken", "InputStream", "input", "consume", "codePoint", "codePointAt", "index", "String", "fromCodePoint", "length", "peek", "codePoints", "position", "i", "nextCodePoint", "push", "isNewline", "isWhitespace", "isDigit", "isHexDigit", "isIdentStartCodePoint", "isIdentCodePoint", "isNonPrintableCodePoint", "validEscape", "firstCodePoint", "secondCodePoint", "startsIdentSequence", "thirdCodePoint", "startsNumber", "consumeEscapedCodePoint", "digits", "number", "parseInt", "consumeStringToken", "endingCodePoint", "stringToken", "reconsume", "consumeIdentSequence", "result", "consumeNumericToken", "repr", "includes", "parseFloat", "consumeRemnantsOfBadUrl", "consumeIdentLikeToken", "str", "match", "urlToken", "consumeToken", "lookahead", "hashToken", "canonicalUnits", "Set", "isCanonical", "has", "toLowerCase", "normalizeAxis", "axis", "computedStyle", "Error", "horizontalWritingMode", "writingMode", "TypeError", "splitIntoComponentValues", "res", "consumeComponentValue", "level", "startIndex", "nextChar", "slice", "test", "consumeWhitespace", "groupBy", "items", "key", "reduce", "groups", "item", "get", "set", "Map", "partition", "callbackFn", "partA", "partB", "simplifyCalculation", "root", "info", "simplifyNumericArray", "values", "Array", "from", "map", "CSSUnitValue", "percentageReference", "resolvedValue", "resolvedUnit", "sum", "toSum", "fontSize", "CSSKeywordValue", "Math", "E", "PI", "operator", "CSSMathSum", "CSSMathProduct", "CSSMathNegate", "CSSMathClamp", "lower", "upper", "CSSMathInvert", "CSSMathMin", "CSSMathMax", "children", "every", "child", "apply", "numeric", "rest", "unitGroups", "some", "group", "combinedGroups", "sumValuesWithSameUnit", "numericValues", "filter", "c", "entries", "a", "numbers", "product", "failure", "baseTypes", "fontRelativeLengths", "units", "viewportRelativeLengths", "absoluteLengths", "compatible", "canonicalUnit", "ratios", "cm", "mm", "Q", "in", "pc", "pt", "px", "angle", "deg", "grad", "rad", "turn", "time", "s", "ms", "frequency", "hz", "khz", "resolution", "dpi", "dpcm", "dppx", "unitToCompatibleUnitsMap", "Object", "getSetOfCompatibleUnits", "productOfTwoUnitMaps", "units1", "units2", "keys", "createAType", "percent", "flex", "createSumValue", "cssNumericValue", "compatibleUnits", "tempUnionMap", "power", "newValues", "temp", "item1", "item2", "to", "SyntaxError", "sumValue", "cssUnitValue", "oldUnit", "oldValue", "oldCompatibleUnitGroup", "compatibleUnitGroup", "createCSSUnitValue", "sumValueItem", "unitMap", "entry", "multiplyTypes", "type1", "type2", "percentHint", "finalType", "baseType", "CSSFunction", "name", "CSSSimpleBlock", "associatedToken", "normalizeIntoTokenStream", "isArray", "tokens", "token", "shift", "currentInputToken", "endingTokenConstructor", "simpleBlock", "unshift", "func", "nextToken", "precedence", "last", "toNAryAstNode", "operatorToken", "first", "second", "firstValues", "secondValues", "transformToCSSNumericValue", "node", "reifyMathExpression", "reifyNumericValue", "num", "numericValue", "operatorStack", "tree", "o2", "pop", "simplifiedValue", "e", "CSSStyleSheet", "insertRule", "parseCSSNumericValue", "cssText", "returnValue", "privateDetails", "WeakMap", "toCssNumericArray", "v", "CSSNumericValue", "CSSMathValue", "opt_name", "opt_delimiter", "delimiter", "toString", "details", "join", "cssOMTypes", "super", "arguments", "constructor", "window", "CSS", "Reflect", "defineProperty", "forEach", "DEFAULT_TIMELINE_AXIS", "scrollTimelineOptions", "sourceDetails", "ANIMATION_RANGE_NAMES", "scrollEventSource", "source", "document", "scrollingElement", "updateInternal", "scrollTimelineInstance", "validateSource", "animations", "timelineTime", "currentTime", "tickAnimation", "directionAwareScrollOffset", "sourceMeasurements", "style", "getComputedStyle", "currentScrollOffset", "scrollTop", "abs", "scrollLeft", "resolvePx", "cssValue", "timeline", "ViewTimeline", "anonymousSource", "getAnonymousSourceElement", "anonymousTarget", "updateSource", "subject", "display", "getScrollParent", "isValidAxis", "measureSource", "scrollWidth", "scrollHeight", "clientWidth", "clientHeight", "direction", "scrollPaddingTop", "scrollPaddingBottom", "scrollPaddingLeft", "scrollPaddingRight", "measureSubject", "top", "left", "ancestor", "offsetParent", "offsetLeft", "offsetTop", "clientLeft", "clientTop", "offsetWidth", "offsetHeight", "updateMeasurements", "ref", "timelineRefs", "deref", "subjectMeasurements", "updateScheduled", "setTimeout", "timelineDetails", "oldSource", "delete", "undefinedRefs", "size", "disconnect", "resizeObserver", "ResizeObserver", "observe", "mutationObserver", "MutationObserver", "records", "record", "target", "attributes", "attributeFilter", "scrollListener", "addEventListener", "removeEventListener", "add", "WeakRef", "removeAnimation", "scrollTimeline", "animation", "splice", "addAnimation", "queueMicrotask", "ScrollTimeline", "options", "inset", "element", "duration", "phase", "container", "scrollerStyle", "overflow", "isConnected", "unresolved", "scrollPos", "maxScrollPos", "__polyfill", "findClosestAncestor", "matcher", "candidate", "parentElement", "sourceType", "isBlockContainer", "isFixedElementContainer", "transform", "perspective", "willChange", "backdropFilter", "isAbsoluteElementContainer", "getContainingBlock", "body", "range", "calculateRange", "optionsInset", "rtl", "viewSize", "viewPos", "sizes", "scrollPadding", "containerSize", "start", "end", "part", "coverStartOffset", "coverEndOffset", "alignStartOffset", "alignEndOffset", "containStartOffset", "min", "containEndOffset", "max", "startOffset", "endOffset", "subjectIsLargerThanScrollport", "fractionalOffset", "rangeName", "offset", "calculateRelativePosition", "sourceScrollDistance", "unsupportedTimeline", "phaseRange", "coverRange", "$e", "parts", "parse", "offsets", "progress", "nativeDocumentGetAnimations", "getAnimations", "nativeElementGetAnimations", "Element", "prototype", "nativeElementAnimate", "animate", "nativeAnimation", "Animation", "PromiseWrapper", "state", "nativeResolve", "nativeReject", "promise", "Promise", "resolve", "reject", "reason", "catch", "createReadyPromise", "readyPromise", "requestAnimationFrame", "t", "_a", "autoAlignStartTime", "pendingTask", "startTime", "holdTime", "commitPendingPause", "commitPendingPlay", "createAbortError", "DOMException", "toCssNumberish", "rangeDuration", "limit", "effectEnd", "fromCssNumberish", "convertedTime", "applyPendingPlaybackRate", "playbackRate", "pendingPlaybackRate", "currentTimeToMatch", "proxy", "updateFinishedState", "syncCurrentTime", "readyTime", "commitFinishedNotification", "finishedPromise", "playState", "pause", "finishedEvent", "CustomEvent", "detail", "dispatchEvent", "effectivePlaybackRate", "calculateCurrentTime", "didSeek", "synchronouslyNotify", "unconstrainedCurrentTime", "pending", "upperBound", "boundary", "previousCurrentTime", "then", "timing", "effect", "getTiming", "normalizedTiming", "totalDuration", "delay", "endDelay", "iterations", "setNativeCurrentTime", "delta", "playInternal", "autoRewind", "abortedPause", "hasPendingReadyPromise", "bind", "proxyAnimations", "cancel", "timelineTimeMs", "renormalizeTiming", "specifiedTiming", "proxiedAnimations", "previousRangeDuration", "animationRange", "rangeStart", "getNormalStartRange", "console", "warn", "rangeEnd", "getNormalEndRange", "unsupportedTimeline$1", "parseAnimationRange", "rangeNames", "split", "parseTimelineRangePart", "ProxyAnimation", "animOptions", "isScrollAnimation", "nativeUpdateTiming", "updateTiming", "getComputedTimingHandler", "localTime", "endTime", "activeDuration", "iteration_duration", "getTimingHandler", "thisArg", "assign", "Infinity", "autoDurationEffect", "updateTimingHandler", "argumentsList", "Proxy", "obj", "prop", "getComputedTiming", "newEffect", "newTimeline", "oldTimeline", "previousPlayState", "previousProgress", "fromScrollTimeline", "toScrollTimeline", "play", "seekTime", "replaceState", "finish", "reverse", "inifiniteDuration", "reversable", "updatePlaybackRate", "rate", "persist", "id", "onfinish", "oncancel", "onremove", "finished", "ready", "callback", "event", "keyframes", "proxyAnimation", "replaceProxiedAnimations", "animationsList", "elementGetAnimations", "documentGetAnimations", "RegexMatcher", "IDENTIFIER", "WHITE_SPACE", "NUMBER", "TIME", "SCROLL_TIMELINE", "SCROLL_TIMELINE_NAME", "SCROLL_TIMELINE_AXIS", "VIEW_TIMELINE", "VIEW_TIMELINE_NAME", "VIEW_TIMELINE_AXIS", "VIEW_TIMELINE_INSET", "ANIMATION_TIMELINE", "ANIMATION_TIME_RANGE", "ANIMATION_NAME", "ANIMATION", "ANONYMOUS_SCROLL_TIMELINE", "ANONYMOUS_VIEW_TIMELINE", "TIMELINE_AXIS_TYPES", "ANONYMOUS_TIMELINE_SOURCE_TYPES", "parser", "cssRulesWithTimelineName", "nextAnonymousTimelineNameIndex", "anonymousScrollTimelineOptions", "anonymousViewTimelineOptions", "sourceSelectorToScrollTimeline", "subjectSelectorToViewTimeline", "keyframeNamesSelectors", "sheetSrc", "firstPass", "srcUrl", "p", "eatWhitespace", "lookAhead", "eatComment", "rule", "parseQualifiedRule", "parseKeyframesAndSaveNameMapping", "handleScrollTimelineProps", "animationName", "current", "matches", "selector", "timelineName", "anonymousTimelineOptions", "getAnonymousScrollTimelineOptions", "findPreviousSiblingOrAncestorMatchingSelector", "previousElementSibling", "getAnonymousViewTimelineOptions", "hasAnimationName", "block", "contents", "hasAnimationTimeline", "hasAnimation", "saveSourceSelectorToScrollTimeline", "saveSubjectSelectorToViewTimeline", "timelineNames", "animationNames", "shouldReplacePart", "extractScrollTimelineNames", "extractMatches", "shorthand", "extractAnimationName", "hasDuration", "hasAutoDuration", "replace", "replacePart", "endIndex", "saveRelationInList", "hasScrollTimeline", "hasScrollTimelineName", "hasScrollTimelineAxis", "timelines", "scrollTimelines", "st", "names", "axes", "extractedAxes", "hasViewTimeline", "hasViewTimelineName", "hasViewTimelineAxis", "hasViewTimelineInset", "viewTimelines", "tl", "insets", "isTime", "exec", "animationRanges", "maxLength", "trim", "startsWith", "saveAnonymousTimelineName", "parseAnonymousScrollTimeline", "parseAnonymousViewTimeline", "anonymousMatch", "findMatchingEntryInContainer", "lastIndex", "parseError", "mapping", "replaceKeyframesAndGetMapping", "hasPhase", "open", "indexes", "foundPhaseLinkedOffset", "newContents", "substring", "allFrameSelectors", "replacedFrameSelectors", "currentFrameSelector", "trimmedFrameSelector", "h", "newFrameSelector", "parseSelector", "eatBlock", "substr", "replacement", "assertString", "eatUntil", "advance", "msg", "replaceWithSpace", "repeat", "separator", "relativePosition", "createScrollTimeline", "anim", "getAnimationTimelineOptions", "getScrollTimelineOptions", "getViewTimelineOptions", "calculateNewOffset", "keyframe", "newOffset", "newKeyframes", "getKeyframes", "sortedKeyframes", "sort", "b", "affset", "setKeyframes", "initCSSPolyfill", "supports", "handleStyleTag", "el", "innerHTML", "dataset", "newSrc", "transpileStyleSheet", "handleLinkedStylesheet", "linkElement", "rel", "href", "URL", "baseURI", "origin", "location", "fetch", "getAttribute", "async", "response", "text", "blob", "Blob", "url", "createObjectURL", "setAttribute", "addedNode", "addedNodes", "HTMLStyleElement", "HTMLLinkElement", "documentElement", "childList", "subtree", "querySelectorAll", "tag", "oldSupports", "ident", "replaceAll", "evt", "initPolyfill", "clampProp", "n", "t", "o", "r", "clampEntity", "getDefinedProp", "i", "a", "clampNumber", "numberOutOfRange", "missingField", "z", "Jn", "D", "p", "T", "e", "O", "h", "zipProps", "b", "remapProps", "Vn", "V", "nn", "C", "allPropsEqual", "zeroOutProps", "E", "capitalize", "sortStrings", "padNumber", "compareNumbers", "divModFloor", "modFloor", "divModTrunc", "divTrunc", "modTrunc", "hasHalf", "givenFieldsToBigNano", "Xr", "s", "Qr", "c", "u", "nanoToGivenFields", "un", "X", "si", "cn", "li", "ln", "l", "m", "S", "d", "requireNumberIsPositive", "requireNumberIsInteger", "Mi", "on", "requirePropDefined", "de", "hr", "requireType", "invalidEntity", "expectedInteger", "expectedPositive", "toString", "pr", "toStringViaPrimitive", "toBigInt", "invalidBigInt", "toNumber", "forbiddenBigIntToNumber", "expectedFinite", "toInteger", "toStrictInteger", "toPositiveInteger", "createBigNano", "addBigNanos", "moveBigNano", "re", "te", "bigNanoOutside", "bigIntToBigNano", "he", "bigNanoToBigInt", "oe", "divModBigNano", "hashIntlFormatParts", "checkIsoYearMonthInBounds", "Li", "Ai", "checkIsoDateInBounds", "checkIsoDateTimeInBounds", "Dt", "checkEpochNanoInBounds", "isoToEpochNano", "Ui", "qi", "Cr", "isoTimeFieldsToNano", "j", "nanoToIsoTimeAndDay", "epochNanoToSec", "epochNanoToSecMod", "_r", "isoToEpochMilli", "isoArgsToEpochMilli", "Gr", "be", "Vr", "isoToEpochNanoWithOffset", "isoArgsToEpochSec", "Hr", "isoToLegacyDate", "Ie", "epochMilliToIso", "zi", "wi", "computeIsoDateParts", "computeIsoMonthsInYear", "xi", "computeIsoDaysInMonth", "computeIsoInLeapYear", "computeIsoDaysInYear", "computeIsoDayOfWeek", "computeGregoryEraParts", "computeJapaneseEraParts", "$i", "La", "Ti", "parseIntlYear", "checkIsoDateTimeFields", "checkIsoDateFields", "constrainIsoTimeFields", "constrainIsoDateFields", "isIsoDateFieldsValid", "Oi", "H", "ua", "wn", "normalizeOptions", "la", "fa", "ve", "_t", "sa", "refineDiffOptions", "parseRoundingIncInteger", "ha", "aa", "checkLargestSmallestUnit", "refineRoundingInc", "refineRoundingOptions", "normalizeOptionsOrString", "Hi", "refineDateDisplayOptions", "da", "refineTimeDisplayOptions", "refineTimeDisplayTuple", "refineSubsecDigits", "refineSmallestUnitAndSubsecDigits", "_i", "Ji", "U", "overrideOverflowOptions", "Xi", "refineUnitOption", "$r", "Ei", "invalidChoice", "Et", "refineChoiceOption", "Ar", "_", "Oe", "Yn", "Te", "ee", "We", "Yi", "v", "J", "Bi", "createPlainYearMonthSlots", "L", "createPlainMonthDaySlots", "q", "Ge", "xe", "ki", "Vt", "qt", "computeDurationSign", "Ni", "M", "y", "N", "B", "extractEpochNano", "I", "isIdLikeEqual", "Ut", "getMaxDurationUnit", "Vi", "Ki", "ca", "isUniformUnit", "totalDayTimeDuration", "zr", "createMarkerSystem", "f", "createMarkerToEpochNano", "createMoveMarker", "createDiffMarkers", "clampRelativeDuration", "bi", "computeEpochNanoFrac", "F", "durationFieldsToBigNano", "vr", "ce", "roundBigNano", "Pn", "fn", "we", "roundWithMode", "computeDayInterval", "getMatchingInstantFor", "roundDateTime", "dt", "Ee", "roundTimeToNano", "computeNanoInc", "dn", "Kr", "Cn", "computeDayFloor", "roundDateTimeToNano", "moveByDays", "roundByInc", "roundToMinute", "Jr", "Ci", "roundDayTimeDurationByInc", "nanoToDurationDayTimeFields", "roundBigNanoByInc", "roundRelativeDuration", "isZonedEpochSlots", "nudgeZonedTimeDuration", "nudgeDayTimeDuration", "nudgeRelativeDuration", "ga", "Fi", "g", "nanoToDurationTimeFields", "me", "formatIsoDateTimeFields", "Fe", "Ta", "In", "pa", "ma", "formatCalendar", "Tt", "yt", "formatIsoDateFields", "et", "formatDateLikeIso", "formatIsoYearMonthFields", "W", "formatIsoMonthDayFields", "qe", "formatIsoTimeFields", "zt", "negateDurationFields", "checkDurationTimeUnit", "formatSubsecNano", "formatDurationFragments", "formatDurationNumber", "formatCalendarId", "xr", "getSignStr", "Na", "_zonedEpochSlotsToIso", "mn", "kr", "Yr", "ne", "ae", "wr", "Br", "se", "durationHasDateParts", "qr", "hn", "moveZonedEpochs", "ct", "moveDateTime", "bt", "moveDate", "Qe", "moveToDayOfMonthUnsafe", "xt", "Si", "Ye", "moveTime", "diffZonedEpochsExact", "diffDateTimesExact", "Wt", "checkDurationUnits", "Gt", "Ur", "Rt", "Jt", "Rr", "vi", "ya", "Zr", "Pi", "createSplitTuple", "computePeriod", "Da", "pe", "parseDateTimeLike", "failedParse", "parseOffsetNano", "parseOffsetNanoMaybe", "Xt", "finalizeZonedDateTime", "finalizeDate", "Mn", "Ct", "finalizeDateTime", "At", "ot", "parseYearMonthOnly", "requireIsoCalendar", "invalidSubstring", "Q", "parseMonthDayOnly", "ze", "Ca", "organizeAnnotationParts", "organizeTimeParts", "Kt", "za", "parseUnit", "parseSubsecNano", "noValidFields", "parseSign", "sn", "Ne", "ye", "ie", "an", "resolveSlotsCalendar", "Ya", "organizeIsoYearParts", "Ba", "ka", "ji", "Za", "parseInt0", "Ra", "createRegExp", "Me", "getTimeZoneEssence", "Ua", "br", "getTimeZoneAtomic", "qa", "Ze", "yn", "$t", "gt", "rt", "He", "ue", "gn", "je", "ft", "It", "$e", "x", "Ve", "le", "diffEpochNanos", "Dn", "getCommonCalendarSlot", "Fr", "diffZonedEpochsBig", "ut", "diffDateTimesBig", "Ft", "diffDateLike", "Xe", "Ae", "diffTimes", "diffEpochNanosExact", "updateMid", "diffDays", "diffEpochMilliByDay", "Er", "createIntlCalendar", "epochMilliToIntlFields", "computeCalendarIdBase", "createIntlFieldCache", "createIntlYearDataCache", "Wi", "Wr", "parseIntlPartsYear", "Di", "eraYearToYear", "computeIntlDateParts", "computeIntlEpochMilli", "computeIntlLeapMonth", "queryMonthStrings", "getCalendarLeapMonthMeta", "computeIntlDaysInYear", "computeIntlDaysInMonth", "computeIntlMonthsInYear", "rn", "gi", "invalidCalendar", "computeNativeWeekOfYear", "computeNativeYearOfWeek", "computeNativeDayOfYear", "parseMonthCode", "Wa", "invalidMonthCode", "monthCodeNumberToMonth", "monthToMonthCodeNumber", "getCalendarEraOrigins", "getCalendarIdBase", "Ii", "Qt", "refineCalendarFields", "en", "ri", "refineTimeBag", "jn", "ti", "Pt", "w", "Yt", "nt", "fi", "K", "Ue", "refineFields", "ei", "Ht", "duplicateFields", "tn", "Ga", "hi", "Ha", "Sn", "mergeCalendarFields", "oi", "ni", "at", "Zt", "Ke", "k", "Be", "kt", "convertToPlainMonthDay", "pi", "convertToPlainYearMonth", "di", "convertToIso", "refineYear", "Dr", "gr", "invalidEra", "Ir", "missingYear", "refineMonth", "Pr", "Mr", "Nr", "refineDay", "spliceFields", "Se", "vn", "pt", "Nt", "tt", "G", "ke", "Lt", "fe", "Zn", "ht", "Bt", "bn", "Fn", "Re", "mt", "St", "Ot", "vt", "wt", "jt", "Mt", "_e", "R", "Je", "Le", "De", "Pe", "Ce", "ge", "pn", "Tn", "getPreferredCalendarSlot", "lt", "st", "it", "On", "createNativeOpsCreator", "Aa", "createOptionsTransformer", "qn", "Ns", "toEpochMillis", "Lr", "En", "An", "Bn", "Nn", "ys", "Z", "A", "P", "yr", "Ln", "kn", "jr", "ii", "ai", "ci", "ui", "mi", "$", "yi", "Zi", "Ri", "Gi", "Qi", "ea", "na", "ta", "oa", "ra", "ia", "Ia", "Ma", "IntlTimeZone", "FixedTimeZone", "getOffsetSec", "pinch", "Pa", "va", "Ea", "Sa", "Fa", "ba", "Oa", "wa", "ja", "xa", "$a", "Va", "_a", "Ja", "computeWeekShift", "computeWeeksInYear", "Ka", "Y", "Qa", "Xa", "es", "ns", "ts", "os", "rs", "is", "as", "ss", "cs", "us", "ls", "fs", "ds", "ms", "ps", "hs", "gs", "Ts", "Ds", "Is", "Ms", "createSlotClass", "o", "r", "Class", "e", "P", "oo", "bindMethod", "t", "getSpecificSlots", "D", "n", "no", "O", "T", "p", "h", "createProtocolValidator", "C", "g", "rejectInvalidBag", "Z", "createCalendarFieldMethods", "a", "i", "J", "toPlainDateSlots", "createCalendarGetters", "Y", "co", "neverValueOf", "A", "createCalendarFromSlots", "lr", "toPlainMonthDaySlots", "U", "z", "q", "H", "extractCalendarSlotFromBag", "K", "Qo", "X", "Q", "getOffsetNanosecondsForAdapter", "Co", "_", "ae", "u", "createAdapterOps", "ho", "E", "$", "createTimeZoneOps", "ie", "createTimeZoneOffsetOps", "Do", "toInstantSlots", "Oe", "Te", "pe", "toTemporalInstant", "he", "be", "getImplTransition", "refineTimeZoneSlot", "Fo", "ye", "Ne", "m", "toPlainTimeSlots", "xe", "We", "Ge", "Re", "Ue", "ze", "optionalToPlainTimeFields", "toPlainYearMonthSlots", "L", "nt", "Ho", "getCalendarSlotFromBag", "ot", "toPlainDateTimeSlots", "ee", "Dt", "ht", "Pt", "Ko", "Ct", "v", "Bt", "Yt", "At", "dayAdapter", "d", "Yo", "createCompoundOpsCreator", "toDurationSlots", "qt", "Ht", "Kt", "refinePublicRelativeTo", "Qt", "Xt", "refineCalendarSlot", "cr", "an", "sn", "toZonedDateTimeSlots", "wn", "jn", "Mn", "adaptDateMethods", "slotsToIso", "fn", "createDateTimeFormatClass", "En", "DateTimeFormat", "Or", "Vn", "Jn", "createFormatPrepperForBranding", "prepFormat", "kn", "createFormatMethod", "createProxiedMethod", "xn", "Ln", "qn", "Rn", "Wn", "s", "Gn", "Un", "zn", "Hn", "Kn", "Qn", "l", "c", "f", "Xn", "$n", "_n", "S", "eo", "to", "ro", "ao", "io", "so", "lo", "I", "uo", "b", "F", "fo", "j", "w", "mo", "M", "y", "N", "B", "So", "V", "Oo", "To", "po", "G", "k", "_o", "x", "R", "$o", "W", "No", "go", "te", "ne", "oe", "re", "Po", "Se", "se", "ar", "le", "ce", "ue", "de", "dr", "fe", "me", "De", "Pe", "Ce", "ge", "Ze", "Zo", "bo", "Me", "Fe", "Ie", "ve", "we", "je", "Io", "vo", "ke", "Be", "Ye", "Ae", "Ee", "Ve", "Je", "Le", "qe", "He", "wo", "jo", "Mo", "tt", "Ke", "Xo", "Qe", "nr", "Xe", "or", "$e", "_e", "et", "rt", "yo", "pt", "at", "it", "st", "lt", "ct", "er", "ut", "tr", "dt", "ft", "mt", "St", "Ot", "Tt", "gt", "Bo", "Ao", "Nt", "Zt", "bt", "Ft", "It", "vt", "wt", "jt", "Mt", "yt", "Eo", "Vo", "Jo", "Lo", "qo", "ko", "xo", "Ro", "Wo", "Vt", "Go", "ir", "Et", "Uo", "zo", "rr", "Lt", "Jt", "kt", "xt", "Rt", "Wt", "Gt", "Ut", "zt", "$t", "sr", "_t", "ln", "un", "cn", "en", "tn", "nn", "on", "rn", "ur", "vn", "dn", "mn", "Sn", "On", "Tn", "pn", "hn", "Dn", "Pn", "Cn", "gn", "Zn", "bn", "Fn", "In", "yn", "fr", "Nn", "Bn", "Yn", "An", "mr", "Sr", "Tr", "p", "mr", "Sr", "toTemporalInstant", "MediaClone", "ctx", "element", "live", "EOF", "Ident", "Function", "AtKeyword", "Hash", "String", "BadString", "Url", "BadUrl", "Delim", "Number", "Percentage", "Dimension", "WhiteSpace", "CDO", "CDC", "Colon", "Semicolon", "Comma", "LeftSquareBracket", "RightSquareBracket", "LeftParenthesis", "RightParenthesis", "LeftCurlyBracket", "RightCurlyBracket", "Comment", "isDigit", "code", "isHexDigit", "isUppercaseLetter", "isLowercaseLetter", "isLetter", "isNonAscii", "isNameStart", "isName", "isNonPrintable", "isNewline", "isWhiteSpace", "isValidEscape", "first", "second", "isIdentifierStart", "third", "isNumberStart", "isBOM", "CATEGORY", "EofCategory", "WhiteSpaceCategory", "DigitCategory", "NameStartCategory", "NonPrintableCategory", "i", "charCodeCategory", "getCharCode", "source", "offset", "getNewlineLength", "cmpChar", "testStr", "referenceCode", "cmpStr", "start", "end", "referenceStr", "testCode", "findWhiteSpaceStart", "findWhiteSpaceEnd", "findDecimalNumberEnd", "consumeEscaped", "maxOffset", "consumeName", "consumeNumber", "sign", "consumeBadUrlRemnants", "decodeEscaped", "escaped", "tokenNames", "MIN_SIZE", "adoptBuffer", "buffer", "size", "N", "F", "R", "computeLinesAndColumns", "host", "sourceLength", "startOffset", "lines", "columns", "line", "column", "OffsetToLocation", "startLine", "startColumn", "filename", "OFFSET_MASK", "TYPE_SHIFT", "balancePair", "FunctionToken", "TokenStream", "tokenize", "offsetAndType", "balance", "tokenCount", "balanceCloseType", "balanceStart", "firstCharOffset", "type", "balancePrev", "idx", "tokenType", "tokenIndex", "pos", "next", "startToken", "stopConsume", "cursor", "balanceEnd", "loop", "fn", "item", "tokens", "index", "onToken", "consumeNumericToken", "TYPE.Dimension", "TYPE.Percentage", "TYPE.Number", "consumeIdentLikeToken", "nameStartOffset", "TYPE.Function", "consumeUrlToken", "TYPE.Ident", "consumeStringToken", "endingCodePoint", "TYPE.String", "TYPE.BadString", "nextCode", "TYPE.Url", "TYPE.BadUrl", "TYPE.WhiteSpace", "TYPE.Hash", "TYPE.Delim", "TYPE.LeftParenthesis", "TYPE.RightParenthesis", "TYPE.Comma", "TYPE.CDC", "TYPE.Comment", "TYPE.Colon", "TYPE.Semicolon", "TYPE.CDO", "TYPE.AtKeyword", "TYPE.LeftSquareBracket", "TYPE.RightSquareBracket", "TYPE.LeftCurlyBracket", "TYPE.RightCurlyBracket", "releasedCursors", "List", "data", "prev", "prevOld", "prevNew", "nextOld", "nextNew", "array", "thisArg", "initialValue", "acc", "result", "before", "list", "oldItem", "newItemOrList", "createCustomError", "name", "message", "error", "errorStack", "MAX_LINE_LENGTH", "OFFSET_CORRECTION", "TAB_REPLACEMENT", "sourceFragment", "baseLine", "baseColumn", "extraLines", "processLines", "maxNumLength", "prelines", "precolumns", "endLine", "cutLeft", "SyntaxError", "readSequence", "recognizer", "children", "space", "context", "child", "NOOP", "EXCLAMATIONMARK", "NUMBERSIGN", "SEMICOLON", "LEFTCURLYBRACKET", "NULL", "createParseContext", "fetchParseValues", "dict", "processConfig", "config", "parseConfig", "createParser", "needPositions", "onParseError", "onParseErrorThrow", "locationMap", "parser", "node", "consumer", "fallback", "startIndex", "e", "fallbackNode", "offsetStart", "offsetEnd", "charCode", "str", "number", "tokenName", "m", "NumberToken", "head", "tail", "location", "source_", "options", "onComment", "loc", "value", "ast", "intToCharMap", "base64", "bigA", "bigZ", "littleA", "littleZ", "zero", "nine", "plus", "slash", "littleOffset", "numberOffset", "require$$0", "VLQ_BASE_SHIFT", "VLQ_BASE", "VLQ_BASE_MASK", "VLQ_CONTINUATION_BIT", "toVLQSigned", "aValue", "fromVLQSigned", "isNegative", "shifted", "base64Vlq", "encoded", "digit", "vlq", "aStr", "aIndex", "aOutParam", "strLen", "shift", "continuation", "getArg", "aArgs", "aName", "aDefaultValue", "exports", "urlRegexp", "dataUrlRegexp", "urlParse", "aUrl", "match", "urlGenerate", "aParsedUrl", "url", "MAX_CACHED_INPUTS", "lruMemoize", "f", "cache", "input", "temp", "normalize", "aPath", "path", "isAbsolute", "parts", "part", "up", "join", "aRoot", "aPathUrl", "aRootUrl", "joined", "relative", "level", "supportsNullProto", "obj", "identity", "s", "toSetString", "isProtoString", "fromSetString", "length", "compareByOriginalPositions", "mappingA", "mappingB", "onlyCompareOriginal", "cmp", "strcmp", "compareByOriginalPositionsNoSource", "compareByGeneratedPositionsDeflated", "onlyCompareGenerated", "compareByGeneratedPositionsDeflatedNoLine", "aStr1", "aStr2", "compareByGeneratedPositionsInflated", "parseSourceMapInput", "computeSourceURL", "sourceRoot", "sourceURL", "sourceMapURL", "parsed", "util", "has", "hasNativeMap", "ArraySet", "aArray", "aAllowDuplicates", "set", "len", "sStr", "isDuplicate", "aIdx", "arraySet", "generatedPositionAfter", "lineA", "lineB", "columnA", "columnB", "MappingList", "aCallback", "aThisArg", "aMapping", "mappingList", "base64VLQ", "require$$1", "require$$2", "require$$3", "SourceMapGenerator", "aSourceMapConsumer", "generatorOps", "generator", "mapping", "newMapping", "sourceFile", "sourceRelative", "content", "generated", "original", "aSourceFile", "aSourceContent", "aSourceMapPath", "newSources", "newNames", "aGenerated", "aOriginal", "aSource", "previousGeneratedColumn", "previousGeneratedLine", "previousOriginalColumn", "previousOriginalLine", "previousName", "previousSource", "nameIdx", "sourceIdx", "mappings", "aSources", "aSourceRoot", "key", "map", "SourceMapGenerator_1", "trackNodes", "generateSourceMap", "handlers", "activatedGenerated", "activatedMapping", "sourceMappingActive", "origHandlersNode", "nodeLine", "nodeColumn", "origHandlersEmit", "auto", "origHandlersResult", "PLUSSIGN", "HYPHENMINUS", "specPairs", "safePairs", "StringToken", "createMap", "pairs", "isWhiteSpaceRequired", "prevCode", "nextCharCode", "spec", "safe", "dr", "REVERSESOLIDUS", "processChildren", "delimeter", "processChunk", "chunk", "createGenerator", "types", "publicApi", "tokenBefore.safe", "tokenBefore", "createConvertor", "walk", "hasOwnProperty", "noop", "ensureFunction", "invokeForType", "getWalkersFromStructure", "nodeType", "structure", "walkers", "fieldTypes", "walker", "fieldType", "getTypesFromConfig", "createTypeIterator", "reverse", "fields", "contextName", "useContext", "walkReducer", "prevContextValue", "field", "ref", "createFastTraveralMap", "StyleSheet", "Atrule", "Rule", "Block", "DeclarationList", "createWalker", "iteratorsNatural", "iteratorsReverse", "breakWalk", "skipNode", "fastTraversalIteratorsNatural", "fastTraversalIteratorsReverse", "root", "walkNode", "enterRet", "enter", "iterators", "leave", "ret", "found", "generateMultiplier", "multiplier", "min", "max", "comma", "generateTypeOpts", "generateSequence", "decorate", "forceBraces", "compact", "combinator", "term", "internalGenerate", "generate", "defaultLoc", "locateMismatch", "matchResult", "longestMatch", "mismatchNode", "badNode", "mismatchOffset", "mismatchLength", "entries", "css", "token", "fromLoc", "buildLoc", "point", "extra", "SyntaxReferenceError", "referenceName", "SyntaxMatchError", "syntax", "keywords", "properties", "keyword", "getKeywordDescriptor", "property", "getPropertyDescriptor", "isCustomProperty", "getVendorPrefix", "secondDashIndex", "descriptor", "custom", "vendor", "hack", "prefix", "cssWideKeywords", "DISALLOW_SIGN", "ALLOW_SIGN", "isDelim", "skipSC", "getNextToken", "checkInteger", "valueOffset", "disallowSign", "consumeB", "offset_", "anPlusB", "QUESTIONMARK", "U", "startsWith", "hexSequence", "allowDash", "hexlen", "withQuestionMarkSequence", "consumed", "urange", "consumedHexLength", "calcFunctionNames", "charCodeAt", "eqStr", "actual", "expected", "eqStrAny", "isPostfixIeHack", "outOfRange", "opts", "numEnd", "num", "consumeFunction", "balanceStash", "scan", "calc", "expectedTokenType", "customIdent", "dashedIdent", "customPropertyName", "hexColor", "idSelector", "declarationValue", "anyValue", "dimension", "numberEnd", "reverseSolidusOffset", "unit", "percentage", "integer", "tokenTypes", "productionTypes", "createDemensionTypes", "units", "angle", "decibel", "frequency", "flex", "resolution", "semitones", "time", "createGenericTypes", "wr", "TAB", "SPACE", "Tokenizer", "AMPERSAND", "APOSTROPHE", "LEFTPARENTHESIS", "RIGHTPARENTHESIS", "ASTERISK", "COMMA", "HYPERMINUS", "LESSTHANSIGN", "GREATERTHANSIGN", "COMMERCIALAT", "LEFTSQUAREBRACKET", "RIGHTSQUAREBRACKET", "VERTICALLINE", "RIGHTCURLYBRACKET", "INFINITY", "NAME_CHAR", "_", "COMBINATOR_PRECEDENCE", "scanSpaces", "tokenizer", "scanWord", "scanNumber", "scanString", "readMultiplierRange", "readMultiplier", "range", "maybeMultiplied", "maybeToken", "ch", "readProperty", "readTypeRange", "readType", "readKeywordOrFunction", "regroupTerms", "terms", "combinators", "createGroup", "a", "b", "subgroupStart", "readImplicitGroup", "prevToken", "prevTokenPos", "peek", "readGroup", "parse", "astToTokens", "curNode", "tmp", "stringToTokens", "prepareTokens", "MATCH", "MISMATCH", "DISALLOW_EMPTY", "createCondition", "thenBranch", "elseBranch", "isFunctionType", "isEnumCapatible", "buildGroupMatchGraph", "atLeastOneTermMatched", "thenClause", "newGroupTerm", "buildMultiplierMatchGraph", "matchTerm", "buildMatchGraphInternal", "buildMatchGraph", "syntaxTree", "STUB", "TOKEN", "OPEN_SYNTAX", "CLOSE_SYNTAX", "EXIT_REASON_MATCH", "EXIT_REASON_MISMATCH", "EXIT_REASON_ITERATION_LIMIT", "ITERATION_LIMIT", "reverseList", "areStringsEqualCaseInsensitive", "isContextEdgeDelim", "isCommaContextStart", "isCommaContextEnd", "internalMatch", "state", "syntaxes", "moveToNextToken", "nextIndex", "stateSnapshotFromSyntax", "nextState", "matchStack", "syntaxStack", "thenStack", "pushThenStack", "pushElseStack", "elseStack", "addTokenToMatch", "syntaxStash", "openSyntax", "closeSyntax", "iterationCount", "exitReason", "matchFlag", "lastTokenIndex", "syntaxDict", "dictSyntax", "keywordName", "string", "matchAsTree", "matchGraph", "hostStack", "getTrace", "shouldPutToTrace", "hasMatch", "matchNode", "isType", "testNode", "isProperty", "isKeyword", "trace", "getFirstMatchNode", "getLastMatchNode", "matchFragments", "lexer", "findFragments", "nodes", "fragments", "isValidNumber", "isValidLocation", "createNodeStructureChecker", "warn", "valid", "genTypesList", "docsTypes", "processStructure", "docs", "getStructureFromConfig", "dumpMapSyntax", "syntaxAsAst", "dumpAtruleMapSyntax", "atrule", "valueHasVar", "syntaxHasTopLevelCommaMultiplier", "singleTerm", "buildMatchResult", "matched", "iterations", "matchSyntax", "useCssWideKeywords", "Lexer", "group", "collectWarning", "warns", "parent", "descName", "atruleName", "prelude", "descriptorName", "names.keyword", "propertyName", "names.property", "typeName", "typeSyntax", "declaration", "fallbackBasename", "syntaxRef", "validate", "broken", "brokenMap", "brokenTypes", "brokenProperties", "errors", "brokenTypesArray", "brokenPropertiesArray", "pretty", "appendOrSet", "sliceProps", "props", "prop", "mix", "dest", "src", "patch", "exists", "current", "descriptorValue", "createSyntax", "fromPlainObject", "toPlainObject", "extension", "base", "createSyntax$1", "definitions", "checkTokenIsInteger", "expectCharCode", "msg", "consumeRaw", "isDeclarationBlockAtrule", "walkContext", "isDeclaration", "nameLowerCase", "block", "DOLLARSIGN", "EQUALSSIGN", "CIRCUMFLEXACCENT", "TILDE", "getAttributeName", "expectIdent", "getOperator", "matcher", "flags", "consumeRule", "consumeRawDeclaration", "consumeDeclaration", "isStyleBlock", "FULLSTOP", "SOLIDUS", "likelyFeatureToken", "featureOrRange", "kind", "parentheses", "res", "consumeValueRaw", "consumeCustomPropertyRaw", "consumeValue", "startValueToken", "customProperty", "parseValue", "important", "valueStart", "getImportant", "getFeatureParser", "functionName", "valueParser", "readTerm", "readComparison", "expectColon", "left", "leftComparison", "middle", "rightComparison", "right", "xxx", "modifier", "mediaType", "condition", "ident", "identLowerCase", "selector", "nth", "consumeTerm", "getOffsetExcludeWS", "consumeUntil", "excludeWhiteSpace", "endOffset", "consumePrelude", "limit", "REVERSE_SOLIDUS", "QUOTATION_MARK", "decode", "firstChar", "decoded", "escapeStart", "escapeEnd", "encode", "apostrophe", "quote", "quoteCode", "wsBeforeHexIsNeeded", "eatIdentifierOrAsterisk", "eatHexSequence", "eatQuestionMarkSequence", "count", "scanUnicodeRange", "hexLength", "url.decode", "string.decode", "url.encode", "lexerConfig", "defaultRecognizer", "atrulePrelude", "getNode", "onWhiteSpace", "selector$1", "expressionFn", "varFn", "isPlusMinusOperator", "Td", "nonContainerNameKeywords", "container", "nested", "fontFace", "parseWithFallback", "parseFunctions", "importAtrule", "layer", "media", "nest", "page", "scope", "startingStyle", "supports", "parseLanguageRangeList", "selectorList", "identList", "langList", "pseudo", "Vd", "parserConfig", "walkerConfig", "createLexer", "find", "findLast", "findAll", "fork", "isPseudoElementSelector", "isRawNode", "isIdentifier", "isValue", "isSelector", "isRule", "VIEW_TRANSITION_ELEMENTS", "ATRULES", "getElementSelector", "pseudoElementSelector", "pseudoElement", "csstree.walk", "selectorString", "csstree.parse", "getNameDeclaration", "generateListItem", "csstree.List", "replaceDeclarations", "newDeclaration", "removeNonPolyfillCSS", "nestedRulesHaveName", "clearIrrelevantProperties", "hasTransitionName", "isPseudoElRule", "selectorPart", "replaceSelectors", "newSelector", "parseStyleString", "styleString", "csstree.generate", "parseStyles", "stylesheets", "styleElementsContents", "stylesheet", "linkedStylesheets", "linkedStylesheetsContents", "href", "responseText", "stylesheetContents", "parsedStyleStrings", "stylesheetString", "parsedString", "ViewTransitionImagePair", "CaptureElement", "captureElement", "ViewTransitionOld", "ViewTransitionNew", "_PolyfillInnerElement", "PolyfillInnerElement", "ViewTransitionImage", "polyfillInnerElement", "shadow", "scrollTop", "childMarginCollapsingEl", "objectFit", "fromWidth", "toWidth", "fromHeight", "toHeight", "scaleFunction", "scaleFactorX", "scaleFactorY", "fromAspectRatio", "toAspectRatio", "objectPosition", "oldWidth", "newWidth", "oldHeight", "newHeight", "objectPositionX", "objectPositionY", "oldContainerWidth", "oldContainerHeight", "newContainerWidth", "newContainerHeight", "oldLeft", "newLeft", "positionOffset", "oldTop", "newTop", "animationDuration", "CSSeasing", "fromTransform", "toTransform", "style", "objectPositionValues", "oldObjectPositionTranslate", "newObjectPositionTranslate", "ViewTransitionGroup", "initialValues", "image", "toggle", "values", "text", "stage", "caseConverter", "converted", "animations", "animationDurations", "rawDuration", "animationName", "animationEasings", "duration", "easing", "ImageData", "ViewTransitionElement", "DuplicateNamesError", "elements", "_ViewTransitionManager", "ViewTransition", "viewTransitionObject", "callback", "_a", "parsedStyleString", "reason", "afterNextPaint", "setElementVisibility", "finishedPromises", "animation", "setDocumentVisibility", "viewTransitionName", "cloneElementWithStyles", "styleTransform", "standaloneTranslate", "CSSTransformPropertyToFunction", "standaloneRotate", "standaloneScale", "standaloneTransforms", "elementPosition", "getElementPosition", "elementPositionTranslateFunction", "UAStyleEl", "usedTransitionNames", "capturedElements", "loopforNamedElements", "loopOverChildren", "isStylableElement", "viewTransitionGroup", "entry", "newAnimation", "resolvedPromises", "ViewTransitionManager", "defer", "resolve", "reject", "promise", "rej", "viewTransitionElement", "isElementUnallowed", "el", "isVoidElement", "isElementOutsideViewport", "rect", "linkProperties", "alwaysCloneProperties", "neverCloneProperties", "spacerProperties", "cloneAsSpacer", "clone", "div", "defaultStyle", "cloneElement", "mediaClone", "CSSProperties", "cloneID", "backgroundStyle", "cloningRoot", "styleElement", "beforePseudoEl", "styleEl", "afterPseudoEl", "scrollLeft", "elementChildren", "childHasName", "childClone", "transformProperty", "transformString", "transformValues", "getScrollOffset", "addOffset", "offsetPosition", "top", "offsetParent", "parentPosition", "scrollTopOffset", "scrollLeftOffset", "position", "elementOpacity", "getSerializedElementSelector", "pseudoAST", "csstree.find", "selectorAST", "isValidValue", "valueAST", "childrenArray", "csstree.toPlainObject", "getNameValue", "getFromStyleAttribute", "styleAttribute", "lastDeclaration", "csstree.findLast", "setStyleAttribute", "declarations", "csstree.findAll", "valueTree", "valueItem", "serialized", "declarationItem", "activeViewTransition", "startViewTransitionPolyfill", "viewTransitionManager", "mapStartViewTransition", "mapPolyfillViewTransitionAnimate", "animateFunction", "keyframes", "callAnimation", "elementName", "animationOptions", "keyframeEffect", "mapToGetAnimations", "getAnimations", "target", "pseudoElementString", "mapViewTransitionName", "originalStyle", "styleObject", "attribute"]
}
